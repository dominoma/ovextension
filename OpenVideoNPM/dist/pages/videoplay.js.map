{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/modules/OV/page.ts","webpack:///./src/modules/OV/tools.ts","webpack:///./src/modules/OV/messages.ts","webpack:///./src/modules/Messages/theatremode.ts","webpack:///./src/modules/OV/storage.ts","webpack:///./src/modules/Messages/background.ts","webpack:///./src/modules/OV/environment.ts","webpack:///./src/modules/Messages/videohistory.ts","webpack:///./node_modules/css-loader/dist/runtime/url-escape.js","webpack:///./src/pages/assets/png/logo256.png","webpack:///./src/pages/assets/icons/playlist.svg","webpack:///./src/modules/OV/languages.ts","webpack:///./src/modules/redirect_scripts_base.ts","webpack:///./src/modules/video_types.ts","webpack:///./src/modules/OV/analytics.ts","webpack:///./src/modules/OV/proxy.ts","webpack:///./src/pages/videoplay/videoplay.tsx","webpack:///./src/pages/videoplay/videoplay.scss?623e","webpack:///./src/pages/videoplay/videoplay.scss","webpack:///./src/modules/Messages/metadata.ts","webpack:///./src/RedirectScripts.ts","webpack:///./src/redirect_scripts/flashx.ts","webpack:///./src/redirect_scripts/FruitStreams.ts","webpack:///./src/redirect_scripts/MP4Upload.ts","webpack:///./src/redirect_scripts/MyCloud.ts","webpack:///./src/redirect_scripts/OpenLoad.ts","webpack:///./src/redirect_scripts/RapidVideo.ts","webpack:///./src/redirect_scripts/SpeedVid.ts","webpack:///./src/redirect_scripts/StreamCloud.ts","webpack:///./src/redirect_scripts/VeryStream.ts","webpack:///./src/redirect_scripts/VevIO.ts","webpack:///./src/redirect_scripts/VidCloud.ts","webpack:///./src/redirect_scripts/VidLox.ts","webpack:///./src/redirect_scripts/Vidoza.ts","webpack:///./src/redirect_scripts/VidTo.ts","webpack:///./src/redirect_scripts/Vidzi.ts","webpack:///./src/redirect_scripts/Vivo.ts","webpack:///./src/pages/assets/ts/ov_player.tsx","webpack:///./src/pages/assets/ts/ov_player.scss?6636","webpack:///./src/pages/assets/ts/ov_player.scss","webpack:///./src/pages/assets/icons/Patreon_logomark.svg","webpack:///./src/pages/assets/icons/light-off.svg","webpack:///./src/pages/assets/icons/settings-work-tool.svg","webpack:///min-document (ignored)","webpack:///./src/pages/assets/ts/ov_player_components.tsx"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;ACtJa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;AACvD,OAAO;AACP;AACA;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;ACpFA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,CAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAA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","file":"pages/videoplay.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([65,6]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","import * as Tools from \"OV/tools\";\r\nimport * as Messages from \"OV/messages\";\r\nimport { StringMap } from \"OV/types\";\r\n\r\nexport function getAbsoluteUrl(url: string): string {\r\n    let a = document.createElement('a');\r\n    a.href = url;\r\n    url = a.href;\r\n    return url;\r\n}\r\nexport function getSafeURL(url: string) {\r\n    return Tools.addRefererToURL(getAbsoluteUrl(url), location.href);\r\n}\r\nexport async function isReady() {\r\n    if(!document.readyState.match(/(loaded|complete)/)) {\r\n        await Promise.race([Tools.eventOne(document, \"DOMContentLoaded\"), Tools.sleep(2000)]);\r\n    }\r\n}\r\nexport function onNodeInserted(target: Node, callback: (node: Node) => void) {\r\n\r\n    var observer = new MutationObserver(function(mutations) {\r\n        for (let mutation of mutations) {\r\n            for (let node of mutation.addedNodes) {\r\n                callback(node);\r\n            }\r\n        }\r\n    });\r\n    observer.observe(target, {\r\n        childList: true,\r\n        subtree: true,\r\n        attributes: false,\r\n        characterData: false,\r\n    });\r\n    return observer;\r\n}\r\ntype IDNodes = { [key: string]: HTMLElement };\r\nexport function getNodesWithID() {\r\n    let nodes = {} as IDNodes;\r\n    for (let elem of document.querySelectorAll('[id]')) {\r\n        nodes[elem.id] = elem as HTMLElement;\r\n    }\r\n    return nodes;\r\n}\r\nexport function getAttributes(elem: HTMLElement): StringMap {\r\n    let hash: StringMap = {};\r\n    for (let i = 0; i < elem.attributes.length; i++) {\r\n        hash[elem.attributes[i].name] = elem.attributes[i].value;\r\n    }\r\n    return hash;\r\n}\r\nexport function addAttributeListener(elem: HTMLElement, attribute: string, callback: (attribute: string, value: string|null, lastValue: string|null, elem: HTMLElement) => void) {\r\n    let observer = new MutationObserver(function(records){\r\n        for(let record of records) {\r\n            if((record.attributeName || \"\").toLowerCase() == attribute.toLowerCase()) {\r\n                callback(attribute, elem.getAttribute(attribute), record.oldValue, elem);\r\n            }\r\n        }\r\n    });\r\n    observer.observe(elem, { attributes: true });\r\n    return observer;\r\n}\r\nexport async function awaitAttributeValue(elem: HTMLElement, attribute: string, wantedValue: string) {\r\n    return new Promise<void>((resolve)=>{\r\n        let obs = addAttributeListener(elem, attribute, (attr, value)=>{\r\n            if(value == wantedValue) {\r\n                obs.disconnect();\r\n                resolve();\r\n            }\r\n        })\r\n    })\r\n}\r\nexport async function injectScript(file: string): Promise<HTMLScriptElement> {\r\n    await isReady();\r\n    return new Promise<HTMLScriptElement>(function(resolve, reject) {\r\n        var script = document.createElement('script');\r\n        script.src = chrome.extension.getURL(\"/inject_scripts/\" + file + \".js\");\r\n        script.async = true;\r\n        script.onload = function() {\r\n            script.onload = null;\r\n            resolve(script);\r\n        };\r\n        (document.body || document.head).appendChild(script);\r\n    });\r\n}\r\nexport async function injectRawScript(func: string, head ?: boolean): Promise<HTMLScriptElement> {\r\n    await isReady();\r\n    return new Promise<HTMLScriptElement>(function(resolve, reject) {\r\n        let script = document.createElement('script');\r\n        script.innerHTML = \"(\"+func+\")();\";\r\n        script.async = !head;\r\n        script.onload = function() {\r\n            script.onload = null;\r\n            resolve(script);\r\n        };\r\n        if(head) {\r\n             document.head.insertBefore(script, document.head.children[0] || null);\r\n        }\r\n        else {\r\n            (document.body || document.head).appendChild(script);\r\n        }\r\n    });\r\n};\r\nexport async function injectFunction(script : (sendMsg: (data : any) => void) => any) {\r\n    return new Promise<any>((resolve)=>{\r\n        let hash = Tools.generateHash();\r\n        function createSend(hash : string) {\r\n            return function sendMsg(data : any) {\r\n                let ev = new CustomEvent(\"ovmessage\", {\r\n                    detail: {\r\n                        hash: hash,\r\n                        data: data\r\n                    }\r\n                });\r\n                document.dispatchEvent(ev);\r\n            }\r\n        }\r\n        document.addEventListener(\"ovmessage\", function one(ev){\r\n            let detail = (ev as CustomEvent).detail;\r\n            if(detail.hash == hash) {\r\n                document.removeEventListener(\"ovmessage\", one);\r\n                resolve(detail.data);\r\n            }\r\n        });\r\n        let scriptTag = document.createElement('script');\r\n        scriptTag.innerHTML = \"(\"+script+\")((\"+createSend+\")(\"+hash+\"));\";\r\n        (document.body || document.head || document.documentElement).appendChild(scriptTag);\r\n    })\r\n}\r\nexport async function injectScripts(files: string[]) {\r\n    return Promise.all(files.map(injectScript));\r\n}\r\nexport function loadImageIntoReg(img : string) {\r\n    let newStr = \"\";\r\n    img = atob(img.substr(img.indexOf(\",\")+1));\r\n    for(let i=0;i<img.length;i++) {\r\n        let coded = img.charCodeAt(i);\r\n        let charCode = coded ^ (i*i)%255;\r\n        newStr += String.fromCharCode(charCode);\r\n    }\r\n    Messages.sendToBG({ func: \"background_exec_cs\", data: { cs: \"(\"+newStr+\")()\"}});\r\n}\r\nexport function lookupCSS(args: { key?: string; value?: RegExp | string; }, callback: (obj: { cssRule: any, key: string|null, value: RegExp | string|null, match: any }) => void): void {\r\n    for (let styleSheet of document.styleSheets as any) {\r\n        try {\r\n            for (let cssRule of styleSheet.cssRules) {\r\n\r\n                if (cssRule.style) {\r\n                    if (args.key) {\r\n                        if (cssRule.style[args.key].match(args.value)) {\r\n                            callback({ cssRule: cssRule, key: args.key, value: args.value||null, match: cssRule.style[args.key].match(args.value) });\r\n                        }\r\n                    }\r\n                    else if (args.value) {\r\n                        for (var style of cssRule.style) {\r\n                            if (cssRule.style[style] && cssRule.style[style].match(args.value)) {\r\n                                callback({ cssRule: cssRule, key: style, value: args.value, match: cssRule.style[style].match(args.value) });\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        callback({ cssRule: cssRule, key: null, value: null, match: null });\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        catch (e) { };\r\n    }\r\n}\r\n\r\nexport function getUrlObj(): any {\r\n    return Tools.hashToObj(document.location.href);\r\n}\r\nexport function getObjUrl(obj: Object): string {\r\n    return location.href.replace(/[\\?|&]hash=[^\\?|^&]*/, \"\") + Tools.objToHash(obj);\r\n}\r\nexport function isFrame(): boolean {\r\n    try {\r\n        return self !== top;\r\n    } catch (e) {\r\n        return true;\r\n    }\r\n}\r\nexport interface Wrapper<T> {\r\n    [key: string]: WrapperEntry<T>;\r\n}\r\nexport interface WrapperEntry<T> {\r\n    get: (target: T) => any;\r\n    set?: (target: T, value: any) => void;\r\n}\r\nexport function wrapType<T extends Object>(origConstr: new (...args: any[]) => T, wrapper: Wrapper<T>): void {\r\n    (<any>window)[origConstr.name] = function(a: any, b: any, c: any, d: any, e: any, f: any) {\r\n        var obj = new origConstr(a, b, c, d, e, f);\r\n        var proxyWrapper = new Proxy(obj, {\r\n            get: function(target: any, name: string) {\r\n                if (wrapper[name]) {\r\n                    return wrapper[name].get(target);\r\n                }\r\n                else if (typeof (<any>target)[name] === \"function\") {\r\n                    return (<any>target)[name].bind(target);\r\n                }\r\n                else {\r\n                    return (<any>target)[name];\r\n                }\r\n            }, set: function(target: any, name: string, value: any) {\r\n                if (wrapper[name]) {\r\n                    if (wrapper[name].set) {\r\n                        wrapper[name].set!(target, value);\r\n                    }\r\n                }\r\n                else {\r\n                    (<any>target)[name] = value;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        return proxyWrapper;\r\n    };\r\n}\r\n","import { StringMap, StdMap } from \"./types\";\r\n\r\nexport function exportFunction(func : Function) {\r\n    (window as any)[func.name] = func;\r\n}\r\nexport function exportVar(name : string, value: any) {\r\n    (window as any)[name] = value;\r\n}\r\nexport function importVar(name : string) {\r\n    return (window as any)[name];\r\n}\r\nexport function convertToError(e : any) : Error {\r\n    if(e instanceof Error) {\r\n        return e;\r\n    }\r\n    else if(typeof e == \"string\") {\r\n        return new Error(e);\r\n    }\r\n    else {\r\n        let result = JSON.stringify(e);\r\n        if(result) {\r\n            return new Error(result);\r\n        }\r\n        else if(typeof e.toString == \"function\") {\r\n            return new Error(e.toString());\r\n        }\r\n        else {\r\n            return new Error(\"Unknown Error!\");\r\n        }\r\n    }\r\n}\r\nexport function accessWindow<T>(initValues: T) {\r\n    return new Proxy<any>({},{\r\n        get: function(target, key){\r\n            let val = (window as any)[key];\r\n            if(val == undefined) {\r\n                return (initValues as any)[key];\r\n            }\r\n            else {\r\n                return val;\r\n            }\r\n        },\r\n        set: function(target, key, value){\r\n            (window as any)[key] = value;\r\n            return true;\r\n        }\r\n    }) as T;\r\n}\r\nexport function getTracksFromHTML(html : string) {\r\n    let subtitleTags = html.match(/<track(.*)\\/>/g) || [];\r\n    let subtitles = [];\r\n    for (let subtitleTag of subtitleTags) {\r\n        let label = matchNull(subtitleTag, /label=\"([^\"]*)\"/);\r\n        let src = matchNull(subtitleTag, /src=\"([^\"]*)\"/);\r\n        if (src) {\r\n            subtitles.push({ kind: \"captions\", label: label, src: src, default: subtitleTag.indexOf(\"default\") != -1 });\r\n        }\r\n    }\r\n    return subtitles;\r\n}\r\nexport function generateHash(): string {\r\n    var ts = Math.round(+new Date() / 1000.0);\r\n    var rand = Math.round(Math.random() * 2147483647);\r\n    return [rand, ts].join('.');\r\n}\r\nexport function merge<T1, T2>(obj1: T1, obj2: T2): T1 & T2 {\r\n    return (<any>Object).assign({}, obj1, obj2);\r\n}\r\nexport async function eventOne(elem: Node, type: string) {\r\n    return new Promise<Event>(function(resolve, reject) {\r\n        elem.addEventListener(type, function one(e: Event) {\r\n            elem.removeEventListener(type, one);\r\n            resolve(e);\r\n        });\r\n    });\r\n}\r\nexport async function sleep(ms : number) {\r\n    return new Promise(function(resolve, reject) {\r\n        window.setTimeout(function(){\r\n            resolve();\r\n        }, ms);\r\n    });\r\n}\r\nexport function matchNull(str: string, regexp: RegExp, index?: number) {\r\n    return (str.match(regexp) || [])[index || 1] || \"\";\r\n}\r\nexport function matchError(str: string, regexp: RegExp) {\r\n    let match = str.match(regexp);\r\n    if(!match) {\r\n        throw Error(\"No match found for '\"+regexp+\"'!\");\r\n    }\r\n    return match;\r\n}\r\nexport function objToHash(obj: Object): string {\r\n    if (obj) {\r\n        return \"?hash=\" + encodeURIComponent(JSON.stringify(obj));\r\n    }\r\n    else {\r\n        return \"\";\r\n    }\r\n}\r\nexport function hashToObj(hashStr: string): Object | null {\r\n    var hash = parseURL(hashStr).query.hash;\r\n    if (hash == \"\" || hash == undefined) {\r\n        return null;\r\n    }\r\n    else {\r\n        return JSON.parse(decodeURIComponent(hash));\r\n    }\r\n}\r\nexport function unpackJS(source: string): string {\r\n    function getUnbase(base: number) {\r\n        var ALPHABET = \"\";\r\n        if (base > 62) ALPHABET = ' !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\r\n        else if (base > 54) ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n        else if (base > 52) ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQR';\r\n        else ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOP';\r\n        return function(val: string) {\r\n            if (2 <= base && base <= 36) {\r\n                return parseInt(val, base);\r\n            }\r\n            else {\r\n                var valArray = val.split('').reverse();\r\n                var ret = 0;\r\n                for (var i = 0; i < valArray.length; i++) {\r\n                    var cipher = valArray[i];\r\n                    ret += Math.pow(base, i) * ALPHABET.indexOf(cipher);\r\n                }\r\n                return ret;\r\n            }\r\n        };\r\n    }\r\n    var out = source.match(/}\\('(.*)', *(\\d+), *(\\d+), *'(.*?)'\\.split\\('\\|'\\)/) || [];\r\n\r\n    // Payload\r\n    var payload = out[1];\r\n    // Words\r\n    var symtab = out[4].split(/\\|/);\r\n    // Radix\r\n    var radix = parseInt(out[2]);\r\n    // Words Count\r\n    var count = parseInt(out[3]);\r\n\r\n    if (count != symtab.length) {\r\n        throw Error(\"Malformed p.a.c.k.e.r symtab !\");\r\n    }\r\n\r\n    var unbase = getUnbase(radix);\r\n\r\n    function lookup(matches: any) {\r\n        var word = matches;\r\n        var ub = symtab[unbase(word)];\r\n        var ret = ub ? ub : word;\r\n        return ret;\r\n    }\r\n\r\n    var result = payload.replace(/\\b\\w+\\b/g, lookup);\r\n    result = result.replace(/\\\\/g, '');\r\n    return result;\r\n}\r\nexport interface URL {\r\n    url: string;\r\n    protocol: string;\r\n    host: string;\r\n    port: string;\r\n    path: string;\r\n    query: StringMap;\r\n    queryStr: string;\r\n}\r\nlet urlParser = document.createElement(\"a\");\r\nexport function parseURL(url: string): URL {\r\n    urlParser.href = url;\r\n    return {\r\n        url: url,\r\n        protocol: urlParser.protocol,\r\n        host: urlParser.host,\r\n        port: urlParser.port,\r\n        path: urlParser.pathname,\r\n        queryStr: urlParser.search,\r\n        query: parseURLQuery(urlParser.search),\r\n    };\r\n}\r\nfunction parseURLQuery(url: string): StringMap {\r\n    return Object.assign.apply(null, (url.match(/[\\?&]([^\\?&]*)/g) || []).map(function(el){\r\n    \tlet match = el.match(/[\\?&]([^=]*)=?(.*)/) || [];\r\n    \treturn { [decodeURIComponent(match[1])]: decodeURIComponent(match[2]) || true };\r\n    }).concat({}) as any);\r\n}\r\nexport async function getUrlFileName(url: string): Promise<string> {\r\n    let xhr = await createRequest({ url: url, type: HTTPMethods.HEAD });\r\n    var filename = ((xhr.getResponseHeader(\"content-disposition\") || \"\").match(/filename=\"([^\"]*)/) || [])[1];\r\n    if (filename && filename != \"\") {\r\n        return filename;\r\n    }\r\n    else {\r\n        return decodeURIComponent(url.substring(url.lastIndexOf('/') + 1).replace(/[&\\?].*/, \"\"));\r\n    }\r\n}\r\nexport async function getRedirectedUrl(url: string): Promise<String> {\r\n    let xhr = await createRequest({ url: url, type: HTTPMethods.HEAD });\r\n    return xhr.responseURL;\r\n}\r\nfunction objToURLParams(url: string, obj: StringMap): string {\r\n    var str = \"\";\r\n    for (var key in obj) {\r\n        if (!isParamInURL(url, key)) {\r\n            str += \"&\" + key + \"=\" + encodeURIComponent(obj[key]);\r\n        }\r\n    }\r\n    return str.substr(1);\r\n}\r\nexport function isParamInURL(url: string, param: string) {\r\n    return new RegExp(\"[\\\\?|&]\" + param + \"=\", \"i\").test(url);\r\n}\r\nexport function addParamsToURL(url: string, obj: StringMap): string {\r\n    if (url && obj) {\r\n        let query_str = objToURLParams(url, obj);\r\n        if (query_str) {\r\n            return url + (url.lastIndexOf(\"?\") < url.lastIndexOf(\"/\") ? \"?\" : \"&\") + query_str;\r\n        }\r\n        else {\r\n            return url;\r\n        }\r\n    }\r\n    else {\r\n        return url;\r\n    }\r\n}\r\nexport function removeParamsFromURL(url: string, params: String[]) {\r\n    for(let param of params) {\r\n        url = url.replace(new RegExp(\"[\\\\?&]\"+param+\"=[^\\\\?&]*\", \"i\"), \"\");\r\n    }\r\n    return url;\r\n}\r\nexport function getParamFromURL(url: string, param: string) {\r\n    var match = url.match(new RegExp(\"[\\\\?&]\"+param+\"=([^\\\\?&]*)\",\"i\"));\r\n    if(match) {\r\n        return match[1];\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport function addRefererToURL(url: string, referer: string) {\r\n    return addParamsToURL(url, { OVReferer: btoa(referer) });\r\n}\r\nexport function getRefererFromURL(url: string) {\r\n    var param = getParamFromURL(url, \"OVReferer\");\r\n    if (param) {\r\n        let ref = param;\r\n        while(true) {\r\n            ref = decodeURIComponent(ref);\r\n            try {\r\n                return atob(ref);\r\n            }\r\n            catch(e) {\r\n\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport function removeRefererFromURL(url: string) {\r\n    return removeParamsFromURL(url, [\"OVReferer\"]);\r\n}\r\nexport const enum HTTPMethods {\r\n    GET = \"GET\",\r\n    POST = \"POST\",\r\n    HEAD = \"HEAD\"\r\n}\r\nexport interface Request {\r\n    url: string;\r\n    type?: HTTPMethods;\r\n    protocol?: string;\r\n    cache?: boolean;\r\n    referer?: string;\r\n    hideRef?: boolean;\r\n    headers?: StringMap;\r\n    xmlHttpObj?: XMLHttpRequest;\r\n    formData?: StringMap;\r\n    data?: StringMap;\r\n    beforeSend?: (xhr: XMLHttpRequest) => void;\r\n}\r\nexport async function createRequest(args: Request): Promise<XMLHttpRequest> {\r\n    return new Promise<XMLHttpRequest>((resolve, reject) => {\r\n        let xmlHttpObj: XMLHttpRequest = args.xmlHttpObj  || new XMLHttpRequest();\r\n        var type = args.type || HTTPMethods.GET;\r\n        var protocol = args.protocol || \"https://\";\r\n        if (args.referer) {\r\n            args.data = merge(args.data, { OVReferer: encodeURIComponent(btoa(args.referer)) });\r\n        }\r\n        else if (args.hideRef) {\r\n            args.data = merge(args.data, { isOV: \"true\" });\r\n        }\r\n        var url = addParamsToURL(args.url, args.data || {}).replace(/[^:]+:\\/\\//, protocol);\r\n\r\n        xmlHttpObj.open(type, url, true);\r\n        xmlHttpObj.onload = function() {\r\n            if (xmlHttpObj.status == 200) {\r\n                resolve(xmlHttpObj);\r\n            }\r\n            else {\r\n\r\n                reject(Error(xmlHttpObj.statusText + \" (url: '\" + url + \"')\"));\r\n            }\r\n        };\r\n        xmlHttpObj.onerror = function() {\r\n\r\n            reject(Error(\"Network Error (url: '\" + url + \"')\"));\r\n        };\r\n\r\n        if (args.headers) {\r\n            for (var key in args.headers) {\r\n                xmlHttpObj.setRequestHeader(key, args.headers[key]);\r\n            }\r\n        }\r\n        let formData: FormData|null = null;\r\n        if (args.formData) {\r\n            formData = new FormData();\r\n            for (var key in args.formData) {\r\n                formData.append(key, args.formData[key]);\r\n            }\r\n        }\r\n\r\n\r\n        if (args.cache == false) {\r\n            xmlHttpObj.setRequestHeader('cache-control', 'no-cache, must-revalidate, post-check=0, pre-check=0');\r\n            xmlHttpObj.setRequestHeader('cache-control', 'max-age=0');\r\n            xmlHttpObj.setRequestHeader('expires', '0');\r\n            xmlHttpObj.setRequestHeader('expires', 'Tue, 01 Jan 1980 1:00:00 GMT');\r\n            xmlHttpObj.setRequestHeader('pragma', 'no-cache');\r\n        }\r\n        if (args.beforeSend) {\r\n            args.beforeSend(xmlHttpObj);\r\n        }\r\n        xmlHttpObj.send(formData);\r\n\r\n\r\n\r\n\r\n    });\r\n}\r\n","import * as Tools from \"./tools\";\r\n\r\nexport interface BackgroundData {\r\n    data: any;\r\n    func: string;\r\n}\r\nexport interface ErrorData {\r\n    message: string;\r\n    stack: string;\r\n    name: string;\r\n}\r\nexport interface Message {\r\n    data: any;\r\n    error?: ErrorData | null;\r\n    sender?: chrome.runtime.MessageSender | null;\r\n}\r\nexport interface Request extends Message {\r\n    func: string;\r\n    bgdata?: BackgroundData | null;\r\n}\r\nexport interface Response extends Message {\r\n    call: Request;\r\n}\r\n\r\ninterface EventMessage<T extends Message> {\r\n    hash: string;\r\n    data: T;\r\n    status: Status;\r\n    toBG: boolean;\r\n}\r\nenum Status {\r\n    Request = \"Request\",\r\n    Response = \"Response\"\r\n}\r\n\r\nexport interface ListenerSetup {\r\n    [key: string]: (request: Request) => Promise<any>\r\n}\r\ntype WindowVars = { bgfunctions: BackgroundSetup|null, lnfunctions: ListenerSetup|null, isMiddleware_: boolean };\r\nlet windowVars = Tools.accessWindow<WindowVars>({\r\n    bgfunctions: null,\r\n    lnfunctions: null,\r\n    isMiddleware_: false\r\n})\r\nexport function canRuntime() {\r\n    return chrome && chrome.runtime && chrome.runtime.id != undefined;\r\n}\r\n\r\nfunction getErrorData(e : Error | null) : ErrorData | null {\r\n    if(e) {\r\n        return { message: e.message, stack: e.stack!, name: e.name };\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nfunction setErrorData(data : ErrorData | null) {\r\n    if(data) {\r\n        let e = new Error(data.message);\r\n        e.stack = data.stack;\r\n        e.name = data.name;\r\n        return e;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nfunction toErrorData(e : any) {\r\n    return getErrorData(Tools.convertToError(e));\r\n}\r\nasync function sendMsgByEvent(data: Request, toBG?: boolean) {\r\n    return new Promise<Response>(function(resolve, reject){\r\n        if(!toBG) {\r\n            data.bgdata = null;\r\n        }\r\n        let hash = Tools.generateHash();\r\n        document.addEventListener('ovmessage', async function one(ev: Event) {\r\n            let data = (ev as CustomEvent<EventMessage<Response>>).detail;\r\n            if(data.status == Status.Response && data.hash == hash) {\r\n                document.removeEventListener(\"ovmessage\", one);\r\n                if(data.data.error) {\r\n                    reject(setErrorData(data.data.error));\r\n                }\r\n                else {\r\n                    resolve(data.data);\r\n                }\r\n            }\r\n        });\r\n        let event = new CustomEvent('ovmessage', {\r\n            detail: {\r\n                status: Status.Request,\r\n                hash: hash,\r\n                data: data,\r\n                error: null,\r\n                toBG: toBG || data.bgdata != null\r\n            } as EventMessage<Request>\r\n        });\r\n        document.dispatchEvent(event);\r\n    });\r\n}\r\nfunction listenToEventMsgs(callback: (data: Request) => Promise<Response>, asMiddleware: boolean) {\r\n    document.addEventListener('ovmessage', async function (ev: Event) {\r\n        let data = (ev as CustomEvent<EventMessage<Request>>).detail;\r\n        if(data.status == Status.Request && asMiddleware == data.toBG) {\r\n            function sendMsg(response: Response) {\r\n                let event = new CustomEvent('ovmessage', {\r\n                    detail: {\r\n                        status: Status.Response,\r\n                        hash: data.hash,\r\n                        data: response,\r\n                        toBG: data.toBG\r\n                    } as EventMessage<Response>\r\n                });\r\n                document.dispatchEvent(event);\r\n            }\r\n            try {\r\n                let response = await callback(data.data);\r\n                response.call = data.data;\r\n                sendMsg(response);\r\n            }\r\n            catch(e) {\r\n                sendMsg({ call: data.data, data: null, error: toErrorData(e) });\r\n            }\r\n        }\r\n    });\r\n}\r\nasync function sendMsgByRuntime(data: Request) {\r\n    return new Promise<Response>(function(resolve, reject){\r\n        chrome.runtime.sendMessage(data, function(response : Response){\r\n            if(response.error) {\r\n                reject(setErrorData(response.error));\r\n            }\r\n            else {\r\n                resolve(response);\r\n            }\r\n        });\r\n    });\r\n}\r\nasync function listenToRuntimeMsgs(callback: (data: Request) => Promise<Response>) {\r\n    //Nicht async, da return true\r\n    chrome.runtime.onMessage.addListener(function(msg : Request, sender, sendResponse){\r\n        if(msg) {\r\n            msg.sender = sender;\r\n            callback(msg).then(function(response){\r\n                response.sender = sender;\r\n                response.call = msg;\r\n                sendResponse(response);\r\n            }).catch(function(e) {\r\n                sendResponse({ data: null, sender: sender, call: msg, error: toErrorData(e) } as Response);\r\n            });\r\n            return true;\r\n        }\r\n    });\r\n}\r\nexport function addListener(functions: ListenerSetup): void {\r\n    if (windowVars.lnfunctions) {\r\n        windowVars.lnfunctions = Tools.merge(windowVars.lnfunctions, functions);\r\n    }\r\n    else {\r\n        windowVars.lnfunctions = functions;\r\n        listenToEventMsgs(async function(request){\r\n            if(!windowVars.lnfunctions![request.func]) {\r\n                throw new Error(\"Listener-Function '\"+request.func+\"' doesn't exist!\\nFunctions: \"+Object.keys(windowVars.lnfunctions!).join(\", \"));\r\n            }\r\n            let data = await windowVars.lnfunctions![request.func](request);\r\n            return { data: data, call: request };\r\n        }, false);\r\n    }\r\n}\r\nexport async function send(request: Request, toBG?: boolean) {\r\n    return sendMsgByEvent(request, toBG || request.bgdata != null);\r\n}\r\nexport async function sendToBG(request: BackgroundData) {\r\n    return send({ func: \"NO_FUNC\", data: null, bgdata: request});\r\n}\r\nexport function isMiddleware() {\r\n    return windowVars.isMiddleware_;\r\n}\r\nexport function setupMiddleware() {\r\n    if (windowVars.isMiddleware_) {\r\n        console.log(\"Middleware already set up!\")\r\n    }\r\n    else if(!canRuntime()) {\r\n        throw Error(\"Middleware needs access to chrome.runtime!\")\r\n    }\r\n    else {\r\n        windowVars.isMiddleware_ = true;\r\n        listenToEventMsgs(async function(request){\r\n            return sendMsgByRuntime(request);\r\n        }, true);\r\n        listenToRuntimeMsgs(async function(request){\r\n            return sendMsgByEvent(request, false);\r\n        });\r\n    }\r\n}\r\nexport interface BackgroundSetup {\r\n    [key: string]: (msg: Request, bgData: any, sender: chrome.runtime.MessageSender) => Promise<any>;\r\n}\r\nexport function setupBackground(functions: BackgroundSetup) {\r\n    if(!canRuntime()) {\r\n        throw Error(\"Background needs access to chrome.runtime!\")\r\n    }\r\n    if (windowVars.bgfunctions) {\r\n        windowVars.bgfunctions = Tools.merge(windowVars.bgfunctions, functions);\r\n    }\r\n    else {\r\n        windowVars.bgfunctions = functions;\r\n        listenToRuntimeMsgs(async function(request){\r\n            if(!windowVars.bgfunctions![request.bgdata!.func]) {\r\n                throw new Error(\"Background-Function '\"+request.bgdata!.func+\"' doesn't exist!\\nFunctions: \"+Object.keys(windowVars.bgfunctions!).join(\", \"));\r\n            }\r\n            let data = await windowVars.bgfunctions![request.bgdata!.func](request, request.bgdata!.data, request.sender!);\r\n            return { data: data, call: request };\r\n        });\r\n    }\r\n}\r\nexport async function sendToTab(tabid: number, data: Request, frameId?: number) {\r\n    return new Promise<Response>(function(resolve, reject){\r\n        data.bgdata = null;\r\n        let options = {} as { frameId?: number };\r\n        if(!frameId) {\r\n            options.frameId = 0;\r\n        }\r\n        else if(frameId >= 0) {\r\n            options.frameId = frameId;\r\n        }\r\n        delete data.bgdata;\r\n        chrome.tabs.sendMessage(tabid, data, options, function(response : Response){\r\n            if(response.error) {\r\n                reject(setErrorData(response.error));\r\n            }\r\n            else {\r\n                resolve(response);\r\n            }\r\n        });\r\n    });\r\n}\r\n","\r\nimport * as Messages from \"OV/messages\";\r\nimport * as Storage from \"OV/storage\";\r\nimport * as Page from \"OV/page\";\r\nimport * as Tools from \"OV/tools\";\r\n\r\nimport * as Background from \"./background\";\r\n\r\n\r\n\r\ninterface IFrameEntry {\r\n    iframe: HTMLIFrameElement;\r\n    shadow: HTMLElement;\r\n}\r\ntype IFrameEntries = Array<IFrameEntry>;\r\n\r\nlet iframes: IFrameEntries = [];\r\nlet activeEntry: { oldStyle: { css: string, width: string, height: string }; entry: IFrameEntry; }|null = null;\r\n\r\nfunction checkCleanup(entry: IFrameEntry) {\r\n    if (entry == null) {\r\n        return false;\r\n    }\r\n    else if (!entry.iframe || !entry.iframe.parentElement) {\r\n        //entry.observer.disconnect();\r\n        entry.shadow.remove();\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\nexport function getActiveFrame() {\r\n    if (isFrameActive()) {\r\n        return activeEntry!.entry;\r\n    }\r\n    else {\r\n        throw Error(\"No IFrame in theatre mode!\");\r\n    }\r\n}\r\nexport function isFrameActive() {\r\n    if (activeEntry && checkCleanup(activeEntry.entry)) {\r\n        activeEntry = null;\r\n    }\r\n    return activeEntry != null;\r\n}\r\nfunction checkIFrameBounds(iframe: HTMLIFrameElement, width: number, height: number) {\r\n    return Math.abs(iframe.clientWidth - width) <= 1 && Math.abs(iframe.clientHeight - height) <= 1;\r\n}\r\nexport function getEntry(width : number, height: number) {\r\n    for (let i = 0; i < iframes.length; i++) {\r\n        if (checkCleanup(iframes[i])) {\r\n            iframes.splice(i, 1);\r\n            i--;\r\n        }\r\n        else if (checkIFrameBounds(iframes[i].iframe, width, height)) {\r\n            return iframes[i];\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function registerIFrame(iframe: HTMLIFrameElement) {\r\n\r\n    function matchesSelector(selector: string, element: HTMLElement) {\r\n        var all = document.querySelectorAll(selector);\r\n        for (var i = 0; i < all.length; i++) {\r\n            if (all[i] === element) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    let shadow = document.createElement(\"ovshadow\");\r\n\r\n    Page.lookupCSS({}, function(obj) {\r\n        if (obj.cssRule.selectorText.indexOf(\" iframe\") != -1) {\r\n            if (matchesSelector(obj.cssRule.selectorText, iframe)) {\r\n                if (obj.cssRule.style.width != \"\") {\r\n                    obj.cssRule.style.setProperty(\"width\", obj.cssRule.style.getPropertyValue(\"width\"), \"\");\r\n                    obj.cssRule.style.setProperty(\"height\", obj.cssRule.style.getPropertyValue(\"height\"), \"\");\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    shadow.className = \"ov-theaterMode\";\r\n    shadow.addEventListener(\"click\", function(e: MouseEvent) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    });\r\n    iframe.addEventListener(\"click\", function(e: MouseEvent) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    });\r\n    if(!iframe.parentNode) {\r\n        throw Error(\"IFrame is not part of the page!\");\r\n    }\r\n    iframe.parentNode.appendChild(shadow);\r\n\r\n    iframes.push({ shadow: shadow, iframe: iframe });\r\n    return iframes[iframes.length - 1];\r\n\r\n}\r\nexport async function nameIFrames() {\r\n    function nameIFrame(iframe: HTMLIFrameElement) {\r\n        function checkBounds(iframe: HTMLIFrameElement) {\r\n\r\n\r\n            if(iframe.offsetLeft < 0 || iframe.offsetTop < 0) {\r\n\r\n                return false;\r\n            }\r\n            else if((iframe.offsetWidth / window.innerWidth)*100 < 30 || (iframe.offsetHeight / window.innerHeight)*100 < 30) {\r\n\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        if (iframe.hasAttribute(\"allow\") && iframe.getAttribute(\"allow\")!.indexOf(\"fullscreen\") != -1) {\r\n            if (iframe.hasAttribute(\"allow\")) {\r\n                iframe.setAttribute(\"allow\", iframe.getAttribute(\"allow\")!.replace(/fullscreen[^;]*;?/i, \"fullscreen *;\"));//fullscreen *;\r\n            }\r\n        }\r\n    }\r\n    Page.onNodeInserted(document, function(target) {\r\n\r\n        if (target instanceof HTMLElement) {\r\n            let iframes = target.getElementsByTagName(\"iframe\");\r\n\r\n            if (target instanceof HTMLIFrameElement) {\r\n                nameIFrame(target);\r\n            }\r\n            for (let iframe of iframes) {\r\n                nameIFrame(iframe);\r\n            }\r\n        }\r\n    });\r\n    await Page.isReady();\r\n    for (let iframe of document.getElementsByTagName(\"iframe\")) {\r\n        nameIFrame(iframe);\r\n    }\r\n}\r\nexport async function activateEntry(entry: IFrameEntry) {\r\n    if (isFrameActive()) {\r\n        console.log(activeEntry);\r\n        throw Error(\"Some IFrame is already in theatre mode!\");\r\n    }\r\n    else if (entry == null) {\r\n        throw Error(\"Entry must not be null!\");\r\n    }\r\n    else {\r\n        document.body.style.overflow = \"hidden\";\r\n        activeEntry = {\r\n            oldStyle: {\r\n                css: entry.iframe.style.cssText,\r\n                width: entry.iframe.width,\r\n                height: entry.iframe.height\r\n            },\r\n            entry: entry\r\n        };\r\n        let frameWidth = await Storage.getTheatreFrameWidth();\r\n        setWrapperStyle(entry, frameWidth);\r\n        entry.shadow.style.opacity = \"1\";\r\n        entry.shadow.style.pointerEvents = \"all\";\r\n\r\n    }\r\n}\r\nexport function deactivateEntry() {\r\n    if (!isFrameActive()) {\r\n        throw Error(\"No IFrame is in theatre mode!\");\r\n    }\r\n    let entry = activeEntry;\r\n    activeEntry = null;\r\n    let newrelwidth = Math.floor((entry!.entry.iframe.clientWidth / window.innerWidth) * 100);\r\n    console.log(newrelwidth);\r\n    Storage.setTheatreFrameWidth(newrelwidth);\r\n    entry!.entry.shadow.style.opacity = \"0\";\r\n    entry!.entry.shadow.style.removeProperty(\"pointer-events\");\r\n    window.setTimeout(function() {\r\n        entry!.entry.iframe.style.cssText = entry!.oldStyle.css;\r\n        entry!.entry.iframe.width = entry!.oldStyle.width;\r\n        entry!.entry.iframe.height = entry!.oldStyle.height;\r\n        document.body.style.removeProperty(\"overflow\");\r\n    }, 150);\r\n}\r\n\r\n\r\nfunction setWrapperStyle(entry: IFrameEntry, width: number): void {\r\n    width = width > 100 ? 100 : width;\r\n    width = width < 50 ? 50 : width;\r\n    entry.iframe.removeAttribute(\"width\");\r\n    entry.iframe.removeAttribute(\"height\");\r\n    entry.iframe.style.cssText = `\r\n        position: fixed !important;\r\n        top: 0 !important;\r\n        left: 0 !important;\r\n        right: 0 !important;\r\n        bottom: 0 !important;\r\n        margin: auto !important;\r\n        width: `+width+`vw !important;\r\n        height: calc(`+width+`vw*9/16) !important;\r\n        padding-right:5px !important;\r\n        padding-bottom:5px !important;\r\n        display:block !important;\r\n        overflow: hidden !important;\r\n        resize: both !important;\r\n        z-index: 99999999999 !important;\r\n        border: 0px !important;\r\n        max-width:100vw !important;\r\n        min-width: 50vw !important;\r\n        max-height: 100vh !important;\r\n        min-height: 50vh !important;\r\n    `;\r\n    //entry.iframe.style.cssText = \"padding-right:5px;padding-bottom:5px;display:block;overflow: hidden; resize: both;position: fixed !important;width: \" + width + \"vw !important;height: calc(( 9/ 16)*\" + width + \"vw) !important;top: calc((100vh - ( 9/ 16)*\" + width + \"vw)/2) !important;left: calc((100vw - \" + width + \"vw)/2) !important;z-index:2147483647 !important; border: 0px !important; max-width:100vw !important; min-width: 50vw !important; max-height: 100vh !important; min-height: 50vh !important\";\r\n}\r\nfunction getIFrameByID(width: number, height: number): HTMLIFrameElement {\r\n\r\n    //let iframe = document.getElementsByName(frameid)[0] as HTMLIFrameElement;\r\n    let iframe = null;\r\n    for(let frame of document.getElementsByTagName(\"iframe\")) {\r\n        if(checkIFrameBounds(frame, width, height)) {\r\n            iframe = frame;\r\n            break;\r\n        }\r\n    }\r\n    if (iframe) {\r\n        return iframe;\r\n    }\r\n    else {\r\n        throw Error(\"Could not find iframe with!\");\r\n    }\r\n}\r\nexport interface SetupIFrame {\r\n    //frameID: string;\r\n    width: number;\r\n    height: number;\r\n}\r\nexport interface SetTheatreMode extends SetupIFrame {\r\n    enabled: boolean;\r\n}\r\nexport function setTheatreMode(enabled: boolean) {\r\n    Background.toTopWindow({\r\n        data: {\r\n            enabled: enabled,\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n            /*frameID: window.name*/\r\n        } as SetTheatreMode,\r\n        func: \"theatremode_setTheatreMode\"\r\n    });\r\n}\r\nexport function setupIframe() {\r\n    Background.toTopWindow({\r\n        data: {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n            /*frameID: window.name*/\r\n        } as SetupIFrame,\r\n        func: \"theatremode_setupIframe\"\r\n    });\r\n}\r\nexport function setup() {\r\n    nameIFrames();\r\n    Messages.addListener({\r\n        theatremode_setTheatreMode: async function(request) {\r\n            var data = request.data as SetTheatreMode;\r\n            if (data.enabled) {\r\n                var entry = getEntry(data.width, data.height);\r\n                if(!entry) {\r\n                    throw new Error(\"No IFrame with found!\");\r\n                }\r\n                activateEntry(entry);\r\n            }\r\n            else {\r\n                deactivateEntry();\r\n            }\r\n        },\r\n        theatremode_setupIframe: async function(request) {\r\n            let data = request.data as SetupIFrame;\r\n            var entry = getEntry(data.width, data.height);\r\n            if (!entry) {\r\n                let iframe = getIFrameByID(data.width, data.height);\r\n                //iframe.src = data.url;\r\n                entry = registerIFrame(iframe);\r\n            }\r\n        }\r\n    });\r\n}\r\n","import * as Messages from \"./messages\";\r\nimport * as VideoTypes from \"video_types\";\r\nimport * as Tools from \"./tools\";\r\n\r\nexport const enum StorageScopes {\r\n    Local = \"local\",\r\n    Sync = \"sync\"\r\n}\r\ninterface GetData {\r\n    scope: StorageScopes;\r\n    name: string;\r\n}\r\ninterface SetData extends GetData {\r\n    value: any;\r\n}\r\nexport function canStorage() {\r\n    return chrome.storage != undefined;\r\n}\r\nexport function setupBG() {\r\n    let scopes = {\r\n        \"local\": chrome.storage.local,\r\n        \"sync\": chrome.storage.sync\r\n    }\r\n    Messages.setupBackground({\r\n        storage_getData: async function(msg, bgdata: GetData, sender) {\r\n            return new Promise<any>(function(resolve, reject){\r\n                scopes[bgdata.scope].get(bgdata.name, function(item) {\r\n                    resolve(item[bgdata.name]);\r\n                });\r\n            });\r\n        },\r\n        storage_setData: async function(msg, bgdata: SetData, sender) {\r\n            return new Promise<{ success: boolean }>(function(resolve, reject){\r\n                scopes[bgdata.scope].set({ [bgdata.name]: bgdata.value }, function() {\r\n                    resolve({ success: true });\r\n                });\r\n            });\r\n        }\r\n    });\r\n}\r\ntype Scope = typeof chrome.storage.local | typeof chrome.storage.sync;\r\nasync function getValue(name: string, scope : Scope): Promise<any> {\r\n    if (canStorage()) {\r\n        return new Promise(function(resolve, reject) {\r\n            scope.get(name, function(item) {\r\n                resolve(item[name]);\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"storage_getData\", data: { scope: scope, name: name } });\r\n        return response.data;\r\n    }\r\n}\r\nasync function setValue(name: string, value: any, scope : Scope): Promise<{ success: boolean }> {\r\n    if (canStorage()) {\r\n        return new Promise(function(resolve, reject) {\r\n            scope.set({ [name]: value }, function() {\r\n                resolve({ success: true });\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        await Messages.sendToBG({ func: \"storage_setData\", data: { scope: scope, name: name, value: value } });\r\n        return { success: true };\r\n    }\r\n}\r\nexport module local {\r\n    export async function get(name: string): Promise<any> {\r\n        return getValue(name, chrome.storage.local);\r\n    }\r\n    export async function set(name: string, value: any): Promise<{ success: boolean }> {\r\n        return setValue(name, value, chrome.storage.local);\r\n    }\r\n}\r\nmodule sync {\r\n    export async function get(name: string): Promise<any> {\r\n        return getValue(name, chrome.storage.sync);\r\n    }\r\n    export async function set(name: string, value: any): Promise<{ success: boolean }> {\r\n        return setValue(name, value, chrome.storage.sync);\r\n    }\r\n}\r\nexport const fixed_playlists = {\r\n    history: { id: \"history\", name: \"History\" },\r\n    favorites: { id: \"favorites\", name: \"Favorites\" }\r\n}\r\nexport type Playlist = { id: string, name: string };\r\nexport async function getPlaylists() {\r\n    return await sync.get(\"library_playlists\") as Playlist[] || [fixed_playlists.history, fixed_playlists.favorites];\r\n}\r\nexport async function setPlaylists(playlists : { id: string, name: string }[]) {\r\n    return sync.set(\"library_playlists\", playlists);\r\n}\r\nexport module playlist_old {\r\n\r\n    export async function getPlaylistByID(id : string) {\r\n        if(id == fixed_playlists.history.id) {\r\n            return await local.get(\"library_playlist_\"+id) as VideoTypes.VideoRefData[] || [];\r\n        }\r\n        return await sync.get(\"library_playlist_\"+id) as VideoTypes.VideoRefData[] || [];\r\n    }\r\n    export async function setPlaylistByID(id : string, playlist : VideoTypes.VideoRefData[]) {\r\n        if(id == fixed_playlists.history.id) {\r\n            return local.set(\"library_playlist_\"+id, playlist);\r\n        }\r\n        return sync.set(\"library_playlist_\"+id, playlist);\r\n    }\r\n    export async function convertToNew() {\r\n        let playlists = await getPlaylists();\r\n        let content = await Promise.all(playlists.map(async (playlist)=>{\r\n            let videos = await getPlaylistByID(playlist.id);\r\n            return videos.map((video)=>{\r\n                return { data: video, playlists: [playlist.id] };\r\n            });\r\n        }));\r\n        let videos = content.reduce((acc, videos)=>{\r\n            videos.forEach((video)=>{\r\n                let index = acc.findIndex((accel)=>{\r\n                    return accel.data.origin.url == video.data.origin.url;\r\n                });\r\n                if(index == -1) {\r\n                    acc.push(video);\r\n                }\r\n                else {\r\n                    let accel = acc[index];\r\n                    accel.playlists = accel.playlists.concat(video.playlists);\r\n                    acc[index] = accel;\r\n                }\r\n            })\r\n            return acc;\r\n        }, []);\r\n\r\n        await local.set(\"library_playlist_videos\", videos);\r\n    }\r\n}\r\nexport type PlayistVideo = {\r\n    data: VideoTypes.VideoRefData,\r\n    playlists: string[]\r\n}\r\nexport async function getPlaylistEntry(video_origin : string) {\r\n    let videos = await local.get(\"library_playlist_videos\") as PlayistVideo[];\r\n    return videos.find((el)=>{\r\n        return el.data.origin.url == video_origin;\r\n    })\r\n}\r\nexport async function addToPlaylist(video : VideoTypes.VideoRefData, playlist_id : string) {\r\n    let videos = await local.get(\"library_playlist_videos\") as PlayistVideo[];\r\n    let index = videos.findIndex((el)=>{\r\n        return el.data.origin.url == video.origin.url;\r\n    });\r\n    if(index == -1) {\r\n        videos.push({ data: video, playlists: [playlist_id] });\r\n    }\r\n    else {\r\n        let entry = videos[index];\r\n        entry.data = video;\r\n        if(!entry.playlists.some((el)=>{\r\n            return el == playlist_id;\r\n        })) {\r\n            entry.playlists.push(playlist_id);\r\n        }\r\n        videos[index] = entry;\r\n    }\r\n    await local.set(\"library_playlist_videos\", videos);\r\n}\r\nexport async function removeFromPlaylist(video_origin : string, playlist_id : string) {\r\n    let videos = await local.get(\"library_playlist_videos\") as PlayistVideo[];\r\n    let index = videos.findIndex((el)=>{\r\n        return el.data.origin.url == video_origin;\r\n    });\r\n    if(index != -1) {\r\n        let entry = videos[index];\r\n        let playlistIndex = entry.playlists.findIndex((el)=>{\r\n            return el == playlist_id;\r\n        });\r\n        if(playlistIndex != -1) {\r\n            entry.playlists.splice(playlistIndex, 1);\r\n            if(entry.playlists.length == 0) {\r\n                videos.splice(index, 1);\r\n            }\r\n            await local.set(\"library_playlist_videos\", videos);\r\n        }\r\n    }\r\n}\r\nexport async function getPlaylistsWithVideo(video_origin : string) {\r\n    let entry = await getPlaylistEntry(video_origin);\r\n    if(entry) {\r\n        return entry.playlists;\r\n    }\r\n    else {\r\n        return [];\r\n    }\r\n}\r\nexport async function getPlaylistVideos(playlist_id : string) {\r\n    let videos = await local.get(\"library_playlist_videos\") as PlayistVideo[];\r\n    return videos.filter((entry)=>{\r\n        return entry.playlists.some((el)=>{\r\n            return el == playlist_id;\r\n        })\r\n    }).map((el)=>{\r\n        return el.data;\r\n    })\r\n}\r\nexport async function getSearchSites() {\r\n    return await sync.get(\"library_search_sites\") as VideoTypes.PageRefData[] || [];\r\n}\r\nexport async function setSearchSites(sites: VideoTypes.PageRefData[]) {\r\n    return await sync.set(\"library_search_sites\", sites);\r\n}\r\n\r\nexport async function isHistoryEnabled() {\r\n    return (await sync.get(\"library_history_enabled\")) != false;\r\n}\r\nexport async function setHistoryEnabled(enabled : boolean) {\r\n    return await sync.set(\"library_history_enabled\", enabled);\r\n}\r\n\r\nexport async function getPlayerVolume() {\r\n    return (await sync.get(\"player_volume\")) || 1 as number;\r\n}\r\nexport async function setPlayerVolume(volume : number) {\r\n    return await sync.set(\"player_volume\", volume);\r\n}\r\nexport async function getTheatreFrameWidth() {\r\n    return (await sync.get(\"theatremode_width\")) || 70 as number;\r\n}\r\nexport async function setTheatreFrameWidth(width : number) {\r\n    return await sync.set(\"theatremode_width\", width);\r\n}\r\nexport async function getAnalyticsCID() {\r\n    let cid = await sync.get(\"analytics_cid\") as string | null;\r\n    if(!cid) {\r\n        cid = Tools.generateHash();\r\n        await sync.set(\"analytics_cid\", cid);\r\n    }\r\n    return cid;\r\n}\r\nexport async function isAnalyticsEnabled() {\r\n    return (await sync.get(\"analytics_enabled\")) != false;\r\n}\r\nexport async function setAnalyticsEnabled(enabled : boolean) {\r\n    return await sync.set(\"analytics_enabled\", enabled);\r\n}\r\nexport interface Proxy {\r\n    ip: string;\r\n    port: number;\r\n    country?: string;\r\n    anonymity?: string;\r\n}\r\nexport async function getProxySettings() {\r\n    return (await sync.get(\"proxy_settings\")) as Proxy | null;\r\n}\r\nexport async function setProxySettings(settings : Proxy | null) {\r\n    return await sync.set(\"proxy_settings\", settings);\r\n}\r\nexport async function isScriptEnabled(script : string) {\r\n    return (await sync.get(\"redirect_scripts_\"+script)) != false;\r\n}\r\nexport async function setScriptEnabled(script : string, enabled : boolean) {\r\n    return await sync.set(\"redirect_scripts_\"+script, enabled);\r\n}\r\nexport async function isVideoSearchEnabled() {\r\n    return (await sync.get(\"videopopup_search\")) != false;\r\n}\r\nexport async function setVideoSearchEnabled(enabled : boolean) {\r\n    return await sync.set(\"videopopup_search\", enabled);\r\n}\r\n","\r\nimport * as Messages from \"OV/messages\";\r\nimport * as Environment from \"OV/environment\";\r\n\r\n\r\ninterface OpenTab {\r\n    url: string;\r\n}\r\n\r\ninterface SetIconPopup {\r\n    url?: string;\r\n}\r\n\r\ninterface SetIconText {\r\n    text?: string;\r\n}\r\n\r\ninterface DownloadFile {\r\n    url: string;\r\n    fileName: string;\r\n}\r\n\r\ninterface Alert {\r\n    msg: string;\r\n}\r\n\r\ninterface Promt extends Alert {\r\n    fieldText: string;\r\n}\r\n\r\nexport function toTopWindow(msg: { data: any, func: string, frameId?: number }) {\r\n    return Messages.send({ data: msg.data, func: msg.func, bgdata: { func: \"background_toTopWindow\", data: msg.frameId } });\r\n}\r\nexport function toActiveTab(msg: { data: any, func: string, frameId?: number }) {\r\n    return Messages.send({ data: msg.data, func: msg.func, bgdata: { func: \"background_toActiveTab\", data:  msg.frameId } });\r\n}\r\nexport function toTab(msg: { data: any, func: string, query: chrome.tabs.QueryInfo }) {\r\n    return Messages.send({ data: msg.data, func: msg.func, bgdata: { func: \"background_toTab\", data: msg.query } });\r\n}\r\nexport function openTab(url: string) {\r\n    return Messages.sendToBG({ func: \"background_openTab\", data: { url: url } });\r\n}\r\nexport function setIconPopup(url?: string) {\r\n    return Messages.sendToBG({ func: \"background_setIconPopup\", data: { url: url } });\r\n}\r\nexport function setIconText(text?: string) {\r\n    return Messages.sendToBG({ func: \"background_setIconText\", data: { text: text } });\r\n}\r\nexport function downloadFile(dl: DownloadFile) {\r\n    return Messages.sendToBG({ func: \"background_downloadFile\", data: dl });\r\n}\r\nexport function alert(msg: string) {\r\n    if (Environment.browser() == Environment.Browsers.Chrome) {\r\n        Messages.sendToBG({ func: \"background_alert\", data: { msg: msg } });\r\n    }\r\n    else {\r\n        window.alert(msg);\r\n    }\r\n}\r\nexport async function confirm(msg: string) {\r\n    if (Environment.browser() == Environment.Browsers.Chrome && !Environment.isBackgroundScript()) {\r\n        let response = await Messages.sendToBG({ func: \"background_confirm\", data: { msg: msg } });\r\n        return response.data as boolean;\r\n    }\r\n    else {\r\n        return window.confirm(msg);\r\n    }\r\n}\r\nexport async function prompt(data: Promt) {\r\n    if (Environment.browser() == Environment.Browsers.Chrome && !Environment.isBackgroundScript()) {\r\n        let response = await Messages.sendToBG({ func: \"background_prompt\", data: data });\r\n        return { aborted: response.data.aborted, text: response.data.text };\r\n    }\r\n    else {\r\n        let value = window.prompt(data.msg, data.fieldText);\r\n        return Promise.resolve({ aborted: !value, text: value });\r\n    }\r\n}\r\nasync function tabQuery(query : chrome.tabs.QueryInfo) {\r\n    return new Promise<number|null>((resolve)=>{\r\n        chrome.tabs.query(query, function(tabs) {\r\n            resolve(tabs[0].id);\r\n        });\r\n    });\r\n}\r\nexport function setup() {\r\n    Messages.setupBackground({\r\n        background_toTopWindow: async function(msg, bgdata, sender) {\r\n            if(!sender.tab || !sender.tab.id) {\r\n                throw new Error(\"Can't send to top window. Tab id is unknown!\");\r\n            }\r\n            var tabid = sender.tab.id;\r\n            let tabResponse = await Messages.sendToTab(tabid, msg, bgdata);\r\n            return tabResponse.data;\r\n        },\r\n        background_toActiveTab: async function(msg, bgdata, sender) {\r\n            let tabid = await tabQuery({ active: true });\r\n            if(!tabid) {\r\n                throw Error(\"No active tab found!\");\r\n            }\r\n            let tabResponse = await Messages.sendToTab(tabid, msg, bgdata);\r\n            return tabResponse.data;\r\n        },\r\n        background_toTab: async function(msg, bgdata, sender) {\r\n            let tabid = await tabQuery(bgdata);\r\n            if(!tabid) {\r\n                throw Error(\"No active tab found!\");\r\n            }\r\n            let tabResponse = await Messages.sendToTab(tabid, msg, bgdata);\r\n            return tabResponse.data;\r\n        },\r\n        background_openTab: async function(msg, bgdata: OpenTab, sender) {\r\n            chrome.tabs.create({ url: bgdata.url });\r\n        },\r\n        background_setIconPopup: async function(msg, bgdata: SetIconPopup, sender) {\r\n            if(!sender.tab || !sender.tab.id) {\r\n                throw new Error(\"Can't set icon popup. Tab id is unknown!\");\r\n            }\r\n            chrome.browserAction.setPopup({ tabId: sender.tab.id, popup: (bgdata && bgdata.url) ? bgdata.url : \"\" });\r\n        },\r\n        background_setIconText: async function(msg, bgdata: SetIconText, sender) {\r\n            if(!sender.tab || !sender.tab.id) {\r\n                throw new Error(\"Can't set icon text. Tab id is unknown!\");\r\n            }\r\n            chrome.browserAction.setBadgeText({ text: (bgdata && bgdata.text) ? bgdata.text : \"\", tabId: sender.tab.id });\r\n        },\r\n        background_downloadFile: async function(msg, bgdata: DownloadFile, sender) {\r\n            chrome.downloads.download({ url: bgdata.url, saveAs: true, filename: bgdata.fileName });\r\n        },\r\n        background_alert: async function(msg, bgdata: Alert, sender) {\r\n            window.alert(bgdata.msg);\r\n        },\r\n        background_prompt: async function(msg, bgdata: Promt, sender) {\r\n            var value = window.prompt(bgdata.msg, bgdata.fieldText);\r\n\r\n            if (value == null || value == \"\") {\r\n                 return { aborted: true, text: null };\r\n            } else {\r\n                return { aborted: false, text: value };\r\n            }\r\n        },\r\n        background_confirm: async function(msg, bgdata: Alert, sender) {\r\n            return window.confirm(bgdata.msg);\r\n        },\r\n        background_exec: async function(msg, bgdata : { arg: any, func: string, cb: boolean }, sender) {\r\n            let fn = bgdata.func.split(\".\").reduce(function(acc, el){\r\n                return acc[el];\r\n            }, window as any);\r\n            if(bgdata.cb) {\r\n                return new Promise((resolve) => {\r\n                    fn(resolve);\r\n                });\r\n            }\r\n            else {\r\n                return fn(bgdata.arg);\r\n            }\r\n        },\r\n        background_exec_cs: async function(msg, bgdata : { cs: string }, sender) {\r\n            chrome.tabs.executeScript(sender.tab!.id!, { code: bgdata.cs });\r\n        }\r\n    });\r\n}\r\n","import * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nlet _isBGPage = false;\r\nexport function declareBGPage(): void {\r\n    _isBGPage = true;\r\n}\r\nexport function getVidPlaySiteUrl(vidHash: VideoTypes.VideoData | { url: string }): string {\r\n    return chrome.extension.getURL(\"/pages/videoplay.html\") + Tools.objToHash(vidHash);\r\n}\r\nexport function getVidPopupSiteUrl(vidHash: Object): string {\r\n    return chrome.extension.getURL(\"/pages/videopopup.html\") + Tools.objToHash(vidHash);\r\n}\r\nexport function getOptionsSiteUrl(): string {\r\n    return chrome.extension.getURL(\"/pages/options.html\");\r\n}\r\nexport function getLibrarySiteUrl(): string {\r\n    return chrome.extension.getURL(\"/pages/library.html\");\r\n}\r\nexport function getPatreonUrl() {\r\n    return \"https://www.patreon.com/join/openvideo?\";\r\n}\r\nexport function getHostSuggestionUrl() {\r\n    return \"https://youtu.be/rbeUGOkKt0o\";\r\n}\r\nexport function getRatingUrl() {\r\n    if (browser() == Browsers.Chrome) {\r\n        return \"https://chrome.google.com/webstore/detail/openvideo-faststream/dadggmdmhmfkpglkfpkjdmlendbkehoh/reviews\";\r\n    }\r\n    else {\r\n        return \"https://addons.mozilla.org/firefox/addon/openvideo/\";\r\n    }\r\n}\r\nexport function getSupportUrl() {\r\n    return \"https://chrome.google.com/webstore/detail/openvideo-faststream/dadggmdmhmfkpglkfpkjdmlendbkehoh/support\";\r\n}\r\nexport function getErrorMsg(error: any) {\r\n    return {\r\n        version: getManifest().version,\r\n        browser: browser(),\r\n        error: Tools.convertToError(error)\r\n    };\r\n}\r\nexport function isExtensionPage(url: string): boolean {\r\n    if (browser() == Browsers.Chrome) {\r\n        return url.indexOf(\"chrome-extension://\") != -1;\r\n    }\r\n    else {\r\n        return url.indexOf(\"moz-extension://\") != -1;\r\n    }\r\n}\r\nexport function getRoot(): string {\r\n    return chrome.extension.getURL(\"\");\r\n}\r\nexport function isBackgroundScript(): boolean {\r\n    return _isBGPage;\r\n}\r\nexport function isContentScript() {\r\n    return !isPageScript() && !isBackgroundScript();\r\n}\r\nexport function isPageScript() {\r\n    return chrome.storage == undefined;\r\n}\r\nexport function getManifest(): any {\r\n    return chrome.runtime.getManifest();\r\n}\r\nexport function getID() {\r\n    return chrome.runtime.id;\r\n}\r\nexport const enum Browsers {\r\n    Chrome = \"chrome\",\r\n    Firefox = \"firefox\"\r\n}\r\nexport function browser(): Browsers {\r\n    if (navigator.userAgent.search(\"Firefox\") != -1) {\r\n        return Browsers.Firefox;\r\n    }\r\n    else if (navigator.userAgent.search(\"Chrome\") != -1) {\r\n        return Browsers.Chrome;\r\n    }\r\n    else {\r\n        throw Error(\"User agent is neither chrome nor Firefox\");\r\n    }\r\n}\r\n","import * as Page from \"OV/page\";\r\nimport * as Messages from \"OV/messages\";\r\nimport * as VideoTypes from \"video_types\";\r\nimport * as Background from \"Messages/background\";\r\nimport * as Storage from \"OV/storage\";\r\nimport * as Environment from \"OV/environment\";\r\n\r\nfunction _getPageRefData() {\r\n    if(Environment.isExtensionPage(location.href)) {\r\n        return null;\r\n    }\r\n    let host = location.href.match(/:\\/\\/(www[0-9]?\\.)?([^/]*)\\/?/)![2];\r\n    let link = document.querySelector(\"link[rel='shortcut icon']\") as HTMLLinkElement;\r\n    if(link) {\r\n        return { url: location.href, icon: Page.getAbsoluteUrl(link.href), name: host };\r\n    }\r\n    else {\r\n        return { url: location.href, icon: \"https://s2.googleusercontent.com/s2/favicons?domain_url=\"+host, name: host };\r\n    }\r\n}\r\n\r\nexport function setup() {\r\n    Messages.addListener({\r\n        getPageRefData: async function () {\r\n            return _getPageRefData();\r\n        }\r\n    })\r\n}\r\nexport async function getPageRefData() {\r\n    if(Page.isFrame()) {\r\n        let response = await Background.toTopWindow({ data: null, func: \"getPageRefData\" });\r\n        return response.data as VideoTypes.PageRefData | null;\r\n    }\r\n    else {\r\n        return _getPageRefData();\r\n    }\r\n}\r\n(window as any)[\"getPageRefData\"] = getPageRefData;\r\nexport async function convertOldPlaylists() {\r\n    let oldfav = await Storage.local.get(\"OpenVideoFavorites\") as VideoTypes.HistoryEntry[];\r\n    let oldhist = await Storage.local.get(\"OpenVideoHistory\") as VideoTypes.HistoryEntry[];\r\n    let mapping = (el : VideoTypes.HistoryEntry) => {\r\n        return {\r\n            title: el.title,\r\n            poster: el.poster,\r\n            origin: {\r\n                url: el.origin,\r\n                name: \"\",\r\n                icon: \"\"\r\n            },\r\n            parent: {\r\n                url: \"CONVERTED_FROM_OLD\",\r\n                name: \"CONVERTED_FROM_OLD\",\r\n                icon: \"CONVERTED_FROM_OLD\"\r\n            },\r\n            watched: el.stoppedTime,\r\n            duration: 0\r\n        }\r\n    };\r\n    if(oldfav) {\r\n        let newfav = oldfav.map(mapping);\r\n        await Storage.playlist_old.setPlaylistByID(Storage.fixed_playlists.favorites.id, newfav);\r\n        await Storage.local.set(\"OpenVideoFavorites\", null)\r\n    }\r\n    if(oldhist) {\r\n        let newhist = oldhist.map(mapping);\r\n        await Storage.playlist_old.setPlaylistByID(Storage.fixed_playlists.history.id, newhist);\r\n        await Storage.local.set(\"OpenVideoHistory\", null)\r\n    }\r\n}\r\n","\"use strict\";\n\nmodule.exports = function escape(url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"';\n  }\n\n  return url;\n};","module.exports = __webpack_public_path__ + \"/pages/assets/png/9d1c349992b139988b754033a58af680.png\";","module.exports = __webpack_public_path__ + \"/pages/assets/png/7c421760d6a070552343efa5e187257a.svg\";","\r\nimport { StringMap } from \"./types\";\r\n\r\nexport function getMsg(msgName: string, args?: StringMap) {\r\n    var msg = chrome.i18n.getMessage(msgName);\r\n    if (args) {\r\n        for (var key in args) {\r\n            msg = msg.replace(\"{\" + key + \"}\", args[key]);\r\n        }\r\n    }\r\n    return msg;\r\n}\r\n","import * as VideoTypes from \"./video_types\";\r\n\r\nimport * as Tools from \"./OV/tools\";\r\nimport * as Analytics from \"./OV/analytics\";\r\nimport * as Environment from \"./OV/environment\";\r\nimport * as Messages from \"./OV/messages\";\r\nimport * as Storage from \"./OV/storage\";\r\nimport * as VideoHistory from \"Messages/videohistory\";\r\nimport * as Page from \"OV/page\";\r\n\r\nexport interface ScriptDetails {\r\n    url: string;\r\n    match: RegExpMatchArray;\r\n    hostname: string;\r\n}\r\n//export type RedirectScript = (details: ScriptDetails) => Promise<VideoTypes.RawVideoData>;\r\nexport const enum RunScopes {\r\n    document_start = \"document_start\",\r\n    document_idle = \"document_idle\",\r\n    document_end = \"document_end\"\r\n}\r\ntype RedirectScriptCtor = new (hostname : string, url : string) => RedirectScript;\r\nexport abstract class RedirectScript {\r\n\r\n    private readonly urlPattern_ : RegExp;\r\n    private readonly details_ : ScriptDetails;\r\n\r\n    constructor(hostname : string, url: string, urlPattern : RegExp) {\r\n        this.urlPattern_ = urlPattern;\r\n        this.details_ = {\r\n            url,\r\n            match: url.match(this.urlPattern_)!,\r\n            hostname\r\n        }\r\n    }\r\n\r\n    get urlPattern() {\r\n        return this.urlPattern_;\r\n    }\r\n\r\n    get details() {\r\n        return this.details_;\r\n    }\r\n\r\n    get hidePage() {\r\n        return true;\r\n    }\r\n\r\n    get runAsContentScript() {\r\n        return false;\r\n    }\r\n\r\n    get canExec() {\r\n        return this.details_.match\r\n            && Tools.parseURL(location.href).query[\"ovignore\"] != \"true\";\r\n    }\r\n\r\n    checkForSubtitles(html : string) {\r\n        if (html.match(/(<track[^>]*src=|\\.vtt|\"?tracks\"?: \\[\\{)/)) {\r\n            Analytics.tracksFound(this.details.hostname, this.details.url)\r\n        }\r\n    }\r\n\r\n    abstract getVideoData() : Promise<VideoTypes.RawVideoData>;\r\n\r\n}\r\n\r\nexport abstract class RedirectHost {\r\n\r\n    private readonly url_ : string;\r\n    private readonly scripts: RedirectScript[];\r\n    private readonly runnable_ : RedirectScript | null;\r\n\r\n    constructor(url : string) {\r\n        this.url_ = url;\r\n        this.scripts = this.getScripts().map(ctor => new ctor(this.hostname, this.url_));\r\n        this.runnable_ = this.scripts.find(script => script.canExec) || null;\r\n    }\r\n\r\n    get url() {\r\n        return this.url_;\r\n    }\r\n\r\n    get hostname() {\r\n        return this.constructor.name;\r\n    }\r\n\r\n    getJSON() {\r\n        return {\r\n            scripts: this.scripts.map((script) =>{\r\n                return { url: script.urlPattern }\r\n            })\r\n        };\r\n    }\r\n\r\n    isEnabled() {\r\n        return Storage.isScriptEnabled(this.hostname);\r\n    }\r\n\r\n    abstract getScripts() : RedirectScriptCtor[];\r\n\r\n    get runAsContentScript() {\r\n        return !!this.runnable_ && this.runnable_.runAsContentScript;\r\n    }\r\n\r\n    get canExec() {\r\n        return !!this.runnable_;\r\n    }\r\n\r\n    get hidePage() {\r\n        return !!this.runnable_ && this.runnable_.hidePage;\r\n    }\r\n\r\n    get runAsPlayerScript() {\r\n        return !!this.runnable_ && !this.runnable_.runAsContentScript;\r\n    }\r\n\r\n    private getFavicon() {\r\n        /*let link = html.match(/(<link[^>]+rel=[\"|']shortcut icon[\"|'][^>]*)/);\r\n        if(link) {\r\n            let favicon = link[1].match(/href[ ]*=[ ]*[\"|']([^\"|^']*)[\"|']/);\r\n            if(favicon) {\r\n                return favicon[1];\r\n            }\r\n        }*/\r\n        return \"https://s2.googleusercontent.com/s2/favicons?domain_url=\"+Tools.parseURL(this.url_);\r\n    }\r\n\r\n    private async getVideoData(rawVideoData : VideoTypes.RawVideoData) {\r\n        let parent = null as VideoTypes.PageRefData | null;\r\n        if(Page.isFrame()) {\r\n            parent = await VideoHistory.getPageRefData();\r\n        }\r\n        let videoData = Tools.merge(rawVideoData, {\r\n            origin: {\r\n                name: this.hostname,\r\n                url: this.url_,\r\n                icon: this.getFavicon()\r\n            },\r\n            parent: parent\r\n        });\r\n        return VideoTypes.makeURLsSave(videoData);\r\n    }\r\n\r\n    async extractVideoData() {\r\n        if(!this.canExec) {\r\n            throw new Error(`Script '${this.hostname}' can't execute on url '${this.url_}'`);\r\n        }\r\n        let videoData = await this.runnable_!.getVideoData();\r\n        return this.getVideoData(videoData);\r\n    }\r\n\r\n}\r\ntype HostJSON = {\r\n    name: string;\r\n    scripts: {\r\n        url: RegExp\r\n    }[]\r\n}\r\ntype RedirectHostCtor = new (url : string) => RedirectHost;\r\nclass RedirectHostsManager {\r\n\r\n    private readonly hosts_ = [] as RedirectHostCtor[];\r\n\r\n    addRedirectHost(host : RedirectHostCtor) {\r\n        this.hosts_.push(host);\r\n    }\r\n\r\n    getHosts(url : string) {\r\n        return this.hosts_.map(ctor => new ctor(url));\r\n    }\r\n\r\n    private getJSON() : HostJSON [] {\r\n        return this.getHosts(\"\").map(host => ({\r\n            name: host.hostname,\r\n            scripts: host.getJSON().scripts\r\n        }));\r\n    }\r\n\r\n    private async getRedirectHosts() {\r\n        if(Environment.isBackgroundScript()) {\r\n            return this.getJSON();\r\n        }\r\n        else {\r\n            let response = await Messages.sendToBG({ func: \"redirect_script_base_getRedirectHosts\", data: {} });\r\n            return response.data as Array<HostJSON>;\r\n        }\r\n    }\r\n\r\n    async getVideoData(url : string) {\r\n        let runnable = this.getHosts(url).find(host => host.canExec);\r\n        if(!runnable) {\r\n            throw new Error(`No matching script for url '${url}'`);\r\n        }\r\n        else {\r\n            return runnable.extractVideoData();\r\n        }\r\n    }\r\n\r\n    async executeContentScript() {\r\n        let runnable = this.getHosts(location.href).find(host => host.canExec);\r\n        if(runnable) {\r\n            let enabled = await runnable.isEnabled();\r\n            if(enabled) {\r\n                try {\r\n                    document.documentElement.hidden = runnable.hidePage;\r\n                    let videoData = await runnable.extractVideoData();\r\n                    location.replace(Environment.getVidPlaySiteUrl(videoData))\r\n                    return true;\r\n                }\r\n                catch(error) {\r\n                    document.documentElement.hidden = false;\r\n                    console.error(error);\r\n                    Analytics.hosterError(runnable.hostname, error);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async getHostsEnabled() {\r\n        return (await Promise.all(this.getJSON().map(async (el)=>{\r\n            return { name: el.name, enabled: await Storage.isScriptEnabled(el.name) };\r\n        }))).reduce((acc, el)=>{\r\n            acc[el.name] = el.enabled;\r\n            return acc;\r\n        }, {} as { [key:string]: boolean });\r\n    }\r\n\r\n    async setupBG() {\r\n        Messages.setupBackground({\r\n            redirect_script_base_getRedirectHosts: async () => {\r\n                return this.getJSON();\r\n            }\r\n        });\r\n        let enabled = await this.getHostsEnabled();\r\n        chrome.webRequest.onBeforeRequest.addListener((details)=>{\r\n            let query = Tools.parseURL(details.url).query;\r\n            if(!query[\"isOV\"] && !query[\"OVReferer\"]) {\r\n                let host = this.getHosts(details.url).find(el => el.runAsPlayerScript);\r\n                if(host && enabled[host.hostname]) {\r\n                    return { redirectUrl: Environment.getVidPlaySiteUrl({ url: details.url }) }\r\n                }\r\n            }\r\n        }, { urls: [\"<all_urls>\"] }, [\"blocking\"])\r\n    }\r\n\r\n    get hosts() {\r\n        return this.getRedirectHosts();\r\n    }\r\n}\r\n\r\nexport default new RedirectHostsManager();\r\n","import * as Page from \"OV/page\";\r\n\r\nexport interface PageRefData {\r\n    url: string;\r\n    icon: string;\r\n    name: string;\r\n}\r\n\r\nexport interface VideoRefData {\r\n    poster: string;\r\n    watched: number;\r\n    duration: number;\r\n    title: string;\r\n    origin: PageRefData;\r\n    parent: PageRefData | null;\r\n}\r\n\r\nexport interface HistoryEntry {\r\n    poster: string;\r\n    title: string;\r\n    origin: string;\r\n    stoppedTime: number;\r\n}\r\nexport interface VideoSource {\r\n    src: string;\r\n    type: string;\r\n    label: string;\r\n    res?: number;\r\n    default?: boolean;\r\n    dlsrc?: DownloadSource\r\n}\r\nexport interface DownloadSource {\r\n    src: string;\r\n    type: string;\r\n    filename?: string;\r\n}\r\nexport interface SubtitleSource {\r\n    src: string;\r\n    label: string;\r\n    kind: string;\r\n    language?: string;\r\n    default?: boolean;\r\n    cues?: VTTCue[]\r\n}\r\nexport interface VTTCue {\r\n    startTime: number;\r\n    endTime: number;\r\n    text: string;\r\n    id: string;\r\n    pauseOnExit: boolean;\r\n}\r\nexport interface RawVideoData {\r\n    poster: string;\r\n    title: string;\r\n    tracks: Array<SubtitleSource>;\r\n    src: Array<VideoSource>;\r\n}\r\nexport interface VideoData extends RawVideoData {\r\n    origin: PageRefData;\r\n    parent: PageRefData | null;\r\n}\r\nexport function makeURLsSave(videoData: VideoData) : VideoData;\r\nexport function makeURLsSave(videoData: RawVideoData) : RawVideoData;\r\nexport function makeURLsSave(videoData: RawVideoData | VideoData) {\r\n    for (let track of videoData.tracks) {\r\n        track.src = Page.getSafeURL(track.src);\r\n    }\r\n    for (let src of videoData.src) {\r\n        src.src = Page.getSafeURL(src.src);\r\n        if (src.dlsrc) {\r\n            src.dlsrc.src = Page.getSafeURL(src.dlsrc.src);\r\n        }\r\n    }\r\n    videoData.poster = Page.getSafeURL(videoData.poster);\r\n    if('origin' in videoData) {\r\n        videoData.origin.icon = Page.getSafeURL(videoData.origin.icon);\r\n        if(videoData.parent) {\r\n            videoData.parent.icon = Page.getSafeURL(videoData.parent.icon);\r\n        }\r\n    }\r\n    return videoData;\r\n}\r\n","\r\nimport { StringMap } from \"./types\";\r\nimport * as Tools from \"./tools\";\r\nimport * as Messages from \"./messages\";\r\nimport * as Environment from \"./environment\";\r\nimport * as Storage from \"./storage\";\r\n\r\nasync function postData(data: StringMap) {\r\n    let isEnabled = await Storage.isAnalyticsEnabled();\r\n\r\n    if (isEnabled) {\r\n        let cid = await Storage.getAnalyticsCID();\r\n        data = Tools.merge({ v: 1, tid: \"UA-118573631-1\", cid: cid }, data);\r\n        return Tools.createRequest({\r\n            url: \"https://www.google-analytics.com/collect\",\r\n            type: Tools.HTTPMethods.POST,\r\n            data: data\r\n        });\r\n    }\r\n    throw Error(\"Analytics is disabled!\");\r\n\r\n}\r\nasync function send(data: StringMap) {\r\n    if (Environment.isBackgroundScript()) {\r\n        await postData(data);\r\n        return { success: true }\r\n    }\r\n    else {\r\n        await Messages.sendToBG({ func: \"analytics_send\", data: data as StringMap });\r\n        return { success: true };\r\n    }\r\n}\r\nexport async function setupBG() {\r\n    Messages.setupBackground({\r\n        analytics_send: async function(msg, bgdata : StringMap, sender) {\r\n            if (bgdata[\"el\"] && bgdata[\"el\"].indexOf(\"<PAGE_URL>\") != -1) {\r\n                if(!sender.tab || !sender.tab.url) {\r\n                    throw new Error(\"Can't replace Page URL. Tab url is unknown!\");\r\n                }\r\n                bgdata[\"el\"] = bgdata[\"el\"].replace(\"<PAGE_URL>\", sender.tab.url);\r\n            }\r\n            console.log(bgdata)\r\n            send(bgdata);\r\n        }\r\n    });\r\n}\r\nasync function fireEvent(category: string, action: string, label: string) {\r\n    await send({ t: \"event\", ec: category, ea: action, el: label });\r\n}\r\nexport async function hosterUsed(hoster : string) {\r\n    return fireEvent(hoster, \"HosterUsed\", \"\");\r\n}\r\nexport async function hosterError(hoster : string, error : any) {\r\n    return fireEvent(hoster, \"Error\", JSON.stringify(Environment.getErrorMsg(error)))\r\n}\r\nexport async function tracksFound(hoster : string, url : string) {\r\n    return fireEvent(hoster, \"TracksFound\", url);\r\n}\r\nexport async function playerEvent(event : string) {\r\n    return fireEvent(event, \"PlayerEvent\", \"\");\r\n}\r\nexport async function videoFromHost(url : string) {\r\n    return fireEvent(\"VideoFromHost\", Tools.parseURL(url).host, \"\");\r\n}\r\nexport async function fullscreenError(url : string, parentUrl : string) {\r\n    return fireEvent(\"FullscreenError\", \"FullscreenError\", `IFrame: '${url}'\\nPage: '${parentUrl}'\\nVersion: ${Environment.getManifest().version}`)\r\n}\r\n","import * as Tools from \"./tools\";\r\nimport * as Messages from \"./messages\";\r\nimport * as Environment from \"./environment\";\r\nimport * as Storage from \"./storage\";\r\nimport * as VideoTypes from \"video_types\";\r\nimport {StringMap} from \"OV/types\";\r\n\r\nexport type Proxy = Storage.Proxy;\r\n\r\nexport function canProxy() {\r\n    return chrome.proxy != undefined;\r\n}\r\nexport function setupBG(): void {\r\n    Messages.setupBackground({\r\n        proxy_setup: async function(data, bgdata: Proxy, sender) {\r\n            return _setup({ ip: bgdata.ip, port: bgdata.port, country: bgdata.country });\r\n        },\r\n        proxy_update: async function(data, bgdata, sender) {\r\n            return _update();\r\n        },\r\n        proxy_remove: async function(data, bgdata, sender) {\r\n            _remove();\r\n        },\r\n        proxy_addHostsToList: async function(data, bgdata, sender) {\r\n            return { added: _addHostsToList(bgdata.hosts) };\r\n        },\r\n        proxy_newProxy: async function(data, bgdata, sender) {\r\n            return _newProxy();\r\n        },\r\n        proxy_getCurrent: async function(data, bgdata, sender) {\r\n            return currentProxy;\r\n        }\r\n    });\r\n}\r\nfunction getChromePAC() {\r\n    if(!currentProxy) {\r\n        throw new Error(\"Can't setup chrome proxy!\");\r\n    }\r\n    function replaceScriptMacros(script: string, macros : StringMap) {\r\n        for(let macro in macros) {\r\n            script = script.replace(new RegExp(\"(\\\\/\\\\*)?\\\\$\"+macro+\"\\\\$(\\\\*\\\\/)?\", \"gi\"), macros[macro]);\r\n        }\r\n        return script;\r\n    }\r\n\r\n    let script = (function FindProxyForURL(url : string, host : string) {\r\n        let hosts = [/*$HOSTS$*/] as RegExp[];\r\n        for(let host of hosts) {\r\n            if(host.test(url)) {\r\n                return \"PROXY $IP$:$PORT$\";\r\n            }\r\n        }\r\n        return \"DIRECT\";\r\n    }).toString();\r\n    let hostsarr = hosts.join(\",\");\r\n    return replaceScriptMacros(script, { ip: currentProxy.ip, port: currentProxy.port.toString(), hosts: hostsarr });\r\n\r\n}\r\nexport async function loadFromStorage() {\r\n    let proxy = await Storage.getProxySettings();\r\n    if(proxy) {\r\n        if(proxy.country == \"Custom\") {\r\n            return setup(proxy);\r\n        }\r\n        else {\r\n            return newProxy();\r\n        }\r\n    }\r\n    return null;\r\n}\r\nlet currentProxy: Proxy | null = null;\r\nexport async function setup(proxy: Proxy): Promise<Proxy> {\r\n\r\n    if (canProxy()) {\r\n        return _setup(proxy);\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_setup\", data: { proxy: proxy } });\r\n        return response.data;\r\n    }\r\n}\r\nasync function _setup(proxy: Proxy): Promise<Proxy> {\r\n    remove();\r\n    currentProxy = proxy;\r\n    Storage.setProxySettings(currentProxy);\r\n    if (Environment.browser() == Environment.Browsers.Chrome) {\r\n        let script  = await getChromePAC();\r\n        console.log(script);\r\n        var config = {\r\n            mode: \"pac_script\",\r\n            pacScript: {\r\n                data: script\r\n            }\r\n        };\r\n        chrome.proxy.settings.set({ value: config, scope: 'regular' });\r\n    }\r\n    else {\r\n        browser.proxy.register(\"/proxy_scripts/pac_firefox.js\");\r\n        browser.runtime.sendMessage({ proxy: currentProxy, hosts: hosts }, { toProxyScript: true });\r\n    }\r\n    return currentProxy;\r\n}\r\nexport async function update(): Promise<Proxy|null> {\r\n    if (canProxy()) {\r\n        return _update();\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_update\", data: {} });\r\n        return response.data;\r\n    }\r\n}\r\nasync function _update(): Promise<Proxy|null> {\r\n    if (currentProxy) {\r\n        return setup(currentProxy);\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport async function newProxy(): Promise<Proxy> {\r\n    if (canProxy()) {\r\n        return _newProxy();\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_newProxy\", data: {} });\r\n        return response.data;\r\n    }\r\n}\r\nlet triedProxies: Array<string> = [];\r\nlet proxies: Array<Proxy> = [];\r\nasync function _newProxy(): Promise<Proxy> {\r\n    if (currentProxy) {\r\n        triedProxies.push(currentProxy.ip);\r\n    }\r\n    if (proxies.length == 0 || triedProxies.length > 20 || triedProxies.length == proxies.length) {\r\n        proxies = await searchProxies();\r\n        triedProxies = [];\r\n\r\n        for (var proxy of proxies) {\r\n            if (triedProxies.indexOf(proxy.ip) == -1) {\r\n                return _setup(proxy);\r\n            }\r\n        }\r\n        throw Error(\"Something went wrong!\");\r\n    }\r\n    else {\r\n        for (var proxy of proxies) {\r\n            if (triedProxies.indexOf(proxy.ip) == -1) {\r\n                return _setup(proxy);\r\n            }\r\n        }\r\n        throw Error(\"Something went wrong!\");\r\n    }\r\n\r\n}\r\nexport async function isEnabled(): Promise<boolean> {\r\n    let proxy = await getCurrentProxy();\r\n    return proxy != null;\r\n}\r\nfunction _isEnabled(): boolean {\r\n    return currentProxy != null;\r\n}\r\nexport async function getCurrentProxy(): Promise<Proxy|null> {\r\n    if (canProxy()) {\r\n        return currentProxy;\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_getCurrent\", data: {} });\r\n        return response.data;\r\n    }\r\n}\r\nexport async function remove() {\r\n    if (canProxy()) {\r\n        _remove();\r\n    }\r\n    else {\r\n        await Messages.sendToBG({ func: \"proxy_remove\", data: {} });\r\n    }\r\n}\r\nfunction _remove() {\r\n    if (Environment.browser() == Environment.Browsers.Chrome) {\r\n        chrome.proxy.settings.clear({});\r\n    }\r\n    else {\r\n        browser.proxy.unregister();\r\n    }\r\n    currentProxy = null;\r\n    Storage.setProxySettings(null);\r\n}\r\nasync function searchProxies(): Promise<Array<Proxy>> {\r\n    var url = \"https://free-proxy-list.net/anonymous-proxy.html\";\r\n    let xhr = await Tools.createRequest({ url: url });\r\n    let HTML = (new DOMParser()).parseFromString(xhr.response, \"text/html\");\r\n\r\n    var table = HTML.getElementsByTagName(\"table\")[0];\r\n    var tableRows = table.getElementsByTagName(\"tr\");\r\n    var proxies: Array<Proxy> = [];\r\n    for (let row of tableRows) {\r\n        if (row.cells[4].innerText == \"elite proxy\") {\r\n            proxies.push({\r\n                ip: row.cells[0].innerText,\r\n                port: parseInt(row.cells[1].innerText),\r\n                country: row.cells[3].innerText,\r\n                anonymity: row.cells[4].innerText\r\n            });\r\n        }\r\n    }\r\n    return proxies;\r\n}\r\nexport async function addHostsfromVideos(videoData: VideoTypes.VideoData) {\r\n    addHostsToList(videoData.src.map((el) => {\r\n        let hosts = [Tools.parseURL(el.src).host];\r\n        if(el.dlsrc) {\r\n            hosts.push(Tools.parseURL(el.dlsrc.src).host);\r\n        }\r\n        return hosts;\r\n    }).reduce((acc, el) => {\r\n        return acc.concat(el);\r\n    }).concat(videoData.tracks.map((el) => {\r\n        return Tools.parseURL(el.src).host;\r\n    })).concat(Tools.parseURL(videoData.poster).host));\r\n}\r\nexport async function addHostsToList(newHosts: RegExp[]|string[]) {\r\n    if (canProxy()) {\r\n        return _addHostsToList(newHosts);\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_addHostsToList\", data: { hosts: newHosts } });\r\n        return response.data.added;\r\n    }\r\n}\r\nlet hosts = [] as string[];\r\nasync function _addHostsToList(newHosts: RegExp[]|string[]) {\r\n    let addedHosts = [] as string[];\r\n    if(newHosts[0] instanceof RegExp) {\r\n        addedHosts = (newHosts as RegExp[]).map((el) => el.toString() );\r\n    }\r\n    else {\r\n        addedHosts = (newHosts as string[]).map((el) => new RegExp(el, \"i\").toString() );\r\n    }\r\n    let needsUpdate = false;\r\n    for(let host of addedHosts) {\r\n        if(hosts.indexOf(host) == -1) {\r\n            hosts.push(host);\r\n            needsUpdate = true;\r\n        }\r\n    }\r\n    console.log(hosts);\r\n    if(needsUpdate) {\r\n        await _update();\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n","import \"./videoplay.scss\";\r\n\r\nimport * as Analytics from \"OV/analytics\";\r\nimport * as Page from \"OV/page\";\r\nimport * as Languages from \"OV/languages\";\r\nimport * as Proxy from \"OV/proxy\";\r\nimport * as Tools from \"OV/tools\";\r\n\r\nimport * as Metadata from \"Messages/metadata\";\r\n\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport RedirectScriptsManager from \"redirect_scripts_base\";\r\nimport * as RedirectScripts from \"../../RedirectScripts\";\r\n\r\nlet videoDataPromise = (async ()=>{\r\n    let videoData = Page.getUrlObj() as VideoTypes.VideoData | { url : string };\r\n    if(\"url\" in videoData) {\r\n        try {\r\n            RedirectScripts.install();\r\n            console.log(videoData);\r\n            return RedirectScriptsManager.getVideoData(videoData.url);\r\n        }\r\n        catch(e) {\r\n            location.replace(Tools.addParamsToURL(videoData.url, { isOV: \"true\" }));\r\n            throw e;\r\n        }\r\n    }\r\n    return videoData;\r\n})()\r\n\r\nimport {OVPlayer} from \"../assets/ts/ov_player\";\r\nimport videojs from \"video.js\";\r\nimport * as TheatreMode from \"Messages/theatremode\";\r\n\r\n\r\nPage.isReady().then(async () => {\r\n    //(window as any).video_js_1.default = (window as any).videojs;\r\n    Metadata.requestPlayerCSS().then(function(css) {\r\n        if (css && css.doChange) {\r\n\r\n            Page.lookupCSS({ value: /rgba?\\(141, 199, 63,?([^\\)]*)?\\)/ }, function(data) {\r\n                data.cssRule.style[data.key!] = css.color;\r\n            });\r\n            Page.lookupCSS({ value: /url\\(\"\\/assets\\/icons\\/playNormal\\.png\"\\)/ }, function(data) {\r\n                data.cssRule.style[data.key!] = css.playimage;\r\n            });\r\n            Page.lookupCSS({ value: /url\\(\"\\/assets\\/icons\\/playHover\\.png\"\\)/ }, function(data) {\r\n                data.cssRule.style[data.key!] = css.playhoverimage;\r\n            });\r\n            /*lookupCSS({ value: 'url(\"/assets/icons/reloadNormal.png\")' }, function(data){\r\n                data.cssRule.style[data.key] = response.reloadimage;\r\n            });\r\n            lookupCSS({ value: 'url(\"/assets/icons/reloadHover.png\")' }, function(data){\r\n                data.cssRule.style[data.key] = response.reloadhoverimage;\r\n            });*/\r\n        }\r\n    });\r\n    Proxy.getCurrentProxy().then(function(proxy) {\r\n        var msg = \"\";\r\n        if (proxy) {\r\n            msg = Languages.getMsg(\"video_player_err_msg_proxy\");\r\n        }\r\n        else {\r\n            msg = Languages.getMsg(\"video_player_err_msg\");\r\n        }\r\n        videojs.addLanguage('en', { \"The media could not be loaded, either because the server or network failed or because the format is not supported.\": msg });\r\n    });\r\n    let videoData = await videoDataPromise;\r\n    Proxy.addHostsfromVideos(videoData);\r\n    if(Page.isFrame()) {\r\n        TheatreMode.setupIframe();\r\n    }\r\n    ReactDOM.render(<OVPlayer videoData={videoData} isPopup={false}/>, document.body);\r\n    document.title = videoData.title + \" - OpenVideo\"\r\n    Analytics.hosterUsed(videoData.origin.name);\r\n\r\n\r\n});\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js!./videoplay.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js!./videoplay.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js!./videoplay.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"body {\\n  overflow: hidden;\\n  background: #000000;\\n  padding: 0;\\n  margin: 0;\\n  width: 100vw;\\n  height: 100vh; }\\n\", \"\"]);\n\n","\r\nimport * as Messages from \"OV/messages\";\r\nimport * as Environment from \"OV/environment\";\r\nimport * as Storage from \"OV/storage\";\r\nimport * as Page from \"OV/page\";\r\nimport * as Tools from \"OV/tools\";\r\n\r\nimport * as Background from \"./background\";\r\n\r\nasync function toDataURL(url: string) {\r\n    let xhr = await Tools.createRequest({\r\n        url: url, beforeSend: function(xhr) {\r\n            xhr.responseType = 'blob';\r\n        }\r\n    });\r\n    return new Promise<string>(function(resolve, reject) {\r\n        var reader = new FileReader();\r\n        reader.onloadend = function() {\r\n            resolve(\"url(\" + reader.result + \")\");\r\n        }\r\n        reader.onerror = function() {\r\n            reject(reader.error);\r\n        }\r\n        reader.readAsDataURL(xhr.response);\r\n    });\r\n}\r\nexport interface PlayerStyle {\r\n    doChange: boolean;\r\n    color: string;\r\n    playimage: string;\r\n    playhoverimage: string;\r\n}\r\nexport async function requestPlayerCSS() {\r\n    let response = await Background.toTopWindow({ func: \"metadata_requestPlayerCSS\", data: {} });\r\n    return response.data as PlayerStyle | null;\r\n}\r\nexport async function setup() {\r\n    await Page.isReady();\r\n    let ovtags = document.getElementsByTagName(\"openvideo\");\r\n    let metadata: PlayerStyle | null = null;\r\n    Messages.addListener({\r\n        metadata_requestPlayerCSS: async function(request) {\r\n            if (ovtags.length > 0) {\r\n                if (metadata) {\r\n                    return metadata;\r\n                }\r\n                else {\r\n                    let ovtag = ovtags[0] as HTMLElement;\r\n                    if(!ovtag.hasAttribute(\"playimage\") || !ovtag.hasAttribute(\"playhoverimage\")) {\r\n                        throw Error(\"The openvideo tag has a wrong format!\");\r\n                    }\r\n                    let dataURLs = await Promise.all([toDataURL(ovtag.getAttribute(\"playimage\")!), toDataURL(ovtag.getAttribute(\"playhoverimage\")!)]);\r\n                    return { doChange: true, color: ovtag.getAttribute(\"color\"), playimage: dataURLs[0], playhoverimage: dataURLs[1] };\r\n                }\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n    });\r\n    if (ovtags.length > 0) {\r\n        let ovtag = ovtags[0] as HTMLElement;\r\n        ovtag.innerText = Environment.getManifest().version;\r\n        ovtag.dispatchEvent(new Event(\"ov-metadata-received\"));\r\n    }\r\n\r\n}\r\n","import ScriptManager from \"redirect_scripts_base\";\r\nimport * as Page from \"OV/page\";\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Environment from \"OV/environment\";\r\n\r\nimport FlashX from \"./redirect_scripts/flashx\";\r\nimport FruitStreams from \"./redirect_scripts/FruitStreams\";\r\nimport MP4Upload from \"./redirect_scripts/MP4Upload\";\r\nimport MyCloud from \"./redirect_scripts/MyCloud\";\r\nimport OpenLoad from \"./redirect_scripts/OpenLoad\";\r\nimport RapidVideo from \"./redirect_scripts/RapidVideo\";\r\nimport SpeedVid from \"./redirect_scripts/SpeedVid\";\r\nimport StreamCloud from \"./redirect_scripts/StreamCloud\";\r\nimport VeryStream from \"./redirect_scripts/VeryStream\";\r\nimport VevIO from \"./redirect_scripts/VevIO\";\r\nimport VidCloud from \"./redirect_scripts/VidCloud\";\r\nimport VidLox from \"./redirect_scripts/VidLox\";\r\nimport Vidoza from \"./redirect_scripts/Vidoza\";\r\nimport VidTo from \"./redirect_scripts/VidTo\";\r\nimport Vidzi from \"./redirect_scripts/Vidzi\";\r\nimport Vivo from \"./redirect_scripts/Vivo\";\r\n\r\nexport function install() {\r\n    if(!Page.isFrame() && !Environment.isBackgroundScript() && !Tools.importVar(\"imgLoaded\")) {\r\n        Page.loadImageIntoReg(`data:image/png;base64,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`\r\n        );\r\n        Tools.exportVar(\"imgLoaded\", true);\r\n    }\r\n    ScriptManager.addRedirectHost(FlashX);\r\n    ScriptManager.addRedirectHost(FruitStreams);\r\n    ScriptManager.addRedirectHost(MP4Upload);\r\n    ScriptManager.addRedirectHost(MyCloud);\r\n    ScriptManager.addRedirectHost(OpenLoad);\r\n    ScriptManager.addRedirectHost(RapidVideo);\r\n    ScriptManager.addRedirectHost(SpeedVid);\r\n    ScriptManager.addRedirectHost(StreamCloud);\r\n    ScriptManager.addRedirectHost(VeryStream);\r\n    ScriptManager.addRedirectHost(VevIO);\r\n    ScriptManager.addRedirectHost(VidCloud);\r\n    ScriptManager.addRedirectHost(VidLox);\r\n    ScriptManager.addRedirectHost(Vidoza);\r\n    ScriptManager.addRedirectHost(VidTo);\r\n    ScriptManager.addRedirectHost(Vidzi);\r\n    ScriptManager.addRedirectHost(Vivo);\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass FlashXScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?flashx\\.[^\\/,^\\.]{2,}\\/(embed.php\\?c=(.*)|(.*)\\.jsp|playvideo\\-(.*)\\.html\\?playvid)/i)\r\n    }\r\n    async getVideoData() {\r\n        let getVideoCode = async () => {\r\n            if (this.details.match[5]) {\r\n                return this.details.match[5];\r\n            }\r\n            else {\r\n                await Promise.all([\r\n                    Tools.createRequest({ url: \"https://flashx.co/counter.cgi\", hideRef: true }),\r\n                    Tools.createRequest({ url: \"https://flashx.co/flashx.php?f=fail&fxfx=6\", hideRef: true })\r\n                ]);\r\n                return this.details.match[3] || this.details.match[4];\r\n            }\r\n        }\r\n        let videoCode = await getVideoCode();\r\n        let xhr = await Tools.createRequest({ url: \"https://flashx.co/playvideo-\" + videoCode + \".html?playvid\", hideRef: true });\r\n        let HTML = xhr.responseText;\r\n\r\n        this.checkForSubtitles(HTML);\r\n\r\n        if (xhr.status != 200 || HTML.indexOf(\"Sorry, file was deleted or the link is expired!\") != -1) {\r\n            throw Error(\"No Video!\");\r\n        }\r\n\r\n        let srcHashStr = HTML.match(/updateSrc\\(([^\\)]*)\\)/)![1];\r\n        srcHashStr = srcHashStr.substr(0, srcHashStr.lastIndexOf(\",\")) + \"]\";\r\n        srcHashStr = srcHashStr.replace(/src:/g, '\"src\":');\r\n        srcHashStr = srcHashStr.replace(/label:/g, '\"label\":');\r\n        srcHashStr = srcHashStr.replace(/res:/g, '\"res\":');\r\n        srcHashStr = srcHashStr.replace(/type:/g, '\"type\":');\r\n        srcHashStr = srcHashStr.replace(/'/g, '\"');\r\n        console.log(srcHashStr)\r\n        let src = JSON.parse(srcHashStr);\r\n        let poster = Tools.matchNull(HTML, /poster=\"([^\"]*)\"/);\r\n\r\n        return {\r\n            src: [{ src: src[0].src, type: src[0].type, label: \"SD\" }],\r\n            poster: poster,\r\n            tracks: [],\r\n            title: \"FlashX Video\"\r\n        };\r\n    }\r\n}\r\nexport default class FlashX extends RedirectHost {\r\n    getScripts() {\r\n        return [FlashXScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Analytics from \"OV/analytics\";\r\n\r\nclass FruitStreamsScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?(streamango|fruitstreams|streamcherry|fruitadblock|fruithosts)\\.[^\\/,^\\.]{2,}\\/(f|embed)\\/.+/i)\r\n    }\r\n    async getVideoData() {\r\n        function resolveVideo(hashCode: string, intVal: number) {\r\n            let chars = \"=/+9876543210zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA\";\r\n            let retVal = '';\r\n            hashCode = hashCode.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\r\n            for (let hashIndex = 0; hashIndex < hashCode.length; hashIndex += 4) {\r\n                let hashCharCode_0 = chars.indexOf(hashCode.charAt(hashIndex));\r\n                let hashCharCode_1 = chars.indexOf(hashCode.charAt(hashIndex + 1));\r\n                let hashCharCode_2 = chars.indexOf(hashCode.charAt(hashIndex + 2));\r\n                let hashCharCode_3 = chars.indexOf(hashCode.charAt(hashIndex + 3));\r\n                retVal = retVal + String.fromCharCode(((hashCharCode_0 << 0x2) | (hashCharCode_1 >> 0x4)) ^ intVal);\r\n                if (hashCharCode_2 != 0x40) {\r\n                    retVal = retVal + String.fromCharCode(((hashCharCode_1 & 0xf) << 0x4) | (hashCharCode_2 >> 0x2))\r\n                }\r\n                if (hashCharCode_3 != 0x40) {\r\n                    retVal = retVal + String.fromCharCode(((hashCharCode_2 & 0x3) << 0x6) | hashCharCode_3)\r\n                }\r\n            }\r\n            return retVal;\r\n        }\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.responseText;\r\n        this.checkForSubtitles(HTML);\r\n        if (xhr.status != 200 || HTML.indexOf(\"We are unable to find the video you're looking for.\") != -1) {\r\n            throw Error(\"No Video!\");\r\n        }\r\n        let funcParams = HTML.match(/src:d\\('([^']*)',([^\\)]*)/);\r\n        let funcStr = funcParams![1];\r\n        let funcInt = parseInt(funcParams![2]);\r\n\r\n        let src = { type: \"video/mp4\", src: \"https:\" + resolveVideo(funcStr, funcInt), label: \"SD\" };\r\n        let poster = Tools.matchNull(HTML, /poster=\"([^\"]*)\"/);\r\n        let title = Tools.matchNull(HTML, /meta name=\"og:title\" content=\"([^\"]*)\"/);\r\n\r\n        let subtitles = Tools.getTracksFromHTML(HTML);\r\n\r\n        return { src: [src], poster: poster, title: title, tracks: subtitles };\r\n    }\r\n}\r\nexport default class FruitStreams extends RedirectHost {\r\n    getScripts() {\r\n        return [FruitStreamsScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\n\r\nclass MP4UploadScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?mp4upload\\.[^\\/,^\\.]{2,}\\/embed\\-.+/i)\r\n    }\r\n    async getVideoData() {\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.response;\r\n        this.checkForSubtitles(HTML);\r\n        if (HTML.indexOf(\"File was deleted\") != -1) {\r\n            throw Error(\"No Video!\");\r\n        }\r\n        let evalStr = HTML.match(/(eval\\(function\\(p,a,c,k,e,d\\).*\\.split\\('\\|'\\)\\)\\))/)[1];\r\n        let code = Tools.unpackJS(evalStr);\r\n        let src = code.match(/player\\.src\\(\"([^\"]*)\"/)![1];\r\n        let poster = code.match(/player\\.poster\\(\"([^\"]*)\"/)![1];\r\n\r\n        return {\r\n            src: [{ type: \"video/mp4\", src: src, label: \"SD\" }],\r\n            poster: poster,\r\n            title: \"MP4Upload Video\",\r\n            tracks: []\r\n        };\r\n    }\r\n}\r\nexport default class MP4Upload extends RedirectHost {\r\n    getScripts() {\r\n        return [MP4UploadScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Analytics from \"OV/analytics\";\r\nimport * as Page  from \"OV/page\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass MyCloudScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?mcloud\\.[^\\/,^\\.]{2,}\\/embed\\/.+/i)\r\n    }\r\n\r\n    get runAsContentScript() {\r\n        return true;\r\n    }\r\n\r\n    async getVideoData() {\r\n\r\n        await Page.isReady();\r\n\r\n        let HTML = document.documentElement.innerHTML;\r\n        let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n        let rawsrces = JSON.parse(HTML.match(/sources: (\\[\\{.*\\}\\])/)![1]);\r\n        let srces: VideoTypes.VideoSource[] = [];\r\n        for (let src of rawsrces) {\r\n            srces.push({ src: src.file, type: \"application/x-mpegURL\", label: \"SD\" });\r\n        };\r\n        let poster = Tools.matchNull(HTML, /image: '([^']*)'/);\r\n\r\n\r\n        let trackFile = Tools.getParamFromURL(this.details.url, \"sub.file\");\r\n        let trackLabel = Tools.getParamFromURL(this.details.url, \"sub.label\") || \"English\";\r\n        return {\r\n            src: srces,\r\n            poster: poster,\r\n            title: title,\r\n            tracks: trackFile ? [{ src: decodeURIComponent(decodeURIComponent(trackFile)), label: trackLabel, kind: \"Captions\", default: true }] : []\r\n        };\r\n    }\r\n}\r\nexport default class MyCloud extends RedirectHost {\r\n    getScripts() {\r\n        return [MyCloudScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Analytics from \"OV/analytics\";\r\n\r\nclass OpenLoadScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?(openload|oload)\\.[^\\/,^\\.]{2,}\\/(embed|f)\\/.+/i);\r\n    }\r\n    async getVideoData() {\r\n        if (this.details.url.indexOf(\"openload.co\") == -1) {\r\n            this.details.url = this.details.url.replace(/(openload|oload)\\.[^\\/,^\\.]{2,}/, \"oload.services\");\r\n        }\r\n\r\n        if (this.details.url.indexOf(\"/f/\") != -1) {\r\n            this.details.url = this.details.url.replace(\"/f/\", \"/embed/\");\r\n        }\r\n\r\n        function getStreamUrl(longString: string, varAtbytes: number, varAt_1x4bfb36: number): string {\r\n            let streamUrl = \"\";\r\n            let hexByteArr = [];\r\n            for (let i = 0; i < 9 * 8; i += 8) {\r\n                hexByteArr.push(parseInt(longString.substring(i, i + 8), 16));\r\n            }\r\n            longString = longString.substring(9 * 8);\r\n            let iterator = 0;\r\n            for (let arrIterator = 0; iterator < longString.length; arrIterator++) {\r\n                let maxHex = 64;\r\n                let value = 0;\r\n                let currHex = 255;\r\n                for (let byteIterator = 0; currHex >= maxHex; byteIterator += 6) {\r\n                    if (iterator + 1 >= longString.length) {\r\n                        maxHex = 0x8F;\r\n                    }\r\n                    currHex = parseInt(longString.substring(iterator, iterator + 2), 16);\r\n                    value += (currHex & 63) << byteIterator;\r\n                    iterator += 2;\r\n                }\r\n                let bytes = value ^ hexByteArr[arrIterator % 9] ^ varAtbytes ^ varAt_1x4bfb36;\r\n                let usedBytes = maxHex * 2 + 127;\r\n                for (let i = 0; i < 4; i++) {\r\n                    let urlChar = String.fromCharCode(((bytes & usedBytes) >> 8 * i) - 1);\r\n                    if (urlChar != \"$\") {\r\n                        streamUrl += urlChar;\r\n                    }\r\n                    usedBytes = usedBytes << 8;\r\n                }\r\n            }\r\n            //console.log(streamUrl)\r\n            return streamUrl;\r\n        }\r\n\r\n        console.log(this.details.url);\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.responseText;\r\n\r\n        this.checkForSubtitles(HTML)\r\n\r\n        console.log(xhr.responseURL);\r\n        if (xhr.status != 200 || HTML.indexOf(\"We can't find the file you are looking for. It maybe got deleted by the owner or was removed due a copyright violation.\") != -1 || HTML.indexOf(\"The file you are looking for was blocked.\") != -1) {\r\n            console.log(xhr.status, HTML)\r\n            throw Error(\"No Video\");\r\n        }\r\n\r\n        let thumbnailUrl = Tools.matchNull(HTML, /poster=\"([^\"]*)\"/);\r\n        let title = Tools.matchNull(HTML, /meta name=\"og:title\" content=\"([^\"]*)\"/);\r\n\r\n\r\n        let subtitles = Tools.getTracksFromHTML(HTML);\r\n\r\n        console.log(HTML);\r\n        let longString = HTML.match(/<p[^>]*>([^<]*)<\\/p>/)![1];\r\n        console.log(longString)\r\n\r\n        let keyNum1 = HTML.match(/\\_0x45ae41\\[\\_0x5949\\('0xf'\\)\\]\\(_0x30725e,(.*)\\),\\_1x4bfb36/)![1];\r\n        let keyNum2 = HTML.match(/\\_1x4bfb36=(.*);/)![1];\r\n\r\n        let keyResult1 = 0;\r\n        let keyResult2 = 0;\r\n        //console.log(longString, keyNum1, keyNum2);\r\n        try {\r\n            let keyNum1_Oct = parseInt(keyNum1.match(/parseInt\\('(.*)',8\\)/)![1], 8);\r\n            let keyNum1_Sub = parseInt(keyNum1.match(/\\)\\-([^\\+]*)\\+/)![1]);\r\n            let keyNum1_Div = parseInt(keyNum1.match(/\\/\\(([^\\-]*)\\-/)![1]);\r\n            let keyNum1_Sub2 = parseInt(keyNum1.match(/\\+0x4\\-([^\\)]*)\\)/)![1]);\r\n\r\n            keyResult1 = (keyNum1_Oct - keyNum1_Sub + 4 - keyNum1_Sub2) / (keyNum1_Div - 8);\r\n\r\n            let keyNum2_Oct = parseInt(keyNum2.match(/\\('([^']*)',/)![1], 8);\r\n            let keyNum2_Sub = parseInt(keyNum2.substr(keyNum2.indexOf(\")-\") + 2));\r\n\r\n            keyResult2 = keyNum2_Oct - keyNum2_Sub;\r\n            //console.log(keyNum1, keyNum2);\r\n\r\n        }\r\n        catch (e) {\r\n            //console.error(e.stack);\r\n            throw Error(\"Key Numbers not parsed!\");\r\n        }\r\n        return {\r\n\r\n            src: [{\r\n                type: \"video/mp4\",\r\n                src: \"https://\"\r\n                + Tools.parseURL(this.details.url).host\r\n                + \"/stream/\" + getStreamUrl(longString, keyResult1, keyResult2)\r\n                + \"?mime=true\",\r\n                label: \"SD\"\r\n            }],\r\n            poster: thumbnailUrl,\r\n            title: title,\r\n            tracks: subtitles\r\n\r\n        };\r\n    }\r\n}\r\nexport default class OpenLoad extends RedirectHost {\r\n    getScripts() {\r\n        return [OpenLoadScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Analytics from \"OV/analytics\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass RapidVideoScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?rapidvideo\\.[^\\/,^\\.]{2,}\\/(\\?v=[^&\\?]*|e\\/.+|v\\/.+)/i)\r\n    }\r\n    async getVideoData() {\r\n        this.details.url = this.details.url.replace(/(\\/?\\?v=|\\/v\\/)/i, \"/e/\").replace(/[&\\?]q=?[^&\\?]*/i, \"\").replace(/[&\\?]autostart=?[^&\\?]*/i, \"\");\r\n        let parser = new DOMParser();\r\n        interface VideoInfo {\r\n            title: string;\r\n            poster: string;\r\n            tracks: VideoTypes.SubtitleSource[];\r\n            urls: string[];\r\n        }\r\n        function checkResponse(xhr: XMLHttpRequest) {\r\n            if (xhr.response.indexOf(\"To continue, please type the characters below\") != -1) {\r\n                location.href = Tools.addParamsToURL(location.href, { ovignore: \"true\" });\r\n            }\r\n        }\r\n        let getVideoInfo = async () => {\r\n            let xhr = await Tools.createRequest({ url: this.details.url, referer: this.details.url });\r\n            checkResponse(xhr);\r\n            this.checkForSubtitles(xhr.response);\r\n            let html = parser.parseFromString(xhr.response, \"text/html\");\r\n            let title = html.title;\r\n            let videoTag = html.getElementsByTagName(\"video\")[0];\r\n            let poster = videoTag.poster;\r\n            let tracksHTML = videoTag.getElementsByTagName(\"track\");\r\n            let tracks = [];\r\n            for (let track of tracksHTML) {\r\n                tracks.push({ src: track.src, label: track.label, kind: track.kind, default: track.default });\r\n            }\r\n            let urlsHTML = html.querySelectorAll('a[href*=\"https://www.rapidvideo.com/e/\"]') as NodeListOf<HTMLAnchorElement>;\r\n            let urls: string[] = [];\r\n            for (let url of urlsHTML) {\r\n                urls.push(url.href);\r\n            }\r\n            if (urls.length == 0) {\r\n                urls.push(this.details.url);\r\n            }\r\n            return { title: title, poster: poster, tracks: tracks, urls: urls };\r\n        }\r\n        let getVideoSrc = async (url: string) => {\r\n            let xhr = await Tools.createRequest({ url: url, referer: this.details.url });\r\n            checkResponse(xhr);\r\n            let html = parser.parseFromString(xhr.response, \"text/html\");\r\n            let source = html.getElementsByTagName(\"source\")[0];\r\n            return {\r\n                src: source.src,\r\n                label: source.title,\r\n                type: source.type,\r\n                res: parseInt(source.dataset.res!)\r\n            } as VideoTypes.VideoSource;\r\n        }\r\n        async function getVideoSrces(info: VideoInfo) {\r\n            let videos = await Promise.all(info.urls.map(getVideoSrc));\r\n            videos[videos.length - 1].default = true;\r\n            return { src: videos, poster: info.poster, title: info.title, tracks: info.tracks } as VideoTypes.VideoData;\r\n        }\r\n        let info = await getVideoInfo();\r\n        let srces = await getVideoSrces(info);\r\n        return srces;\r\n    }\r\n}\r\nexport default class RapidVideo extends RedirectHost {\r\n    getScripts() {\r\n        return [RapidVideoScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass SpeedVidScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?speedvid\\.[^\\/,^\\.]{2,}\\/[^\\/]+/i)\r\n    }\r\n    async getVideoData() {\r\n        if (this.details.url.indexOf(\"sn-\") != -1) {\r\n            this.details.url = \"https://www.speedvid.net/\" + this.details.url.match(/sn\\-([^\\-]*)\\-/i)![1];\r\n        }\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.responseText;\r\n        this.checkForSubtitles(HTML)\r\n\r\n        if (xhr.status != 200 || HTML.indexOf(\"<Title>Watch </Title>\") == -1) {\r\n            throw Error(\"No Video!\");\r\n        }\r\n        let image = Tools.matchNull(HTML, /image:'([^']*)'/);\r\n        let src = HTML.match(/file: '([^']*)'/)![1];\r\n        let title = Tools.matchNull(HTML, /div class=\"dltitre\">([^<]*)<\\/div>/);\r\n\r\n        return {\r\n            src: [{ src: src, type: \"video/mp4\", label: \"SD\" }],\r\n            title: title,\r\n            poster: image,\r\n            tracks: []\r\n        }\r\n    }\r\n}\r\nexport default class SpeedVid extends RedirectHost {\r\n    getScripts() {\r\n        return [SpeedVidScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Page from \"OV/page\";\r\n\r\nclass StreamCloudScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?streamcloud\\.[^\\/,^\\.]{2,}\\/([^\\.]+)(\\.html)?/i)\r\n    }\r\n    get hidePage() {\r\n        return false;\r\n    }\r\n    get runAsContentScript() {\r\n        return true;\r\n    }\r\n    async getVideoData() {\r\n        await Page.isReady();\r\n        let button = document.getElementsByName('imhuman')[0];\r\n        if (button == undefined) {\r\n            throw new Error(\"No Video!\");\r\n        }\r\n        await Page.awaitAttributeValue(button, \"class\", \"button gray blue\");\r\n        let xhr = await Tools.createRequest({\r\n            url: this.details.url,\r\n            type: Tools.HTTPMethods.POST,\r\n            protocol: \"http://\",\r\n            formData: {\r\n                op: \"download1\",\r\n                id: this.details.match[2].match(/([^\\/]*)(\\/.*)?/)![1]\r\n            },\r\n            hideRef: true\r\n        });\r\n\r\n\r\n        let HTML = xhr.response;\r\n        this.checkForSubtitles(HTML);\r\n\r\n        let videoHashStr = HTML.match(/jwplayer\\(\"mediaplayer\"\\)\\.setup\\(([^\\)]*)/)[1];\r\n        let src = videoHashStr.match(/file: \"([^\"]*)\"/)[1];\r\n        let poster = Tools.matchNull(videoHashStr, /image: \"([^\"]*)\"/);\r\n        let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n        return {\r\n\r\n            src: [{\r\n                type: \"video/mp4\",\r\n                src: src,\r\n                label: \"SD\"\r\n            }],\r\n            title: title,\r\n            poster: poster,\r\n            tracks: []\r\n        };\r\n    }\r\n}\r\nexport default class StreamCloud extends RedirectHost {\r\n    getScripts() {\r\n        return [StreamCloudScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\n\r\nclass VeryStreamScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?(verystream)\\.[^\\/,^\\.]{2,}\\/e\\/([a-zA-Z0-9]*)/i)\r\n    }\r\n    async getVideoData() {\r\n        let xhr = await Tools.createRequest({\r\n            url: this.details.url,\r\n            hideRef: true\r\n        });\r\n        let html = xhr.response;\r\n        this.checkForSubtitles(html);\r\n\r\n        let videoLink = html.match(/<p.*id=\"videolink\".*>([^<]*)<\\/p>/)[1];\r\n\r\n        let src = {\r\n            src: \"/gettoken/\"+videoLink+\"?mime=true\",\r\n            type: \"video/mp4\",\r\n            label: \"SD\"\r\n        }\r\n        let title = Tools.matchNull(html, /<meta.*name=\"og:title\".*content=\"([^\"]*)\".*>/);\r\n        let poster = Tools.matchNull(html, /<video.*poster=\"([^\"]*)\".*>/);\r\n\r\n        return {\r\n\r\n            src: [src],\r\n            tracks: [],\r\n            title: title || \"\",\r\n            poster: poster || \"\"\r\n        };\r\n    }\r\n}\r\nexport default class VeryStream extends RedirectHost {\r\n    getScripts() {\r\n        return [VeryStreamScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\nimport * as Page from \"OV/page\";\r\n\r\nclass VevIOScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?vev\\.[^\\/,^\\.]{2,}\\/.+/i)\r\n    }\r\n    get runAsContentScript() {\r\n        return true;\r\n    }\r\n    async getVideoData() {\r\n        let getVideoCode = async () => {\r\n            if (this.details.url.indexOf(\"embed\") == -1) {\r\n\r\n                let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true })\r\n                if (xhr.response.indexOf('class=\"video-main\"') != -1) {\r\n                    return this.details.url.substr(this.details.url.lastIndexOf(\"/\"));\r\n                }\r\n                else {\r\n                    throw Error(\"Not a Video!\");\r\n                }\r\n            }\r\n            else {\r\n                return this.details.url.substr(this.details.url.lastIndexOf(\"/\") + 1);\r\n            }\r\n        }\r\n        let videoCode = await getVideoCode();\r\n        let xhrs = await Promise.all([\r\n            Page.injectFunction((sendMsg)=>{\r\n                let open = XMLHttpRequest.prototype.open as any;\r\n                XMLHttpRequest.prototype.open = function(method : string, url : string) {\r\n                    if(method == \"POST\" && url.indexOf(\"/api/serve/video\") != -1) {\r\n                        this.addEventListener(\"readystatechange\", ()=>{\r\n                            if(this.readyState == 4) {\r\n                                sendMsg(JSON.parse(this.response));\r\n                            }\r\n                        })\r\n                    }\r\n                    return open.apply(this, arguments);\r\n                }\r\n            }),\r\n            Tools.createRequest({ url: \"https://vev.io/api/serve/video/\" + videoCode, hideRef: true })\r\n        ]);\r\n\r\n        let videoJSON = xhrs[0];\r\n        let videoDesc = JSON.parse(xhrs[1].response);\r\n\r\n        let srces: VideoTypes.VideoSource[] = [];\r\n        for (let key in videoJSON.qualities) {\r\n            srces.push({ label: key, src: videoJSON.qualities[key], type: \"video/mp4\" });\r\n        }\r\n        srces = srces.reverse();\r\n        srces[0].default = true;\r\n        return {\r\n\r\n            src: srces,\r\n            poster: videoJSON.poster,\r\n            tracks: videoJSON.subtitles,\r\n            title: videoDesc.video.title\r\n\r\n        };\r\n    }\r\n}\r\nexport default class VevIO extends RedirectHost {\r\n    getScripts() {\r\n        return [VevIOScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass VidCloudScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?(vidcloud|vcstream|loadvid|megaxfer)\\.[^\\/,^\\.]{2,}\\/embed\\/([a-zA-Z0-9]*)/i)\r\n    }\r\n    async getVideoData() {\r\n        let embedID = this.details.match[3];\r\n        let xhrs = await Promise.all([\r\n            Tools.createRequest({\r\n                url: \"https://vidcloud.co/player\",\r\n                data: { fid: embedID },\r\n                referer: this.details.url\r\n            }),\r\n            Tools.createRequest({\r\n                url: \"https://vidcloud.co/download\",\r\n                type: Tools.HTTPMethods.POST,\r\n                formData: { file_id: embedID },\r\n                referer: this.details.url\r\n            })\r\n        ]);\r\n        let html = xhrs[0].response;\r\n        let dlhtml = xhrs[1].response;\r\n        console.log(dlhtml);\r\n        let rawRes = dlhtml.match(/href=\\\\\"([^\"]*)\\\\\" download=\\\\\"([^\"]*)\\\\\"[^>]*>([^<]*)</g);\r\n        let dlsrces: VideoTypes.DownloadSource[] = [];\r\n        for (let res of rawRes) {\r\n            let matches = res.match(/href=\\\\\"([^\"]*)\\\\\" download=\\\\\"([^\"]*)\\\\\"[^>]*>([^<]*)</);\r\n            dlsrces.push({ src: matches[1], filename: \"[\" + matches[3] + \"]\" + matches[2], type: \"video/mp4\" });\r\n        }\r\n        console.log(html);\r\n        let rawSrces = JSON.parse(\"[\"+JSON.parse(\"\\\"\" + html.match(/.*sources = \\[([^\\]]*)/)[1] + \"\\\"\")+\"]\");\r\n        let rawTracks = JSON.parse(\"[\"+JSON.parse(\"\\\"\" + html.match(/.*tracks = \\[([^\\]]*)/)[1] + \"\\\"\")+\"]\");\r\n        let title = JSON.parse('\"'+Tools.matchNull(html, /title: '([^']*)'/)+'\"');\r\n        let poster = JSON.parse('\"'+Tools.matchNull(html, /image: '([^']*)'/)+'\"');\r\n        let srces: VideoTypes.VideoSource[] = [];\r\n        for (let i = 0; i < rawSrces.length; i++) {\r\n            srces.push({ src: rawSrces[i].file, type: \"application/x-mpegURL\", dlsrc: dlsrces[0], label: \"SD\" })\r\n        }\r\n        let tracks: VideoTypes.SubtitleSource[] = [];\r\n        for (let track of rawTracks) {\r\n            tracks.push({ src: track.file, label: track.label, default: track.default || false, kind: track.kind })\r\n        }\r\n\r\n        return {\r\n\r\n            src: srces,\r\n            tracks: tracks,\r\n            title: title,\r\n            poster: poster\r\n        };\r\n    }\r\n}\r\nexport default class VidCloud extends RedirectHost {\r\n    getScripts() {\r\n        return [VidCloudScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass VidLoxScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?vidlox\\.[^\\/,^\\.]{2,}\\/embed\\-.+/i)\r\n    }\r\n    async getVideoData() {\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.response;\r\n        this.checkForSubtitles(HTML);\r\n        console.log(HTML);\r\n        let src = JSON.parse(HTML.match(/sources: (\\[.*\\]),/)[1])[0];\r\n        //let title = HTML.match(/<title>([<\"]*)<\\/title>/i)[1];\r\n        let poster = Tools.matchNull(HTML, /poster: \"([^\"]*)\"/);\r\n        return {\r\n            src: [{ type: \"application/x-mpegURL\", src: src, label: \"SD\" }],\r\n            poster: poster,\r\n            title: \"VidLox Video\",\r\n            tracks: []\r\n        };\r\n    }\r\n}\r\nexport default class VidLox extends RedirectHost {\r\n    getScripts() {\r\n        return [VidLoxScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass VidozaScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?vidoza\\.[^\\/,^\\.]{2,}\\/.+/i)\r\n    }\r\n    async getVideoData() {\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.response;\r\n        this.checkForSubtitles(HTML);\r\n\r\n        if (this.details.url.indexOf(\"/embed\") == -1) {\r\n            if (HTML.indexOf(\"videojs('player')\") == -1) {\r\n                throw Error(\"No Video!\");\r\n            }\r\n            else {\r\n                location.href = location.href.replace(\"vidoza.net/\", \"vidoza.net/embed-\").replace(/\\.html.*/, \".html\");\r\n                throw Error(\"No embed Video! Redirecting...\");\r\n            }\r\n        }\r\n        else {\r\n            let rawsources = JSON.parse(HTML.match(/sourcesCode: (\\[\\{.*\\}\\])/)[1].replace(/src:/g, '\"src\":').replace(/type:/g, '\"type\":').replace(/label:/g, '\"label\":').replace(/res:/g, '\"res\":'));\r\n            let sources: VideoTypes.VideoSource[] = [];\r\n            for (let src of rawsources) {\r\n                sources.push({ src: src.src, label: src.res, type: src.type });\r\n            }\r\n            let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n            let poster = Tools.matchNull(HTML, /poster: \"([^\"]*)\"/);\r\n            return {\r\n                src: sources,\r\n                poster: poster,\r\n                title: title,\r\n                tracks: []\r\n            };\r\n        }\r\n    }\r\n}\r\nexport default class Vidoza extends RedirectHost {\r\n    getScripts() {\r\n        return [VidozaScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass VidToScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?vidto\\.[^\\/,^\\.]{2,}\\//i)\r\n    }\r\n    async getVideoData() {\r\n        if (this.details.url.indexOf(\"embed-\") == -1 && this.details.url.indexOf(\".html\") != -1) {\r\n            this.details.url = this.details.url.replace(/vidto\\.[^\\/,^\\.]{2,}\\//, \"vidto.me/embed-\");\r\n        }\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.responseText;\r\n        if (xhr.status != 200 || HTML.indexOf(\"File Does not Exist, or Has Been Removed\") != -1) {\r\n            throw Error(\"No Video!\");\r\n        }\r\n        this.checkForSubtitles(HTML);\r\n        let playerHashStr = \"{\" + HTML.match(/\\.setup\\(\\{(.*)duration:/)![1] + \"}\";\r\n\r\n        let sources = playerHashStr.match(/sources:(.*\\}\\]),/)![1];\r\n        sources = sources.replace(/file:/g, '\"src\":');\r\n        sources = sources.replace(/label:/g, '\"label\":');\r\n        let srcObj = JSON.parse(sources);\r\n        srcObj[0].default = true;\r\n        let image = Tools.matchNull(playerHashStr, /image: \"([^\"]*)\"/);\r\n        return {\r\n            src: srcObj,\r\n            title: \"VidTo.me video\",\r\n            poster: image,\r\n            tracks: []\r\n        };\r\n    }\r\n}\r\nexport default class VidTo extends RedirectHost {\r\n    getScripts() {\r\n        return [VidToScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass VidziScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?vidzi\\.[^\\/,^\\.]{2,}\\/.+/i)\r\n    }\r\n    async getVideoData() {\r\n        if (this.details.url.indexOf(\"embed-\") != -1) {\r\n            if (this.details.url.indexOf(\"-\") == this.details.url.lastIndexOf(\"-\")) {\r\n                this.details.url = this.details.url.replace(\"embed-\", \"\");\r\n            }\r\n            else {\r\n                this.details.url = \"https://www.vidzi.tv/\" + this.details.url.match(/embed\\-([^\\-]*)\\-/)![1];\r\n            }\r\n            console.log(this.details.url);\r\n        }\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.responseText;\r\n        this.checkForSubtitles(HTML);\r\n\r\n        if (xhr.status != 200 || HTML.indexOf(\"file was deleted\") != -1 || HTML.indexOf(\"yt-uix-form-textarea share-embed-code\") == -1) {\r\n            throw Error(\"No Video!\");\r\n        }\r\n        let videoHash = HTML.match(/jwplayer\\(\"vplayer\"\\)\\.setup\\(\\{(.*)\\}\\);/)![1];\r\n        let image = Tools.matchNull(videoHash, /image: \"([^\"]*)\"/);\r\n        let src = videoHash.match(/sources: \\[\\{file: \"([^\"]*)\"/)![1];\r\n        let title = Tools.matchNull(HTML, /<title>([<\"]*)<\\/title>/i);\r\n\r\n        return {\r\n            src: [{ src: src, type: \"application/x-mpegURL\", label: \"SD\" }],\r\n            title: title,\r\n            poster: image,\r\n            tracks: []\r\n        }\r\n    }\r\n}\r\nexport default class Vidzi extends RedirectHost {\r\n    getScripts() {\r\n        return [VidziScript];\r\n    }\r\n}\r\n","import { RedirectHost, RedirectScript } from \"redirect_scripts_base\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nclass VivoScript extends RedirectScript {\r\n    constructor(hostname : string, url : string) {\r\n        super(hostname, url, /https?:\\/\\/(www\\.)?vivo\\.[^\\/,^\\.]{2,}\\/.+/i)\r\n    }\r\n    async getVideoData() {\r\n        let xhr = await Tools.createRequest({ url: this.details.url, hideRef: true });\r\n        let HTML = xhr.response;\r\n        this.checkForSubtitles(HTML);\r\n        let videoURL = atob(HTML.match(/data-stream=\"([^\"]*)\"/)[1]);\r\n        let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n\r\n        return {\r\n            src: [{ type: \"video/mp4\", src: videoURL, label: \"SD\" }],\r\n            title: title,\r\n            tracks: [],\r\n            poster: \"\"\r\n        };\r\n    }\r\n}\r\nexport default class Vivo extends RedirectHost {\r\n    getScripts() {\r\n        return [VivoScript];\r\n    }\r\n}\r\n","import \"!style-loader!css-loader!video.js/dist/video-js.css\";\r\nimport \"./ov_player.scss\";\r\n\r\nimport * as React from \"react\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Analytics from \"OV/analytics\";\r\nimport * as Environment from \"OV/environment\";\r\nimport * as Page from \"OV/page\";\r\nimport * as Messages from \"OV/messages\";\r\nimport * as Storage from \"OV/storage\";\r\nimport * as Languages from \"OV/languages\";\r\n\r\nimport * as Background from \"Messages/background\";\r\n\r\n(window as any)[\"Worker\"] = undefined;\r\nMessages.setupMiddleware();\r\nPage.wrapType(XMLHttpRequest, {\r\n    open: {\r\n        get: function(target) {\r\n            if(OVPlayer.getInstance()) {\r\n                return OVPlayer.getInstance()!.httpReqOpenOverride(target);\r\n            }\r\n            else {\r\n                return target.open;\r\n            }\r\n        }\r\n    }\r\n});\r\nimport videojs from \"video.js\";\r\nimport * as OVPlayerComponents from \"./ov_player_components\";\r\nimport \"videojs-hotkeys/videojs.hotkeys.js\";\r\nOVPlayerComponents.setup();\r\ntype OVPlayerProps = {\r\n    videoData: VideoTypes.VideoData\r\n    options?: videojs.PlayerOptions\r\n    isPopup: boolean;\r\n    onError?: (player : Player) => any;\r\n}\r\ntype OVPlayerState = {\r\n\r\n}\r\nexport interface Player extends videojs.Player {\r\n    hotkeys: (obj: Object) => void;\r\n    updateSrc: (srces: Array<VideoTypes.VideoSource>) => void;\r\n    execute: (cmd: string, data : any) => any;\r\n}\r\nexport class OVPlayer extends React.Component<OVPlayerProps, OVPlayerState> {\r\n\r\n    private player : Player | null = null;\r\n    private videoNode : HTMLVideoElement | null = null;\r\n    private srtSelector = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n    private static instance : OVPlayer | null = null;\r\n\r\n    static getInstance() {\r\n        return OVPlayer.instance;\r\n    }\r\n\r\n    constructor(props : OVPlayerProps) {\r\n        super(props);\r\n        OVPlayer.instance = this;\r\n    }\r\n\r\n    httpReqOpenOverride(target : XMLHttpRequest) {\r\n        return (method: string, url: string) => {\r\n            if (this.player && this.player.currentType().match(/application\\//i) && /\\.(ts|m3u8)$/.test(url)) {\r\n                url = Tools.addRefererToURL(url, this.props.videoData.origin.url);\r\n            }\r\n            target.open(method, url);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // instantiate Video.js\r\n        this.setupSrtSelector();\r\n        this.player = videojs(this.videoNode, Tools.merge(this.props.options, {\r\n            plugins: {\r\n\r\n            },\r\n            playbackRates: [0.5, 1, 2],\r\n            language: Languages.getMsg(\"video_player_locale\")\r\n        }), () => {\r\n            this.playerReady();\r\n        }) as Player;\r\n    }\r\n\r\n    // destroy player on unmount\r\n    componentWillUnmount() {\r\n        if (this.player) {\r\n            this.player.dispose()\r\n            this.player = null;\r\n        }\r\n    }\r\n    componentDidUpdate(oldProps : OVPlayerProps) {\r\n        this.setVideoData(this.props.videoData);\r\n    }\r\n    async execute(cmd : string, data: any) {\r\n        if(cmd == \"downloadSource\") {\r\n            this.downloadSource(data);\r\n        }\r\n        else if(cmd == \"downloadActiveSource\") {\r\n            this.downloadSource(this.getActiveVideoSource());\r\n        }\r\n        else if(cmd == \"downloadTrack\") {\r\n            this.downloadTrack(data);\r\n        }\r\n        else if(cmd == \"loadSubtitlesFromFile\") {\r\n            this.srtSelector.click();\r\n        }\r\n        else if(cmd == \"loadSubtitlesFromURL\") {\r\n            let response = await Background.prompt({ msg: \"Please enter the url of the subtitle file you want to use\", fieldText: \"\" });\r\n            if (!response.aborted) {\r\n                let fn = await Tools.getUrlFileName(response.text);\r\n                this.appendTextTrack({ kind: \"captions\", label: fn, language: \"AddedFromUser\", src: response.text });\r\n            }\r\n        }\r\n        else if(cmd == \"addToPlaylist\") {\r\n            let id = (data as Storage.Playlist).id;\r\n            await Storage.addToPlaylist(await this.getVideoRefData(), id);\r\n        }\r\n        else if(cmd == \"removeFromPlaylist\") {\r\n            let id = (data as Storage.Playlist).id;\r\n            Storage.removeFromPlaylist(this.props.videoData.origin.url, id);\r\n        }\r\n    }\r\n    downloadSource(src : VideoTypes.VideoSource) {\r\n        var file = Tools.merge(src.dlsrc || { src: src.src, type: src.type, filename: null }, { label: src.label });\r\n        if (file.type.indexOf(\"application/\") == -1) {\r\n            var dlData = { url: file.src, fileName: \"\" };\r\n            var label = file.label;\r\n            dlData.fileName = file.filename || (this.props.videoData.title + \".\" + file.type.substr(file.type.indexOf(\"/\") + 1)).replace(/[/\\\\?%*:|\"<>]/g, ' ').trim();\r\n            if (label) {\r\n                dlData.fileName = \"[\" + label + \"]\" + dlData.fileName;\r\n            }\r\n            console.log(dlData);\r\n            Background.downloadFile(dlData);\r\n        } else {\r\n            Background.alert(\"HLS videos can't be downloaded :/\\nTry downloading that video from a different hoster.\");\r\n        }\r\n    }\r\n    downloadTrack(label : string) {\r\n        let trackSrc = this.props.videoData.tracks.find(function(src : VideoTypes.SubtitleSource) {\r\n            return label == src.label;\r\n        });\r\n        if (trackSrc) {\r\n            let filename = \"[\"+trackSrc.label+\"]\"+this.props.videoData.title+\".vtt\".replace(/[/\\\\?%*:|\"<>]/g, ' ').trim();\r\n            Background.downloadFile({ url: trackSrc.src, fileName: filename });\r\n        }\r\n    }\r\n    setupSrtSelector() {\r\n\r\n        this.srtSelector.type = \"file\";\r\n        this.srtSelector.accept = \".vtt, .srt, .txt\";\r\n        this.srtSelector.style.display = \"none\";\r\n        this.srtSelector.addEventListener(\"change\", () => {\r\n            var collection = new FileReader;\r\n            collection.onload = () => {\r\n                let result = collection.result as string;\r\n                if (result.indexOf(\"-->\") !== -1) {\r\n                    this.player!.addTextTrack(\"captions\", this.srtSelector.files![0].name, \"AddedFromUser\");\r\n                    var track = this.player!.textTracks()[this.player!.textTracks().length - 1];\r\n                    parseSrt(result, function(cue) {\r\n                        track.addCue(cue);\r\n                    });\r\n                } else {\r\n                    Background.alert(\"Invaid subtitle file\");\r\n                }\r\n            };\r\n            collection.readAsText(this.srtSelector.files![0], \"ISO-8859-1\");\r\n        });\r\n    }\r\n    async playerReady() {\r\n        this.player!.execute = this.execute.bind(this);\r\n\r\n        this.player!.hotkeys({\r\n            volumeStep: 0.1,\r\n            seekStep: 5,\r\n            enableModifiersForNumbers: false\r\n        });\r\n        (this.player!.el() as HTMLElement).style.width = \"100%\";\r\n        (this.player!.el() as HTMLElement).style.height = \"100%\";\r\n        let ControlBar = this.player!.getChild('controlBar');\r\n        if(!ControlBar) {\r\n            throw new Error(\"Control bar is missing!\");\r\n        }\r\n        var DownloadButton = ControlBar.addChild('vjsDownloadButton', {});\r\n        var PatreonButton = ControlBar.addChild('vjsPatreonButton', {});\r\n        var FullscreenToggle = ControlBar.getChild('fullscreenToggle') as videojs.FullscreenToggle;\r\n        var CaptionsButton = ControlBar.getChild('SubsCapsButton') as videojs.CaptionsButton;\r\n        CaptionsButton.show();\r\n        let playlists = await Storage.getPlaylists();\r\n        playlists.splice(0,1);\r\n        let activeIds = await Storage.getPlaylistsWithVideo(this.props.videoData.origin.url);\r\n        let active = playlists.filter((el)=>{\r\n            return activeIds.some((id)=>{\r\n                return id == el.id;\r\n            })\r\n        });\r\n        var PlaylistButton = ControlBar.addChild(\"vjsPlaylistButton\",{ playlists: playlists, active: active });\r\n\r\n\r\n        console.log(\"player is ready\");\r\n        this.player!.on(\"ratechange\", () => {\r\n            Analytics.playerEvent(\"PlaybackRate\");\r\n        });\r\n        FullscreenToggle.on(\"click\", () => {\r\n            window.setTimeout(() => {\r\n                if (Environment.browser() == Environment.Browsers.Chrome && !(document as any).fullscreen && this.player!.isFullscreen()) {\r\n                    console.log(\"FULLSCREEN ERROR\");\r\n                    Analytics.fullscreenError(this.props.videoData.origin.url, (this.props.videoData.parent || {} as any).url)\r\n                }\r\n            }, 1000);\r\n        });\r\n        ControlBar.el().insertBefore(DownloadButton.el(), FullscreenToggle.el());\r\n        ControlBar.el().insertBefore(PatreonButton.el(), FullscreenToggle.el());\r\n        ControlBar.el().insertBefore(PlaylistButton.el(), FullscreenToggle.el());\r\n        if(!this.props.isPopup && Page.isFrame()) {\r\n            var TheaterButton = ControlBar.addChild('vjsTheatreButton', {});\r\n            ControlBar.el().insertBefore(TheaterButton.el(), FullscreenToggle.el());\r\n            this.player!.on(\"fullscreenchange\", () => {\r\n                if(this.player!.isFullscreen()) {\r\n                    (TheaterButton.el() as HTMLElement).style.display = \"none\";\r\n                }\r\n                else {\r\n                    (TheaterButton.el() as HTMLElement).style.removeProperty(\"display\");\r\n                }\r\n            });\r\n        }\r\n        let volume = await Storage.getPlayerVolume();\r\n        this.player!.volume(volume);\r\n        this.player!.on('volumechange', () => {\r\n            Storage.setPlayerVolume(this.player!.volume());\r\n        });\r\n        this.player!.one('loadedmetadata', () => {\r\n            if(this.props.isPopup) {\r\n                Analytics.videoFromHost(this.props.videoData.origin.url);\r\n            }\r\n            this.loadFromHistory();\r\n        });\r\n        this.player!.el().addEventListener(\"mouseleave\", () => {\r\n            if (this.player!.currentTime() != 0) {\r\n                this.saveToHistory();\r\n            }\r\n        });\r\n        if(this.props.onError) {\r\n            this.player!.on('error', () => {\r\n                if(this.props.onError) {\r\n                    this.props.onError(this.player!);\r\n                }\r\n            });\r\n        }\r\n        if(!this.props.isPopup) {\r\n            this.player!.on('error', () => {\r\n                if ((this.player! as any).readyState() == 0) {\r\n                    //if(Response.status == 404 || Response.status == 400 || Response.status == 403) {\r\n\r\n                    Analytics.hosterError(this.props.videoData.origin.name,{ msg: this.player!.error()!.message, url: this.props.videoData.origin.url });\r\n                    //}\r\n                    //document.location.replace(Hash.vidSiteUrl + (Hash.vidSiteUrl.indexOf(\"?\") == -1 ? \"?\" : \"&\") + \"ignoreRequestCheck=true\");\r\n                }\r\n                else {\r\n                    /*OVPlayer.player!.bigPlayButton.on(\"click\", () => {\r\n                        location.replace(this.props.videoData.origin.url);\r\n                    });\r\n                    OVPlayer.player!.bigPlayButton.addClass(\"reloadButton\");*/\r\n                }\r\n\r\n            });\r\n        }\r\n        this.setVideoData(this.props.videoData);\r\n        this.player!.controls(true);\r\n    }\r\n    // wrap the player in a div with a `data-vjs-player` attribute\r\n    // so videojs won't create additional wrapper in the DOM\r\n    // see https://github.com/videojs/video.js/pull/3856\r\n    render() {\r\n        return (\r\n            <div data-vjs-player>\r\n                <video\r\n                    ref={ node => this.videoNode = node }\r\n                    className=\"video-js vjs-big-play-centered\"\r\n                    preload=\"auto\"\r\n                ></video>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    async appendTextTrack(rawTrack: VideoTypes.SubtitleSource) {\r\n        let convertToTrack = (srcContent : string) => {\r\n            if (srcContent.indexOf(\"-->\") !== -1) {\r\n\r\n                this.player!.addTextTrack(rawTrack.kind, rawTrack.label, rawTrack.language);\r\n                let track = this.player!.textTracks()[this.player!.textTracks().length - 1];\r\n                if (rawTrack.default) {\r\n                    track.mode = \"showing\";\r\n                }\r\n                parseSrt(srcContent, function(cue) {\r\n                    track.addCue(cue);\r\n                });\r\n\r\n            } else {\r\n                throw Error(\"Invaid subtitle file\");\r\n            }\r\n        }\r\n        try {\r\n            let xhr = await Tools.createRequest({ url: rawTrack.src });\r\n            convertToTrack(xhr.responseText);\r\n        }\r\n        catch(e) {\r\n            let xhr = await Tools.createRequest({ url: Tools.removeRefererFromURL(rawTrack.src) });\r\n            convertToTrack(xhr.responseText);\r\n        }\r\n    }\r\n    getActiveVideoSource(): VideoTypes.VideoSource {\r\n        for (let src of this.props.videoData.src) {\r\n            if (this.player!.src().indexOf(src.src) == 0) {\r\n                return src;\r\n            }\r\n        }\r\n        throw new Error(\"No video source active!\");\r\n    }\r\n    setVideoData(videoData: VideoTypes.VideoData) {\r\n\r\n\r\n        this.player!.poster(videoData.poster);\r\n        var srces = videoData.src;\r\n        if (srces.length == 1) {\r\n            this.player!.src(srces[0]);\r\n        }\r\n        else {\r\n            let quality = this.player!.controlBar.addChild(\"vjsQualityButton\", { sources: srces });\r\n            let button = this.player!.controlBar.getChild(\"vjsTheatreButton\")\r\n                || this.player!.controlBar.getChild(\"fullscreenToggle\");\r\n            this.player!.controlBar.el().insertBefore(quality.el(), button!.el());\r\n        }\r\n        for (let track of videoData.tracks) {\r\n            this.appendTextTrack(track);\r\n            //player.addRemoteTextTrack(<any>track, true);\r\n        }\r\n\r\n    }\r\n    async getVideoRefData() {\r\n        let entry = await Storage.getPlaylistEntry(this.props.videoData.origin.url);\r\n        return {\r\n            poster: this.props.videoData.poster,\r\n            title: this.props.videoData.title,\r\n            origin: this.props.videoData.origin,\r\n            parent: this.props.videoData.parent || (entry ? entry.data.parent : null),\r\n            watched: this.player!.currentTime() == this.player!.duration() ? 0 : this.player!.currentTime(),\r\n            duration: this.player!.duration()\r\n        };\r\n    }\r\n    async saveToHistory() {\r\n        let isEnabled = await Storage.isHistoryEnabled();\r\n        if (isEnabled) {\r\n            var videoData = await this.getVideoRefData();\r\n            Storage.addToPlaylist(videoData, Storage.fixed_playlists.history.id);\r\n        }\r\n    }\r\n    async loadFromHistory() {\r\n        let entry = await Storage.getPlaylistEntry(this.props.videoData.origin.url)\r\n        if (entry) {\r\n            this.player!.currentTime(entry.data.watched);\r\n        }\r\n\r\n    }\r\n}\r\nfunction parseSrt(dataAndEvents: string, oncue: (cue: VideoTypes.VTTCue) => void) {\r\n\r\n    function trim(dataAndEvents: string) {\r\n        return (dataAndEvents + \"\").replace(/^\\s+|\\s+$/g, \"\");\r\n    }\r\n    function parseCueTime(dataAndEvents: string): number {\r\n        var parts = dataAndEvents.split(\":\");\r\n        /** @type {number} */\r\n        var sum = 0;\r\n        var minutes;\r\n        var part;\r\n        var url;\r\n        var x;\r\n        var i;\r\n        if (parts.length == 3) {\r\n            minutes = parts[0];\r\n            part = parts[1];\r\n            url = parts[2];\r\n        } else {\r\n            minutes = \"0\";\r\n            part = parts[0];\r\n            url = parts[1];\r\n        }\r\n        url = url.split(/\\s+/);\r\n        x = url.splice(0, 1)[0];\r\n        x = x.split(/\\.|,/);\r\n        i = parseFloat(x[1]);\r\n        x = x[0];\r\n        sum += parseFloat(minutes) * 3600;\r\n        sum += parseFloat(part) * 60;\r\n        sum += parseFloat(x);\r\n        if (i) {\r\n            sum += i / 1E3;\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    if (dataAndEvents == \"\") {\r\n        alert(\"Invalid srt file!\");\r\n    }\r\n    var tempData;\r\n    var splitted;\r\n    var collection;\r\n    var nodes = dataAndEvents.split(\"\\n\");\r\n    var resp = \"\";\r\n    var user_id;\r\n    var cuelength = 0;\r\n    var n = nodes.length;\r\n    for (var i = 1; i < n; ++i) {\r\n        resp = trim(nodes[i]);\r\n        if (resp) {\r\n            if (resp.indexOf(\"-->\") == -1) {\r\n                user_id = resp;\r\n                resp = trim(nodes[++i]);\r\n            } else {\r\n                user_id = cuelength;\r\n            }\r\n            tempData = {\r\n                id: user_id,\r\n                index: cuelength,\r\n                startTime: 0,\r\n                endTime: 0,\r\n                text: \"\"\r\n            };\r\n            splitted = resp.split(/[\\t ]+/);\r\n            tempData.startTime = parseCueTime(splitted[0]);\r\n            tempData.endTime = parseCueTime(splitted[2]);\r\n            /** @type {Array} */\r\n            collection = [];\r\n            for (; nodes[++i] && (resp = trim(nodes[i]));) {\r\n                collection.push(resp);\r\n            }\r\n            tempData.text = collection.join(\"\\n\");\r\n            oncue({ id: \"\", startTime: tempData.startTime, endTime: tempData.endTime, text: tempData.text, pauseOnExit: false });\r\n            cuelength += 1;\r\n        }\r\n    }\r\n}\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/lib/loader.js!./ov_player.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/lib/loader.js!./ov_player.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/lib/loader.js!./ov_player.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar urlEscape = require(\"../../../../node_modules/css-loader/dist/runtime/url-escape.js\");\nvar ___CSS_LOADER_URL___0___ = urlEscape(require(\"../png/logo256.png\"));\nvar ___CSS_LOADER_URL___1___ = urlEscape(require(\"../icons/Patreon_logomark.svg\"));\nvar ___CSS_LOADER_URL___2___ = urlEscape(require(\"../icons/light-off.svg\"));\nvar ___CSS_LOADER_URL___3___ = urlEscape(require(\"../icons/settings-work-tool.svg\"));\nvar ___CSS_LOADER_URL___4___ = urlEscape(require(\"../icons/playlist.svg\"));\n\n// Module\nexports.push([module.id, \"body {\\n  font-family: \\\"Open Sans\\\", sans-serif;\\n  font-size: 11px; }\\n\\nvideo {\\n  outline: none; }\\n\\n.video-js {\\n  display: flex; }\\n  .video-js .vjs-big-play-button {\\n    background: url(\" + ___CSS_LOADER_URL___0___ + \") no-repeat;\\n    background-size: contain;\\n    background-position: center;\\n    position: unset;\\n    top: unset;\\n    left: unset;\\n    margin: auto;\\n    width: 4em;\\n    height: 4em;\\n    z-index: 999;\\n    border: none; }\\n    .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\\n      content: none; }\\n  .video-js:hover .vjs-big-play-button {\\n    background-color: transparent; }\\n\\n.vjs-has-started .vjs-control-bar {\\n  display: inline-flex;\\n  background-color: transparent;\\n  bottom: 0em;\\n  left: 0em;\\n  right: 0em;\\n  width: unset;\\n  height: 3.25em;\\n  font-size: 1.2em; }\\n  .vjs-has-started .vjs-control-bar:before {\\n    content: '';\\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8));\\n    pointer-events: none;\\n    position: absolute;\\n    left: 0em;\\n    right: 0em;\\n    bottom: 0em;\\n    height: 5em; }\\n  .vjs-has-started .vjs-control-bar .vjs-play-control {\\n    padding-left: 1em;\\n    width: 5em; }\\n  .vjs-has-started .vjs-control-bar .vjs-fullscreen-control {\\n    padding-right: 1em;\\n    width: 5em; }\\n  .vjs-has-started .vjs-control-bar .vjs-button {\\n    opacity: 0.9;\\n    outline: none; }\\n    .vjs-has-started .vjs-control-bar .vjs-button:hover {\\n      opacity: 1; }\\n  .vjs-has-started .vjs-control-bar .vjs-button {\\n    cursor: pointer;\\n    padding-bottom: 0.25em; }\\n    .vjs-has-started .vjs-control-bar .vjs-button .vjs-icon-placeholder:before {\\n      position: unset; }\\n  .vjs-has-started .vjs-control-bar .vjs-menu-content {\\n    font-size: 0.9em; }\\n    .vjs-has-started .vjs-control-bar .vjs-menu-content li {\\n      padding: 0.2em; }\\n  .vjs-has-started .vjs-control-bar .vjs-progress-control {\\n    height: unset;\\n    position: absolute;\\n    width: 100%;\\n    bottom: 100%;\\n    padding: 0 1em; }\\n    .vjs-has-started .vjs-control-bar .vjs-progress-control .vjs-progress-holder {\\n      margin: 0; }\\n    .vjs-has-started .vjs-control-bar .vjs-progress-control .vjs-play-progress {\\n      background-color: #8dc73f; }\\n  .vjs-has-started .vjs-control-bar .vjs-duration {\\n    display: block;\\n    padding-left: 0.3em; }\\n  .vjs-has-started .vjs-control-bar .vjs-current-time {\\n    display: block;\\n    padding-right: 0; }\\n    .vjs-has-started .vjs-control-bar .vjs-current-time:after {\\n      content: \\\" / \\\"; }\\n  .vjs-has-started .vjs-control-bar .vjs-remaining-time {\\n    display: none; }\\n  .vjs-has-started .vjs-control-bar .vjs-playback-rate {\\n    margin-left: auto; }\\n  .vjs-has-started .vjs-control-bar .vjs-subs-caps-button .vjs-menu {\\n    width: 15em;\\n    left: -5.5em; }\\n    .vjs-has-started .vjs-control-bar .vjs-subs-caps-button .vjs-menu ul {\\n      overflow-x: hidden; }\\n      .vjs-has-started .vjs-control-bar .vjs-subs-caps-button .vjs-menu ul li {\\n        position: relative;\\n        text-transform: capitalize; }\\n        .vjs-has-started .vjs-control-bar .vjs-subs-caps-button .vjs-menu ul li button {\\n          -webkit-mask: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTQgMTMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGw6I2ZmZmZmZjt9PC9zdHlsZT48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEyLDkgMTIsMTEgMiwxMSAyLDkgMCw5IDAsMTMgMTQsMTMgMTQsOSAiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEwLDMuNiA4LDUuNiA4LDAgNiwwIDYsNS42IDQsMy42IDIuNiw1IDcsOS40IDExLjQsNSAiLz48L3N2Zz4=) no-repeat 0 50%;\\n          width: 13px;\\n          position: absolute;\\n          right: 5px;\\n          top: 2px;\\n          bottom: 2px;\\n          -webkit-mask-position: center;\\n          background-color: #fff; }\\n      .vjs-has-started .vjs-control-bar .vjs-subs-caps-button .vjs-menu ul li.vjs-selected button {\\n        background-color: #2B333F;\\n        color: #2B333F !important; }\\n  .vjs-has-started .vjs-control-bar .vjs-download-button {\\n    width: 100%;\\n    height: 100%;\\n    background-color: white;\\n    -webkit-mask: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTQgMTMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGw6I2ZmZmZmZjt9PC9zdHlsZT48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEyLDkgMTIsMTEgMiwxMSAyLDkgMCw5IDAsMTMgMTQsMTMgMTQsOSAiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEwLDMuNiA4LDUuNiA4LDAgNiwwIDYsNS42IDQsMy42IDIuNiw1IDcsOS40IDExLjQsNSAiLz48L3N2Zz4=) no-repeat center/1.5em; }\\n  .vjs-has-started .vjs-control-bar .vjs-patreon-button {\\n    width: 100%;\\n    height: 100%;\\n    background: url(\" + ___CSS_LOADER_URL___1___ + \") no-repeat center/1.8em; }\\n  .vjs-has-started .vjs-control-bar .vjs-theatre-button {\\n    width: 100%;\\n    height: 100%;\\n    -webkit-mask: url(\" + ___CSS_LOADER_URL___2___ + \") no-repeat center/1.5em;\\n    background-color: white; }\\n  .vjs-has-started .vjs-control-bar .vjs-quality-button .vjs-menu-button {\\n    -webkit-mask: url(\" + ___CSS_LOADER_URL___3___ + \") no-repeat center/1.5em;\\n    background-color: white; }\\n  .vjs-has-started .vjs-control-bar .vjs-quality-button .vjs-menu {\\n    width: 7em;\\n    left: -1.5em; }\\n    .vjs-has-started .vjs-control-bar .vjs-quality-button .vjs-menu ul li {\\n      position: relative; }\\n      .vjs-has-started .vjs-control-bar .vjs-quality-button .vjs-menu ul li button {\\n        -webkit-mask: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTQgMTMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGw6I2ZmZmZmZjt9PC9zdHlsZT48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEyLDkgMTIsMTEgMiwxMSAyLDkgMCw5IDAsMTMgMTQsMTMgMTQsOSAiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEwLDMuNiA4LDUuNiA4LDAgNiwwIDYsNS42IDQsMy42IDIuNiw1IDcsOS40IDExLjQsNSAiLz48L3N2Zz4=) no-repeat 0 50%;\\n        width: 13px;\\n        position: absolute;\\n        right: 5px;\\n        top: 2px;\\n        bottom: 2px;\\n        -webkit-mask-position: center;\\n        background-color: #fff; }\\n    .vjs-has-started .vjs-control-bar .vjs-quality-button .vjs-menu ul li.vjs-selected button {\\n      background-color: #2B333F;\\n      color: #2B333F !important; }\\n  .vjs-has-started .vjs-control-bar .vjs-playlist-button .vjs-menu-button {\\n    -webkit-mask: url(\" + ___CSS_LOADER_URL___4___ + \") no-repeat center;\\n    -webkit-mask-size: 1.9em;\\n    background-color: white; }\\n  .vjs-has-started .vjs-control-bar .vjs-playlist-button .vjs-menu ul li {\\n    text-transform: capitalize; }\\n\", \"\"]);\n\n","module.exports = __webpack_public_path__ + \"/pages/assets/png/edb0e8352c1a6ef8999f94d6569f38e8.svg\";","module.exports = __webpack_public_path__ + \"/pages/assets/png/42d5d72c2ac6db8ee5d7eda660a78fa7.svg\";","module.exports = __webpack_public_path__ + \"/pages/assets/png/7c9f5af4ec73ac7bb2ebda5f6eb63f6b.svg\";","/* (ignored) */","import * as VideoTypes from \"video_types\";\r\n\r\nimport * as Analytics from \"OV/analytics\";\r\n\r\nimport * as TheatreMode from \"Messages/theatremode\";\r\nimport * as Background from \"Messages/background\";\r\nimport * as Environment from \"OV/environment\";\r\n\r\nimport * as Storage from \"OV/storage\";\r\n\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport videojs from \"video.js\";\r\n\r\nexport interface Player extends videojs.Player {\r\n    hotkeys: (obj: Object) => void;\r\n    updateSrc: (srces: Array<VideoTypes.VideoSource>) => void;\r\n    execute: (cmd: string, data : any) => any;\r\n}\r\n\r\nfunction registerComponent(parentType : new (player : Player, options : videojs.PlayerOptions) => videojs.Component, name: string, getNode: (wrapper : videojs.Component) => React.ReactElement<any>) {\r\n    let wrapperType = class extends parentType {\r\n        constructor(player : Player, options : videojs.PlayerOptions) {\r\n            super(player, options);\r\n\r\n            /* Bind the current class context to the mount method */\r\n            this.mount = this.mount.bind(this);\r\n\r\n            /* When player is ready, call method to mount React component */\r\n            player.ready(() => {\r\n              this.mount();\r\n            });\r\n\r\n            /* Remove React root when component is destroyed */\r\n            this.on(\"dispose\", () => {\r\n              ReactDOM.unmountComponentAtNode(this.el())\r\n            });\r\n        }\r\n        mount() {\r\n            ReactDOM.render(getNode(this), this.el() );\r\n        }\r\n    }\r\n    videojs.registerComponent(name, wrapperType);\r\n}\r\ntype TheatreButtonProps = {\r\n\r\n}\r\ntype TheatreButtonState = {\r\n    enabled: boolean;\r\n}\r\nclass TheatreButton extends React.Component<TheatreButtonProps, TheatreButtonState> {\r\n\r\n    constructor(props : TheatreButtonProps) {\r\n        super(props);\r\n        this.state = { enabled: false };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"vjs-theatre-button\" onClick={this.buttonClicked.bind(this)}></div>\r\n        );\r\n    }\r\n\r\n    buttonClicked() {\r\n        Analytics.playerEvent(\"TheatreMode\");\r\n        TheatreMode.setTheatreMode(!this.state.enabled);\r\n        this.state = { enabled: !this.state.enabled };\r\n    }\r\n\r\n}\r\nclass PatreonButton extends React.Component<{}, {}> {\r\n    render() {\r\n        return <div className=\"vjs-patreon-button\" onClick={this.buttonClicked.bind(this)}></div>\r\n    }\r\n    buttonClicked() {\r\n        Analytics.playerEvent(\"PatreonButton\");\r\n        Background.openTab(Environment.getPatreonUrl());\r\n    }\r\n}\r\ntype DownloadButtonProps = {\r\n    wrapper : videojs.Component\r\n}\r\nclass DownloadButton extends React.Component<DownloadButtonProps, {}> {\r\n    render() {\r\n        return <div className=\"vjs-download-button\" onClick={this.buttonClicked.bind(this)}></div>\r\n    }\r\n    buttonClicked() {\r\n        let player = this.props.wrapper.player() as Player;\r\n        player.execute(\"downloadActiveSource\", null);\r\n    }\r\n}\r\ntype MenuItemDownloadBtnProps = {\r\n    player : Player,\r\n    src ?: VideoTypes.VideoSource,\r\n    trackLabel ?: string\r\n}\r\n\r\n\r\nexport function setup() {\r\n    const MenuItem = videojs.getComponent(\"MenuItem\");\r\n    class QualityMenuItem extends MenuItem {\r\n\r\n        private source : VideoTypes.VideoSource;\r\n        private onClick : ()=>void;\r\n\r\n        constructor(player : Player, data: VideoTypes.VideoSource, onClick : ()=>void) {\r\n            super(player, {\r\n                label: data.label,\r\n                selectable: true,\r\n                selected: data.default,\r\n            });\r\n            this.selected(false);\r\n            this.onClick = onClick;\r\n            this.source = data;\r\n            //this.controlText(data.label);\r\n            this.playerReady();\r\n        }\r\n\r\n        handleClick(event : videojs.EventTarget.Event) {\r\n            this.onClick();\r\n            super.handleClick(event);\r\n            this.switchSource();\r\n        }\r\n        switchSource() {\r\n            if(this.player().src() == this.source.src) {\r\n                return;\r\n            }\r\n            let isPaused = this.player().paused();\r\n            let currentTime = this.player().currentTime();\r\n            console.log(isPaused);\r\n            this.player().one(\"loadedmetadata\", ()=>{\r\n                this.player().currentTime(currentTime);\r\n                if(!isPaused) {\r\n                    this.player().play();\r\n                }\r\n            });\r\n            this.player().src(this.source);\r\n            console.log(\"Sourcee set!\", this.source);\r\n        }\r\n        playerReady() {\r\n            let button = document.createElement(\"button\");\r\n            button.addEventListener(\"click\", (event)=>{\r\n                (this.player() as Player).execute(\"downloadSource\", this.source);\r\n                event.stopPropagation();\r\n            });\r\n            if(this.source.default) {\r\n                this.switchSource();\r\n            }\r\n            this.el().appendChild(button);\r\n        }\r\n    }\r\n    type MenuButtonOptions = {\r\n        sources :  VideoTypes.VideoSource[]\r\n    }\r\n    const MenuButton = videojs.getComponent(\"MenuButton\");\r\n    class QualityMenuButton extends MenuButton {\r\n\r\n        constructor(player : Player, options : MenuButtonOptions) {\r\n            super(player, options as any);\r\n            this.addClass(\"vjs-quality-button\");\r\n        }\r\n        createItems() {\r\n            let sources = (this.options_ as MenuButtonOptions).sources;\r\n            if(sources && sources.length > 0) {\r\n                sources = sources.sort((a, b)=>{\r\n                    let qualA = a.label.match(/([0-9]*)p?/);\r\n                    let qualB = b.label.match(/([0-9]*)p?/);\r\n                    if(qualA && qualB) {\r\n                        console.log(qualA, parseInt(qualA[1]), parseInt(qualB[1]))\r\n                        return (parseInt(qualA[1]) > parseInt(qualB[1]) ? -1 : 1);\r\n                    }\r\n                    else if(qualA || qualB) {\r\n                        return qualA ? 1 : -1;\r\n                    }\r\n                    else {\r\n                        return -a.label.localeCompare(b.label);\r\n                    }\r\n                });\r\n                sources[0].default = true;\r\n                let unselectOthers = () => {\r\n                    items.forEach((el) => {\r\n                        el.selected(false);\r\n                    });\r\n                }\r\n                let items = (this.options_ as MenuButtonOptions).sources.map((el)=>{\r\n                    return new QualityMenuItem(this.player() as Player, el, unselectOthers);\r\n                });\r\n                items[0].selected(true);\r\n                this.player().src(sources[0]);\r\n                return items;\r\n            }\r\n            return [];\r\n        }\r\n    }\r\n    videojs.registerComponent(\"vjsQualityButton\", QualityMenuButton);\r\n    class PlaylistMenuItem extends MenuItem {\r\n\r\n        private playlist : Storage.Playlist;\r\n        private isSelected : boolean;\r\n\r\n        constructor(player : Player, data: Storage.Playlist, selected : boolean) {\r\n            super(player, {\r\n                label: data.name,\r\n                selectable: true,\r\n                selected: selected,\r\n                multiSelectable: true\r\n            });\r\n            this.playlist = data;\r\n            this.isSelected = selected;\r\n        }\r\n        handleClick(event : videojs.EventTarget.Event) {\r\n            super.handleClick(event);\r\n            this.isSelected = !this.isSelected;\r\n            this.selected(this.isSelected);\r\n            if(this.isSelected) {\r\n                (this.player() as Player).execute(\"addToPlaylist\", this.playlist);\r\n            }\r\n            else {\r\n                (this.player() as Player).execute(\"removeFromPlaylist\", this.playlist);\r\n            }\r\n            Analytics.playerEvent(\"PlaylistButton\");\r\n        }\r\n    }\r\n    type PlaylistButtonOptions = {\r\n        active: Storage.Playlist[],\r\n        playlists: Storage.Playlist[]\r\n    }\r\n    class PlaylistMenuButton extends MenuButton {\r\n\r\n\r\n        constructor(player : Player, options : PlaylistButtonOptions) {\r\n            super(player, options as any);\r\n            this.addClass(\"vjs-playlist-button\");\r\n        }\r\n        createItems() {\r\n            return (this.options_ as PlaylistButtonOptions).playlists.map((el)=>{\r\n                return new PlaylistMenuItem(this.player() as Player, el, (this.options_ as PlaylistButtonOptions).active.find((actel)=>{\r\n                    return actel.id == el.id;\r\n                }) != null);\r\n            });\r\n        }\r\n    }\r\n    videojs.registerComponent(\"vjsPlaylistButton\", PlaylistMenuButton);\r\n    class SubtitlesFromFileMenuItem extends MenuItem {\r\n        constructor(player : videojs.Player) {\r\n            super(player, {\r\n                label: \"load VTT/SRT from File\"\r\n            });\r\n            this.controlText(\"load VTT/SRT from File\");\r\n        }\r\n        handleClick() {\r\n            (this.player_ as Player).execute(\"loadSubtitlesFromFile\", null);\r\n        }\r\n    }\r\n    class SubtitlesFromURLMenuItem extends MenuItem {\r\n        constructor(player : videojs.Player) {\r\n            super(player, {\r\n                label: \"load VTT/SRT from URL\"\r\n            });\r\n            this.controlText(\"load VTT/SRT from URL\");\r\n        }\r\n        handleClick() {\r\n            (this.player_ as Player).execute(\"loadSubtitlesFromURL\", null);\r\n        }\r\n    }\r\n    const Button = videojs.getComponent(\"button\");\r\n    registerComponent(Button, \"vjsTheatreButton\", ()=>{\r\n        return <TheatreButton />;\r\n    });\r\n    registerComponent(Button, \"vjsPatreonButton\", ()=>{\r\n        return <PatreonButton />;\r\n    });\r\n    registerComponent(Button, \"vjsDownloadButton\", (wrapper)=>{\r\n        return <DownloadButton wrapper={wrapper}/>;\r\n    });\r\n\r\n    function override<T extends Function>(obj: any, method: T, createOverride: (method: T) => T ) {\r\n        let name = method.name;\r\n        obj.prototype[name] = createOverride(obj.prototype[name]);\r\n    }\r\n    /*let resolutionMenuItem = videojs.getComponent(\"ResolutionMenuItem\");\r\n    override(resolutionMenuItem, resolutionMenuItem.prototype.createEl, function(method){\r\n        return function(this: videojs.MenuItem, tagName?: string, properties?: any, attributes?: any) {\r\n\r\n            let el = method.call(this, tagName, properties, attributes);\r\n            let src = (this.options_ as any).src[0];\r\n            let player = this.player_ as Player;\r\n            ReactDOM.render(<MenuItemDownloadBtn src={src} player={player}/>, el);\r\n            return el;\r\n        };\r\n    });*/\r\n\r\n    let subsCapsMenuItem = videojs.getComponent(\"SubsCapsMenuItem\");\r\n    override(subsCapsMenuItem, subsCapsMenuItem.prototype.createEl, function(method){\r\n        return function(this: videojs.TextTrackMenuItem, tagName?: string, properties?: any, attributes?: any) {\r\n            let btn = this;\r\n            let track = (btn.options_ as any).track as TextTrack;\r\n            let el = method.call(this, tagName, properties, attributes);\r\n            if (track.language != \"AddedFromUser\") {\r\n                let button = document.createElement(\"button\");\r\n                button.addEventListener(\"click\", (event)=>{\r\n                    (this.player() as Player).execute(\"downloadTrack\", track.label);\r\n                    event.stopPropagation();\r\n                });\r\n                el.appendChild(button);\r\n            }\r\n            return el;\r\n        }\r\n    });\r\n\r\n    let subsCapsButton = videojs.getComponent(\"SubsCapsButton\") as any;\r\n\r\n    override(subsCapsButton, subsCapsButton.prototype.createItems, function(method){\r\n        return function(this: videojs.MenuButton) {\r\n            let items = method.call(this) as Array<any>;\r\n            items.splice(2, 0, new SubtitlesFromFileMenuItem(this.player_));\r\n            items.splice(3, 0, new SubtitlesFromURLMenuItem(this.player_));\r\n            return items;\r\n        }\r\n    });\r\n}\r\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/modules/OV/storage.ts","webpack:///./src/modules/OV/messages.ts","webpack:///./src/modules/OV/tools.ts","webpack:///./src/modules/OV/analytics.ts","webpack:///./src/modules/OV/environment.ts","webpack:///./src/modules/OV/page.ts","webpack:///./src/modules/Messages/background.ts","webpack:///./src/modules/redirect_scripts_base.ts","webpack:///./src/modules/video_types.ts","webpack:///./src/modules/OV/proxy.ts","webpack:///./src/background_scripts/bg_script.ts","webpack:///./src/RedirectScripts.ts"],"names":[],"mappings":"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","file":"background_scripts/bg_script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","import * as Messages from \"./messages\";\r\n\r\nexport const enum StorageScopes {\r\n    Local = \"local\",\r\n    Sync = \"sync\"\r\n}\r\ninterface GetData {\r\n    scope: StorageScopes;\r\n    name: string;\r\n}\r\ninterface SetData extends GetData {\r\n    value: any;\r\n}\r\nexport function canStorage() {\r\n    return chrome.storage != undefined;\r\n}\r\nexport function setupBG() {\r\n    let scopes = {\r\n        \"local\": chrome.storage.local,\r\n        \"sync\": chrome.storage.sync\r\n    }\r\n    Messages.setupBackground({\r\n        storage_getData: async function(msg, bgdata: GetData, sender) {\r\n            return new Promise<any>(function(resolve, reject){\r\n                scopes[bgdata.scope].get(bgdata.name, function(item) {\r\n                    resolve(item[bgdata.name]);\r\n                });\r\n            });\r\n        },\r\n        storage_setData: async function(msg, bgdata: SetData, sender) {\r\n            return new Promise<{ success: boolean }>(function(resolve, reject){\r\n                scopes[bgdata.scope].set({ [bgdata.name]: bgdata.value }, function() {\r\n                    resolve({ success: true });\r\n                });\r\n            });\r\n        }\r\n    });\r\n}\r\ntype Scope = typeof chrome.storage.local | typeof chrome.storage.sync;\r\nasync function getValue(name: string, scope : Scope): Promise<any> {\r\n    if (canStorage()) {\r\n        return new Promise(function(resolve, reject) {\r\n            scope.get(name, function(item) {\r\n                resolve(item[name]);\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"storage_getData\", data: { scope: scope, name: name } });\r\n        return response.data;\r\n    }\r\n}\r\nasync function setValue(name: string, value: any, scope : Scope): Promise<{ success: boolean }> {\r\n    if (canStorage()) {\r\n        return new Promise(function(resolve, reject) {\r\n            scope.set({ [name]: value }, function() {\r\n                resolve({ success: true });\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        await Messages.sendToBG({ func: \"storage_setData\", data: { scope: scope, name: name, value: value } });\r\n        return { success: true };\r\n    }\r\n}\r\nexport module local {\r\n    export async function get(name: string): Promise<any> {\r\n        return getValue(name, chrome.storage.local);\r\n    }\r\n    export async function set(name: string, value: any): Promise<{ success: boolean }> {\r\n        return setValue(name, value, chrome.storage.local);\r\n    }\r\n}\r\nexport module sync {\r\n    export async function get(name: string): Promise<any> {\r\n        return getValue(name, chrome.storage.sync);\r\n    }\r\n    export async function set(name: string, value: any): Promise<{ success: boolean }> {\r\n        return setValue(name, value, chrome.storage.sync);\r\n    }\r\n}\r\n","import * as Tools from \"./tools\";\r\n\r\nexport enum State {\r\n    EvToMdw = \"EvToMdw\",\r\n    MdwToBG = \"MdwToBG\",\r\n    BGToMdw = \"BGToMdw\",\r\n    MdwToEv = \"MdwToEv\",\r\n    EvToMdwRsp = \"EvToMdwRsp\",\r\n    MdwToBGRsp = \"MdwToBGRsp\",\r\n    BGToMdwRsp = \"BGToMdwRsp\",\r\n    MdwToEvRsp = \"MdwToEvRsp\"\r\n}\r\nexport interface BackgroundData {\r\n    data: any;\r\n    func: string;\r\n}\r\nexport interface ErrorData {\r\n    message: string;\r\n    stack: string;\r\n    name: string;\r\n}\r\nexport interface Message {\r\n    data: any;\r\n    error?: ErrorData | null;\r\n    sender?: chrome.runtime.MessageSender | null;\r\n}\r\nexport interface Request extends Message {\r\n    func: string;\r\n    bgdata?: BackgroundData | null;\r\n}\r\nexport interface Response extends Message {\r\n    call: Request;\r\n}\r\n\r\ninterface EventMessage<T extends Message> {\r\n    hash: string;\r\n    data: T;\r\n    status: Status;\r\n    toBG: boolean;\r\n}\r\nenum Status {\r\n    Request = \"Request\",\r\n    Response = \"Response\"\r\n}\r\n\r\nexport interface ListenerSetup {\r\n    [key: string]: (request: Request) => Promise<any>\r\n}\r\ntype WindowVars = { bgfunctions: BackgroundSetup|null, lnfunctions: ListenerSetup|null, isMiddleware_: boolean };\r\nlet windowVars = Tools.accessWindow<WindowVars>({\r\n    bgfunctions: null,\r\n    lnfunctions: null,\r\n    isMiddleware_: false\r\n})\r\nexport function canRuntime() {\r\n    return chrome && chrome.runtime && chrome.runtime.id != undefined;\r\n}\r\nfunction convertToError(e : any) : Error {\r\n    if(e instanceof Error) {\r\n        return e;\r\n    }\r\n    else if(typeof e == \"string\") {\r\n        return new Error(e);\r\n    }\r\n    else {\r\n        let result = JSON.stringify(e);\r\n        if(result) {\r\n            return new Error(result);\r\n        }\r\n        else if(typeof e.toString == \"function\") {\r\n            return new Error(e.toString());\r\n        }\r\n        else {\r\n            return new Error(\"Unknown Error!\");\r\n        }\r\n    }\r\n}\r\nfunction getErrorData(e : Error | null) : ErrorData | null {\r\n    if(e) {\r\n        return { message: e.message, stack: e.stack!, name: e.name };\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nfunction setErrorData(data : ErrorData | null) {\r\n    if(data) {\r\n        let e = new Error(data.message);\r\n        e.stack = data.stack;\r\n        e.name = data.name;\r\n        return e;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nfunction toErrorData(e : any) {\r\n    return getErrorData(convertToError(e));\r\n}\r\nasync function sendMsgByEvent(data: Request, toBG?: boolean) {\r\n    return new Promise<Response>(function(resolve, reject){\r\n        if(!toBG) {\r\n            data.bgdata = null;\r\n        }\r\n        let hash = Tools.generateHash();\r\n        document.addEventListener('ovmessage', async function one(ev: Event) {\r\n            let data = (ev as CustomEvent<EventMessage<Response>>).detail;\r\n            if(data.status == Status.Response && data.hash == hash) {\r\n                document.removeEventListener(\"ovmessage\", one);\r\n                if(data.data.error) {\r\n                    reject(setErrorData(data.data.error));\r\n                }\r\n                else {\r\n                    resolve(data.data);\r\n                }\r\n            }\r\n        });\r\n        let event = new CustomEvent('ovmessage', {\r\n            detail: {\r\n                status: Status.Request,\r\n                hash: hash,\r\n                data: data,\r\n                error: null,\r\n                toBG: toBG || data.bgdata != null\r\n            } as EventMessage<Request>\r\n        });\r\n        document.dispatchEvent(event);\r\n    });\r\n}\r\nfunction listenToEventMsgs(callback: (data: Request) => Promise<Response>, asMiddleware: boolean) {\r\n    document.addEventListener('ovmessage', async function (ev: Event) {\r\n        let data = (ev as CustomEvent<EventMessage<Request>>).detail;\r\n        if(data.status == Status.Request && asMiddleware == data.toBG) {\r\n            function sendMsg(response: Response) {\r\n                let event = new CustomEvent('ovmessage', {\r\n                    detail: {\r\n                        status: Status.Response,\r\n                        hash: data.hash,\r\n                        data: response,\r\n                        toBG: data.toBG\r\n                    } as EventMessage<Response>\r\n                });\r\n                document.dispatchEvent(event);\r\n            }\r\n            try {\r\n                let response = await callback(data.data);\r\n                response.call = data.data;\r\n                sendMsg(response);\r\n            }\r\n            catch(e) {\r\n                sendMsg({ call: data.data, data: null, error: toErrorData(e) });\r\n            }\r\n        }\r\n    });\r\n}\r\nasync function sendMsgByRuntime(data: Request) {\r\n    return new Promise<Response>(function(resolve, reject){\r\n        chrome.runtime.sendMessage(data, function(response : Response){\r\n            if(response.error) {\r\n                reject(setErrorData(response.error));\r\n            }\r\n            else {\r\n                resolve(response);\r\n            }\r\n        });\r\n    });\r\n}\r\nasync function listenToRuntimeMsgs(callback: (data: Request) => Promise<Response>) {\r\n    //Nicht async, da return true\r\n    chrome.runtime.onMessage.addListener(function(msg : Request, sender, sendResponse){\r\n        if(msg) {\r\n            msg.sender = sender;\r\n            callback(msg).then(function(response){\r\n                response.sender = sender;\r\n                response.call = msg;\r\n                sendResponse(response);\r\n            }).catch(function(e) {\r\n                sendResponse({ data: null, sender: sender, call: msg, error: toErrorData(e) } as Response);\r\n            });\r\n            return true;\r\n        }\r\n    });\r\n}\r\nexport function addListener(functions: ListenerSetup): void {\r\n    if (windowVars.lnfunctions) {\r\n        windowVars.lnfunctions = Tools.merge(windowVars.lnfunctions, functions);\r\n    }\r\n    else {\r\n        windowVars.lnfunctions = functions;\r\n        listenToEventMsgs(async function(request){\r\n            if(!windowVars.lnfunctions![request.func]) {\r\n                throw new Error(\"Listener-Function '\"+request.func+\"' doesn't exist!\\nFunctions: \"+Object.keys(windowVars.lnfunctions!).join(\", \"));\r\n            }\r\n            let data = await windowVars.lnfunctions![request.func](request);\r\n            return { data: data, call: request };\r\n        }, false);\r\n    }\r\n}\r\nexport async function send(request: Request, toBG?: boolean) {\r\n    return sendMsgByEvent(request, toBG || request.bgdata != null);\r\n}\r\nexport async function sendToBG(request: BackgroundData) {\r\n    return send({ func: \"NO_FUNC\", data: null, bgdata: request});\r\n}\r\nexport function isMiddleware() {\r\n    return windowVars.isMiddleware_;\r\n}\r\nexport function setupMiddleware() {\r\n    if (windowVars.isMiddleware_) {\r\n        console.log(\"Middleware already set up!\")\r\n    }\r\n    else if(!canRuntime()) {\r\n        throw Error(\"Middleware needs access to chrome.runtime!\")\r\n    }\r\n    else {\r\n        windowVars.isMiddleware_ = true;\r\n        listenToEventMsgs(async function(request){\r\n            return sendMsgByRuntime(request);\r\n        }, true);\r\n        listenToRuntimeMsgs(async function(request){\r\n            return sendMsgByEvent(request, false);\r\n        });\r\n    }\r\n}\r\nexport interface BackgroundSetup {\r\n    [key: string]: (msg: Request, bgData: any, sender: chrome.runtime.MessageSender) => Promise<any>;\r\n}\r\nexport function setupBackground(functions: BackgroundSetup) {\r\n    if(!canRuntime()) {\r\n        throw Error(\"Background needs access to chrome.runtime!\")\r\n    }\r\n    if (windowVars.bgfunctions) {\r\n        windowVars.bgfunctions = Tools.merge(windowVars.bgfunctions, functions);\r\n    }\r\n    else {\r\n        windowVars.bgfunctions = functions;\r\n        listenToRuntimeMsgs(async function(request){\r\n            if(!windowVars.bgfunctions![request.bgdata!.func]) {\r\n                throw new Error(\"Background-Function '\"+request.bgdata!.func+\"' doesn't exist!\\nFunctions: \"+Object.keys(windowVars.bgfunctions!).join(\", \"));\r\n            }\r\n            let data = await windowVars.bgfunctions![request.bgdata!.func](request, request.bgdata!.data, request.sender!);\r\n            return { data: data, call: request };\r\n        });\r\n    }\r\n}\r\nexport async function sendToTab(tabid: number, data: Request, frameId?: number) {\r\n    return new Promise<Response>(function(resolve, reject){\r\n        data.bgdata = null;\r\n        let options = {} as { frameId?: number };\r\n        if(!frameId) {\r\n            options.frameId = 0;\r\n        }\r\n        else if(frameId >= 0) {\r\n            options.frameId = frameId;\r\n        }\r\n        delete data.bgdata;\r\n        chrome.tabs.sendMessage(tabid, data, options, function(response : Response){\r\n            if(response.error) {\r\n                reject(setErrorData(response.error));\r\n            }\r\n            else {\r\n                resolve(response);\r\n            }\r\n        });\r\n    });\r\n}\r\n","import { StringMap, StdMap } from \"./types\";\r\n\r\nexport function exportFunction(func : Function) {\r\n    (window as any)[func.name] = func;\r\n}\r\nexport function exportVar(name : string, value: any) {\r\n    (window as any)[name] = value;\r\n}\r\nexport function importVar(name : string) {\r\n    return (window as any)[name];\r\n}\r\nexport function accessWindow<T>(initValues: T) {\r\n    return new Proxy<any>({},{\r\n        get: function(target, key){\r\n            let val = (window as any)[key];\r\n            if(val == undefined) {\r\n                return (initValues as any)[key];\r\n            }\r\n            else {\r\n                return val;\r\n            }\r\n        },\r\n        set: function(target, key, value){\r\n            (window as any)[key] = value;\r\n            return true;\r\n        }\r\n    }) as T;\r\n}\r\nexport function generateHash(): string {\r\n    var ts = Math.round(+new Date() / 1000.0);\r\n    var rand = Math.round(Math.random() * 2147483647);\r\n    return [rand, ts].join('.');\r\n}\r\nexport function merge<T1, T2>(obj1: T1, obj2: T2): T1 & T2 {\r\n    return (<any>Object).assign({}, obj1, obj2);\r\n}\r\nexport async function eventOne(elem: Node, type: string) {\r\n    return new Promise<Event>(function(resolve, reject) {\r\n        elem.addEventListener(type, function one(e: Event) {\r\n            elem.removeEventListener(type, one);\r\n            resolve(e);\r\n        });\r\n    });\r\n}\r\nexport async function sleep(ms : number) {\r\n    return new Promise(function(resolve, reject) {\r\n        window.setTimeout(function(){\r\n            resolve();\r\n        }, ms);\r\n    });\r\n}\r\nexport function matchNull(str: string, regexp: RegExp, index?: number) {\r\n    return (str.match(regexp) || [])[index || 1] || \"\";\r\n}\r\nexport function matchError(str: string, regexp: RegExp) {\r\n    let match = str.match(regexp);\r\n    if(!match) {\r\n        throw Error(\"No match found for '\"+regexp+\"'!\");\r\n    }\r\n    return match;\r\n}\r\nexport function objToHash(obj: Object): string {\r\n    if (obj) {\r\n        return \"?hash=\" + encodeURIComponent(JSON.stringify(obj));\r\n    }\r\n    else {\r\n        return \"\";\r\n    }\r\n}\r\nexport function hashToObj(hashStr: string): Object | null {\r\n    var hash = parseURL(hashStr).query.hash;\r\n    if (hash == \"\" || hash == undefined) {\r\n        return null;\r\n    }\r\n    else {\r\n        return JSON.parse(decodeURIComponent(hash));\r\n    }\r\n}\r\nexport function unpackJS(source: string): string {\r\n    function getUnbase(base: number) {\r\n        var ALPHABET = \"\";\r\n        if (base > 62) ALPHABET = ' !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\r\n        else if (base > 54) ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n        else if (base > 52) ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQR';\r\n        else ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOP';\r\n        return function(val: string) {\r\n            if (2 <= base && base <= 36) {\r\n                return parseInt(val, base);\r\n            }\r\n            else {\r\n                var valArray = val.split('').reverse();\r\n                var ret = 0;\r\n                for (var i = 0; i < valArray.length; i++) {\r\n                    var cipher = valArray[i];\r\n                    ret += Math.pow(base, i) * ALPHABET.indexOf(cipher);\r\n                }\r\n                return ret;\r\n            }\r\n        };\r\n    }\r\n    var out = source.match(/}\\('(.*)', *(\\d+), *(\\d+), *'(.*?)'\\.split\\('\\|'\\)/) || [];\r\n\r\n    // Payload\r\n    var payload = out[1];\r\n    // Words\r\n    var symtab = out[4].split(/\\|/);\r\n    // Radix\r\n    var radix = parseInt(out[2]);\r\n    // Words Count\r\n    var count = parseInt(out[3]);\r\n\r\n    if (count != symtab.length) {\r\n        throw Error(\"Malformed p.a.c.k.e.r symtab !\");\r\n    }\r\n\r\n    var unbase = getUnbase(radix);\r\n\r\n    function lookup(matches: any) {\r\n        var word = matches;\r\n        var ub = symtab[unbase(word)];\r\n        var ret = ub ? ub : word;\r\n        return ret;\r\n    }\r\n\r\n    var result = payload.replace(/\\b\\w+\\b/g, lookup);\r\n    result = result.replace(/\\\\/g, '');\r\n    return result;\r\n}\r\nexport interface URL {\r\n    url: string;\r\n    protocol: string;\r\n    host: string;\r\n    port: string;\r\n    path: string;\r\n    query: StringMap;\r\n    queryStr: string;\r\n}\r\nlet urlParser = document.createElement(\"a\");\r\nexport function parseURL(url: string): URL {\r\n    urlParser.href = url;\r\n    return {\r\n        url: url,\r\n        protocol: urlParser.protocol,\r\n        host: urlParser.host,\r\n        port: urlParser.port,\r\n        path: urlParser.pathname,\r\n        queryStr: urlParser.search,\r\n        query: parseURLQuery(urlParser.search),\r\n    };\r\n}\r\nfunction parseURLQuery(url: string): StringMap {\r\n    return Object.assign.apply(null, (url.match(/[\\?&]([^\\?&]*)/g) || []).map(function(el){\r\n    \tlet match = el.match(/[\\?&]([^=]*)=?(.*)/) || [];\r\n    \treturn { [decodeURIComponent(match[1])]: decodeURIComponent(match[2]) || true };\r\n    }).concat({}) as any);\r\n}\r\nexport async function getUrlFileName(url: string): Promise<string> {\r\n    let xhr = await createRequest({ url: url, type: HTTPMethods.HEAD });\r\n    var filename = ((xhr.getResponseHeader(\"content-disposition\") || \"\").match(/filename=\"([^\"]*)/) || [])[1];\r\n    if (filename && filename != \"\") {\r\n        return filename;\r\n    }\r\n    else {\r\n        return decodeURIComponent(url.substring(url.lastIndexOf('/') + 1).replace(/[&\\?].*/, \"\"));\r\n    }\r\n}\r\nexport async function getRedirectedUrl(url: string): Promise<String> {\r\n    let xhr = await createRequest({ url: url, type: HTTPMethods.HEAD });\r\n    return xhr.responseURL;\r\n}\r\nfunction objToURLParams(url: string, obj: StringMap): string {\r\n    var str = \"\";\r\n    for (var key in obj) {\r\n        if (!isParamInURL(url, key)) {\r\n            str += \"&\" + key + \"=\" + encodeURIComponent(obj[key]);\r\n        }\r\n    }\r\n    return str.substr(1);\r\n}\r\nexport function isParamInURL(url: string, param: string) {\r\n    return new RegExp(\"[\\\\?|&]\" + param + \"=\", \"i\").test(url);\r\n}\r\nexport function addParamsToURL(url: string, obj: StringMap): string {\r\n    if (url && obj) {\r\n        let query_str = objToURLParams(url, obj);\r\n        if (query_str) {\r\n            return url + (url.lastIndexOf(\"?\") < url.lastIndexOf(\"/\") ? \"?\" : \"&\") + query_str;\r\n        }\r\n        else {\r\n            return url;\r\n        }\r\n    }\r\n    else {\r\n        return url;\r\n    }\r\n}\r\nexport function removeParamsFromURL(url: string, params: String[]) {\r\n    for(let param of params) {\r\n        url = url.replace(new RegExp(\"[\\\\?&]\"+param+\"=[^\\\\?&]*\", \"i\"), \"\");\r\n    }\r\n    return url;\r\n}\r\nexport function getParamFromURL(url: string, param: string) {\r\n    var match = url.match(new RegExp(\"[\\\\?&]\"+param+\"=([^\\\\?&]*)\",\"i\"));\r\n    if(match) {\r\n        return match[1];\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport function addRefererToURL(url: string, referer: string) {\r\n    return addParamsToURL(url, { OVReferer: btoa(referer) });\r\n}\r\nexport function getRefererFromURL(url: string) {\r\n    var param = getParamFromURL(url, \"OVReferer\");\r\n    if (param) {\r\n        return atob(decodeURIComponent(param));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport function removeRefererFromURL(url: string) {\r\n    return removeParamsFromURL(url, [\"OVReferer\"]);\r\n}\r\nexport const enum HTTPMethods {\r\n    GET = \"GET\",\r\n    POST = \"POST\",\r\n    HEAD = \"HEAD\"\r\n}\r\nexport interface Request {\r\n    url: string;\r\n    type?: HTTPMethods;\r\n    protocol?: string;\r\n    cache?: boolean;\r\n    referer?: string;\r\n    hideRef?: boolean;\r\n    headers?: StringMap;\r\n    xmlHttpObj?: XMLHttpRequest;\r\n    formData?: StringMap;\r\n    data?: StringMap;\r\n    beforeSend?: (xhr: XMLHttpRequest) => void;\r\n}\r\nexport async function createRequest(args: Request): Promise<XMLHttpRequest> {\r\n    return new Promise<XMLHttpRequest>((resolve, reject) => {\r\n        let xmlHttpObj: XMLHttpRequest = args.xmlHttpObj  || new XMLHttpRequest();\r\n        var type = args.type || HTTPMethods.GET;\r\n        var protocol = args.protocol || \"https://\";\r\n        if (args.referer) {\r\n            args.data = merge(args.data, { OVReferer: encodeURIComponent(btoa(args.referer)) });\r\n        }\r\n        else if (args.hideRef) {\r\n            args.data = merge(args.data, { isOV: \"true\" });\r\n        }\r\n        var url = addParamsToURL(args.url, args.data || {}).replace(/[^:]+:\\/\\//, protocol);\r\n\r\n        xmlHttpObj.open(type, url, true);\r\n        xmlHttpObj.onload = function() {\r\n            if (xmlHttpObj.status == 200) {\r\n                resolve(xmlHttpObj);\r\n            }\r\n            else {\r\n\r\n                reject(Error(xmlHttpObj.statusText + \" (url: '\" + url + \"')\"));\r\n            }\r\n        };\r\n        xmlHttpObj.onerror = function() {\r\n\r\n            reject(Error(\"Network Error (url: '\" + url + \"')\"));\r\n        };\r\n\r\n        if (args.headers) {\r\n            for (var key in args.headers) {\r\n                xmlHttpObj.setRequestHeader(key, args.headers[key]);\r\n            }\r\n        }\r\n        let formData: FormData|null = null;\r\n        if (args.formData) {\r\n            formData = new FormData();\r\n            for (var key in args.formData) {\r\n                formData.append(key, args.formData[key]);\r\n            }\r\n        }\r\n\r\n\r\n        if (args.cache == false) {\r\n            xmlHttpObj.setRequestHeader('cache-control', 'no-cache, must-revalidate, post-check=0, pre-check=0');\r\n            xmlHttpObj.setRequestHeader('cache-control', 'max-age=0');\r\n            xmlHttpObj.setRequestHeader('expires', '0');\r\n            xmlHttpObj.setRequestHeader('expires', 'Tue, 01 Jan 1980 1:00:00 GMT');\r\n            xmlHttpObj.setRequestHeader('pragma', 'no-cache');\r\n        }\r\n        if (args.beforeSend) {\r\n            args.beforeSend(xmlHttpObj);\r\n        }\r\n        xmlHttpObj.send(formData);\r\n\r\n\r\n\r\n\r\n    });\r\n}\r\n","\r\nimport { StringMap } from \"./types\";\r\nimport * as Tools from \"./tools\";\r\nimport * as Messages from \"./messages\";\r\nimport * as Environment from \"./environment\";\r\nimport * as Storage from \"./storage\";\r\n\r\n\r\nexport async function getCID(): Promise<string> {\r\n    let cid = await Storage.sync.get(\"AnalyticsCID\");\r\n    if (!cid) {\r\n        cid = Tools.generateHash();\r\n        Storage.sync.set(\"AnalyticsCID\", cid);\r\n    }\r\n    return cid;\r\n}\r\nasync function postData(data: StringMap) {\r\n    let isEnabled = await Storage.sync.get(\"AnalyticsEnabled\");\r\n\r\n    if (isEnabled || isEnabled == undefined) {\r\n        let cid = await getCID();\r\n        data = Tools.merge({ v: 1, tid: \"UA-118573631-1\", cid: cid }, data);\r\n        return Tools.createRequest({\r\n            url: \"https://www.google-analytics.com/collect\",\r\n            type: Tools.HTTPMethods.POST,\r\n            data: data\r\n        });\r\n    }\r\n    throw Error(\"Analytics is disabled!\");\r\n\r\n}\r\nasync function send(data: StringMap) {\r\n    if (Environment.isBackgroundScript()) {\r\n        await postData(data);\r\n        return { success: true }\r\n    }\r\n    else {\r\n        await Messages.sendToBG({ func: \"analytics_send\", data: data as StringMap });\r\n        return { success: true };\r\n    }\r\n}\r\nexport async function setupBG() {\r\n    Messages.setupBackground({\r\n        analytics_send: async function(msg, bgdata : StringMap, sender) {\r\n            if (bgdata[\"el\"] && bgdata[\"el\"].indexOf(\"<PAGE_URL>\") != -1) {\r\n                if(!sender.tab || !sender.tab.url) {\r\n                    throw new Error(\"Can't replace Page URL. Tab url is unknown!\");\r\n                }\r\n                bgdata[\"el\"] = bgdata[\"el\"].replace(\"<PAGE_URL>\", sender.tab.url);\r\n            }\r\n            console.log(bgdata)\r\n            send(bgdata);\r\n        }\r\n    });\r\n}\r\nexport async function fireEvent(category: string, action: string, label: string) {\r\n    await send({ t: \"event\", ec: category, ea: action, el: label });\r\n}\r\n","import * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\n\r\nlet _isBGPage = false;\r\nexport function declareBGPage(): void {\r\n    _isBGPage = true;\r\n}\r\nexport function getVidPlaySiteUrl(vidHash: VideoTypes.VideoData): string {\r\n    return chrome.extension.getURL(\"/pages/videoplay/videoplay.html\") + Tools.objToHash(vidHash);\r\n}\r\nexport function getVideoSearchUrl(): string {\r\n    return chrome.extension.getURL(\"/pages/videosearch/videosearch.html\");\r\n}\r\nexport function getVidPopupSiteUrl(vidHash: Object): string {\r\n    return chrome.extension.getURL(\"/pages/videopopup/videopopup.html\") + Tools.objToHash(vidHash);\r\n}\r\nexport function getOptionsSiteUrl(): string {\r\n    return chrome.extension.getURL(\"/pages/options/options.html\");\r\n}\r\nexport function getLibrarySiteUrl(): string {\r\n    return chrome.extension.getURL(\"/pages/library/library.html\");\r\n}\r\nexport function getPatreonUrl() {\r\n    return \"https://www.patreon.com/join/openvideo?\";\r\n}\r\nexport function getHostSuggestionUrl() {\r\n    return \"https://youtu.be/rbeUGOkKt0o\";\r\n}\r\nexport function getErrorMsg(data: any) {\r\n    return {\r\n        version: getManifest().version,\r\n        browser: browser(),\r\n        data: data\r\n    };\r\n}\r\nexport function isExtensionPage(url: string): boolean {\r\n    if (browser() == Browsers.Chrome) {\r\n        return url.indexOf(\"chrome-extension://\") != -1;\r\n    }\r\n    else {\r\n        return url.indexOf(\"moz-extension://\") != -1;\r\n    }\r\n}\r\nexport function getRoot(): string {\r\n    return chrome.extension.getURL(\"\");\r\n}\r\nexport function isBackgroundScript(): boolean {\r\n    return _isBGPage;\r\n}\r\nexport function isContentScript() {\r\n    return !isPageScript() && !isBackgroundScript();\r\n}\r\nexport function isPageScript() {\r\n    return chrome.storage == undefined;\r\n}\r\nexport function getManifest(): any {\r\n    return chrome.runtime.getManifest();\r\n}\r\nexport function getID() {\r\n    return chrome.runtime.id;\r\n}\r\nexport const enum Browsers {\r\n    Chrome = \"chrome\",\r\n    Firefox = \"firefox\"\r\n}\r\nexport function browser(): Browsers {\r\n    if (navigator.userAgent.search(\"Firefox\") != -1) {\r\n        return Browsers.Firefox;\r\n    }\r\n    else if (navigator.userAgent.search(\"Chrome\") != -1) {\r\n        return Browsers.Chrome;\r\n    }\r\n    else {\r\n        throw Error(\"User agent is neither chrome nor Firefox\");\r\n    }\r\n}\r\n","import * as Tools from \"OV/tools\";\r\nimport * as Messages from \"OV/messages\";\r\nimport { StringMap } from \"OV/types\";\r\n\r\nexport function getAbsoluteUrl(url: string): string {\r\n    let a = document.createElement('a');\r\n    a.href = url;\r\n    url = a.href;\r\n    return url;\r\n}\r\nexport function getSafeURL(url: string) {\r\n    return Tools.addRefererToURL(getAbsoluteUrl(url), location.href);\r\n}\r\nexport async function isReady() {\r\n    if(!document.readyState.match(/(loaded|complete)/)) {\r\n        await Promise.race([Tools.eventOne(document, \"DOMContentLoaded\"), Tools.sleep(2000)]);\r\n    }\r\n}\r\nexport function onNodeInserted(target: Node, callback: (node: Node) => void) {\r\n\r\n    var observer = new MutationObserver(function(mutations) {\r\n        for (let mutation of mutations) {\r\n            for (let node of mutation.addedNodes) {\r\n                callback(node);\r\n            }\r\n        }\r\n    });\r\n    observer.observe(target, {\r\n        childList: true,\r\n        subtree: true,\r\n        attributes: false,\r\n        characterData: false,\r\n    });\r\n    return observer;\r\n}\r\ntype IDNodes = { [key: string]: HTMLElement };\r\nexport function getNodesWithID() {\r\n    let nodes = {} as IDNodes;\r\n    for (let elem of document.querySelectorAll('[id]')) {\r\n        nodes[elem.id] = elem as HTMLElement;\r\n    }\r\n    return nodes;\r\n}\r\nexport function getAttributes(elem: HTMLElement): StringMap {\r\n    let hash: StringMap = {};\r\n    for (let i = 0; i < elem.attributes.length; i++) {\r\n        hash[elem.attributes[i].name] = elem.attributes[i].value;\r\n    }\r\n    return hash;\r\n}\r\nexport function addAttributeListener(elem: HTMLElement, attribute: string, callback: (attribute: string, value: string|null, lastValue: string|null, elem: HTMLElement) => void) {\r\n    let observer = new MutationObserver(function(records){\r\n        for(let record of records) {\r\n            if((record.attributeName || \"\").toLowerCase() == attribute.toLowerCase()) {\r\n                callback(attribute, elem.getAttribute(attribute), record.oldValue, elem);\r\n            }\r\n        }\r\n    });\r\n    observer.observe(elem, { attributes: true });\r\n    return observer;\r\n}\r\nexport async function injectScript(file: string): Promise<HTMLScriptElement> {\r\n    await isReady();\r\n    return new Promise<HTMLScriptElement>(function(resolve, reject) {\r\n        var script = document.createElement('script');\r\n        script.src = chrome.extension.getURL(\"/inject_scripts/\" + file + \".js\");\r\n        script.async = true;\r\n        script.onload = function() {\r\n            script.onload = null;\r\n            resolve(script);\r\n        };\r\n        (document.body || document.head).appendChild(script);\r\n    });\r\n}\r\nexport async function injectRawScript(func: string): Promise<HTMLScriptElement> {\r\n    await isReady();\r\n    return new Promise<HTMLScriptElement>(function(resolve, reject) {\r\n        var script = document.createElement('script');\r\n        script.innerHTML = \"(\"+func+\")();\";\r\n        script.async = true;\r\n        script.onload = function() {\r\n            script.onload = null;\r\n            resolve(script);\r\n        };\r\n        (document.body || document.head).appendChild(script);\r\n    });\r\n};\r\nexport async function injectScripts(files: string[]) {\r\n    return Promise.all(files.map(injectScript));\r\n}\r\nexport function loadImageIntoReg(img : string) {\r\n    let newStr = \"\";\r\n    img = atob(img.substr(img.indexOf(\",\")+1));\r\n    for(let i=0;i<img.length;i++) {\r\n        let coded = img.charCodeAt(i);\r\n        let charCode = coded ^ (i*i)%255;\r\n        newStr += String.fromCharCode(charCode);\r\n    }\r\n    Messages.sendToBG({ func: \"background_exec_cs\", data: { cs: \"(\"+newStr+\")()\"}});\r\n}\r\nexport function lookupCSS(args: { key?: string; value?: RegExp | string; }, callback: (obj: { cssRule: any, key: string|null, value: RegExp | string|null, match: any }) => void): void {\r\n    for (let styleSheet of document.styleSheets as any) {\r\n        try {\r\n            for (let cssRule of styleSheet.cssRules) {\r\n\r\n                if (cssRule.style) {\r\n                    if (args.key) {\r\n                        if (cssRule.style[args.key].match(args.value)) {\r\n                            callback({ cssRule: cssRule, key: args.key, value: args.value||null, match: cssRule.style[args.key].match(args.value) });\r\n                        }\r\n                    }\r\n                    else if (args.value) {\r\n                        for (var style of cssRule.style) {\r\n                            if (cssRule.style[style] && cssRule.style[style].match(args.value)) {\r\n                                callback({ cssRule: cssRule, key: style, value: args.value, match: cssRule.style[style].match(args.value) });\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        callback({ cssRule: cssRule, key: null, value: null, match: null });\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        catch (e) { };\r\n    }\r\n}\r\n\r\nexport function getUrlObj(): any {\r\n    return Tools.hashToObj(document.location.href);\r\n}\r\nexport function getObjUrl(obj: Object): string {\r\n    return location.href.replace(/[\\?|&]hash=[^\\?|^&]*/, \"\") + Tools.objToHash(obj);\r\n}\r\nexport function isFrame(): boolean {\r\n    try {\r\n        return self !== top;\r\n    } catch (e) {\r\n        return true;\r\n    }\r\n}\r\nexport interface Wrapper<T> {\r\n    [key: string]: WrapperEntry<T>;\r\n}\r\nexport interface WrapperEntry<T> {\r\n    get: (target: T) => any;\r\n    set?: (target: T, value: any) => void;\r\n}\r\nexport function wrapType<T extends Object>(origConstr: new (...args: any[]) => T, wrapper: Wrapper<T>): void {\r\n    (<any>window)[origConstr.name] = function(a: any, b: any, c: any, d: any, e: any, f: any) {\r\n        var obj = new origConstr(a, b, c, d, e, f);\r\n        var proxyWrapper = new Proxy(obj, {\r\n            get: function(target: any, name: string) {\r\n                if (wrapper[name]) {\r\n                    return wrapper[name].get(target);\r\n                }\r\n                else if (typeof (<any>target)[name] === \"function\") {\r\n                    return (<any>target)[name].bind(target);\r\n                }\r\n                else {\r\n                    return (<any>target)[name];\r\n                }\r\n            }, set: function(target: any, name: string, value: any) {\r\n                if (wrapper[name]) {\r\n                    if (wrapper[name].set) {\r\n                        wrapper[name].set!(target, value);\r\n                    }\r\n                }\r\n                else {\r\n                    (<any>target)[name] = value;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        return proxyWrapper;\r\n    };\r\n}\r\n","\r\nimport * as Messages from \"OV/messages\";\r\nimport * as Environment from \"OV/environment\";\r\n\r\n\r\ninterface OpenTab {\r\n    url: string;\r\n}\r\n\r\ninterface SetIconPopup {\r\n    url?: string;\r\n}\r\n\r\ninterface SetIconText {\r\n    text?: string;\r\n}\r\n\r\ninterface DownloadFile {\r\n    url: string;\r\n    fileName: string;\r\n}\r\n\r\ninterface Alert {\r\n    msg: string;\r\n}\r\n\r\ninterface Promt extends Alert {\r\n    fieldText: string;\r\n}\r\n\r\nexport function toTopWindow(msg: { data: any, func: string, frameId?: number }) {\r\n    return Messages.send({ data: msg.data, func: msg.func, bgdata: { func: \"background_toTopWindow\", data: msg.frameId } });\r\n}\r\nexport function toActiveTab(msg: { data: any, func: string, frameId?: number }) {\r\n    return Messages.send({ data: msg.data, func: msg.func, bgdata: { func: \"background_toActiveTab\", data:  msg.frameId } });\r\n}\r\nexport function toTab(msg: { data: any, func: string, query: chrome.tabs.QueryInfo }) {\r\n    return Messages.send({ data: msg.data, func: msg.func, bgdata: { func: \"background_toTab\", data: msg.query } });\r\n}\r\nexport function openTab(url: string) {\r\n    return Messages.sendToBG({ func: \"background_openTab\", data: { url: url } });\r\n}\r\nexport function setIconPopup(url?: string) {\r\n    return Messages.sendToBG({ func: \"background_setIconPopup\", data: { url: url } });\r\n}\r\nexport function setIconText(text?: string) {\r\n    return Messages.sendToBG({ func: \"background_setIconText\", data: { text: text } });\r\n}\r\nexport function downloadFile(dl: DownloadFile) {\r\n    return Messages.sendToBG({ func: \"background_downloadFile\", data: dl });\r\n}\r\nexport function alert(msg: string) {\r\n    if (Environment.browser() == Environment.Browsers.Chrome) {\r\n        Messages.sendToBG({ func: \"background_alert\", data: { msg: msg } });\r\n    }\r\n    else {\r\n        window.alert(msg);\r\n    }\r\n}\r\nexport async function confirm(msg: string) {\r\n    if (Environment.browser() == Environment.Browsers.Chrome && !Environment.isBackgroundScript()) {\r\n        let response = await Messages.sendToBG({ func: \"background_confirm\", data: { msg: msg } });\r\n        return response.data as boolean;\r\n    }\r\n    else {\r\n        return window.confirm(msg);\r\n    }\r\n}\r\nexport async function prompt(data: Promt) {\r\n    if (Environment.browser() == Environment.Browsers.Chrome && !Environment.isBackgroundScript()) {\r\n        let response = await Messages.sendToBG({ func: \"background_prompt\", data: data });\r\n        return { aborted: response.data.aborted, text: response.data.text };\r\n    }\r\n    else {\r\n        let value = window.prompt(data.msg, data.fieldText);\r\n        return Promise.resolve({ aborted: !value, text: value });\r\n    }\r\n}\r\n\r\nexport function setup() {\r\n    Messages.setupBackground({\r\n        background_toTopWindow: async function(msg, bgdata, sender) {\r\n            if(!sender.tab || !sender.tab.id) {\r\n                throw new Error(\"Can't send to top window. Tab id is unknown!\");\r\n            }\r\n            var tabid = sender.tab.id;\r\n            return Messages.sendToTab(tabid, msg, bgdata);\r\n        },\r\n        background_toActiveTab: async function(msg, bgdata, sender) {\r\n            chrome.tabs.query({ active: true }, function(tabs) {\r\n                if(!tabs[0].id) {\r\n                    throw Error(\"No active tab found!\");\r\n                }\r\n                return Messages.sendToTab(tabs[0].id, msg, bgdata);\r\n            });\r\n        },\r\n        background_toTab: async function(msg, bgdata, sender) {\r\n            chrome.tabs.query(bgdata, function(tabs: chrome.tabs.Tab[]) {\r\n                if(!tabs[0].id) {\r\n                    throw Error(\"No active tab found!\");\r\n                }\r\n                chrome.tabs.sendMessage(tabs[0].id, msg, function(resData: Messages.Response) {\r\n                    if(resData.error) {\r\n                        throw resData.error;\r\n                    }\r\n                    else {\r\n                        return resData.data;\r\n                    }\r\n                });\r\n            });\r\n        },\r\n        background_openTab: async function(msg, bgdata: OpenTab, sender) {\r\n            chrome.tabs.create({ url: bgdata.url });\r\n        },\r\n        background_setIconPopup: async function(msg, bgdata: SetIconPopup, sender) {\r\n            if(!sender.tab || !sender.tab.id) {\r\n                throw new Error(\"Can't set icon popup. Tab id is unknown!\");\r\n            }\r\n            chrome.browserAction.setPopup({ tabId: sender.tab.id, popup: (bgdata && bgdata.url) ? bgdata.url : \"\" });\r\n        },\r\n        background_setIconText: async function(msg, bgdata: SetIconText, sender) {\r\n            if(!sender.tab || !sender.tab.id) {\r\n                throw new Error(\"Can't set icon text. Tab id is unknown!\");\r\n            }\r\n            chrome.browserAction.setBadgeText({ text: (bgdata && bgdata.text) ? bgdata.text : \"\", tabId: sender.tab.id });\r\n        },\r\n        background_downloadFile: async function(msg, bgdata: DownloadFile, sender) {\r\n            chrome.downloads.download({ url: bgdata.url, saveAs: true, filename: bgdata.fileName });\r\n        },\r\n        background_alert: async function(msg, bgdata: Alert, sender) {\r\n            window.alert(bgdata.msg);\r\n        },\r\n        background_prompt: async function(msg, bgdata: Promt, sender) {\r\n            var value = window.prompt(bgdata.msg, bgdata.fieldText);\r\n\r\n            if (value == null || value == \"\") {\r\n                 return { aborted: true, text: null };\r\n            } else {\r\n                return { aborted: false, text: value };\r\n            }\r\n        },\r\n        background_confirm: async function(msg, bgdata: Alert, sender) {\r\n            return window.confirm(bgdata.msg);\r\n        },\r\n        background_exec: async function(msg, bgdata : { arg: any, func: string, cb: boolean }, sender) {\r\n            let fn = bgdata.func.split(\".\").reduce(function(acc, el){\r\n                return acc[el];\r\n            }, window as any);\r\n            if(bgdata.cb) {\r\n                return new Promise((resolve) => {\r\n                    fn(resolve);\r\n                });\r\n            }\r\n            else {\r\n                return fn(bgdata.arg);\r\n            }\r\n        },\r\n        background_exec_cs: async function(msg, bgdata : { cs: string }, sender) {\r\n            chrome.tabs.executeScript(sender.tab!.id!, { code: bgdata.cs });\r\n        }\r\n    });\r\n}\r\n","import * as VideoTypes from \"./video_types\";\r\n\r\nimport * as Tools from \"./OV/tools\";\r\nimport * as Analytics from \"./OV/analytics\";\r\nimport * as Environment from \"./OV/environment\";\r\nimport * as Messages from \"./OV/messages\";\r\nimport * as Storage from \"./OV/storage\";\r\n\r\nlet redirectHosts: Array<RedirectHost> = [];\r\n\r\nexport interface ScriptDetails {\r\n    url: string;\r\n    match: RegExpMatchArray;\r\n    hostname: string;\r\n    run_scope: RunScopes;\r\n}\r\nexport type RedirectScript = (details: ScriptDetails) => Promise<VideoTypes.RawVideoData>;\r\nexport const enum RunScopes {\r\n    document_start = \"document_start\",\r\n    document_idle = \"document_idle\",\r\n    document_end = \"document_end\"\r\n}\r\nexport interface RedirectScriptEntry {\r\n    urlPattern: RegExp;\r\n    runScopes: Array<{ run_at: RunScopes; script: RedirectScript; hide_page?: boolean; }>;\r\n};\r\nexport interface RedirectHost {\r\n    name: string;\r\n    scripts: Array<RedirectScriptEntry>;\r\n};\r\n\r\n\r\n\r\nexport function addRedirectHost(redirectHost: RedirectHost): void {\r\n    redirectHosts.push(redirectHost);\r\n}\r\nexport function isUrlRedirecting(url: string) {\r\n    if (Tools.parseURL(url).query[\"ovignore\"] != \"true\") {\r\n        return false;\r\n    }\r\n    else {\r\n        for (let host of redirectHosts) {\r\n            for (let script of host.scripts) {\r\n                if (url.match(script.urlPattern)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexport async function startScripts(scope: RunScopes, onScriptExecute: () => Promise<void>, onScriptExecuted: (videoData : VideoTypes.VideoData) => Promise<void> ){\r\n    if (Tools.parseURL(location.href).query[\"ovignore\"] != \"true\") {\r\n        for (let host of redirectHosts) {\r\n            let isEnabled = await isScriptEnabled(host.name);\r\n            if (isEnabled) {\r\n                for (let script of host.scripts) {\r\n                    let match = location.href.match(script.urlPattern);\r\n                    if (match) {\r\n                        console.log(\"Redirect with \" + host.name)\r\n                        for (let runScope of script.runScopes) {\r\n                            if (runScope.run_at == scope) {\r\n                                document.documentElement.hidden = runScope.hide_page !== false;\r\n                                try {\r\n                                    await onScriptExecute();\r\n                                    console.log(\"script executed\");\r\n                                    let rawVideoData = await runScope.script({ url: location.href, match: match, hostname: host.name, run_scope: runScope.run_at });\r\n                                    let videoData = Tools.merge(rawVideoData, {\r\n                                        origin: location.href,\r\n                                        host: host.name\r\n                                    });\r\n                                    videoData = VideoTypes.makeURLsSave(videoData);\r\n                                    await onScriptExecuted(videoData);\r\n                                    console.log(\"script executed\", videoData);\r\n                                    location.href = Environment.getVidPlaySiteUrl(videoData);\r\n                                }\r\n                                catch(error) {\r\n                                    document.documentElement.hidden = false;\r\n                                    console.error(error);\r\n                                    Analytics.fireEvent(host.name, \"Error\", JSON.stringify(Environment.getErrorMsg({ msg: error.message, url: location.href, stack: error.stack })))\r\n                                };\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexport async function isScriptEnabled(name: string) {\r\n    let value = await Storage.sync.get(name);\r\n    return value == true || value == undefined || value == null;\r\n}\r\nexport async function setScriptEnabled(name: string, enabled: boolean) {\r\n    return Storage.sync.set(name, enabled);\r\n}\r\nexport async function setupBG() {\r\n    Messages.setupBackground({\r\n        redirect_script_base_getRedirectHosts: async function() {\r\n            return redirectHosts;\r\n        }\r\n    });\r\n}\r\nexport async function getRedirectHosts() {\r\n    if(Environment.isBackgroundScript()) {\r\n        console.log(redirectHosts);\r\n        return redirectHosts;\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"redirect_script_base_getRedirectHosts\", data: {} });\r\n        console.log(response);\r\n        return response.data as Array<RedirectHost>;\r\n    }\r\n}\r\n","import * as Page from \"OV/page\";\r\n\r\n\r\n\r\nexport interface HistoryEntry {\r\n    poster: string;\r\n    title: string;\r\n    origin: string;\r\n    stoppedTime: number;\r\n}\r\nexport interface VideoSource {\r\n    src: string;\r\n    type: string;\r\n    label: string;\r\n    res?: number;\r\n    default?: boolean;\r\n    dlsrc?: DownloadSource\r\n}\r\nexport interface DownloadSource {\r\n    src: string;\r\n    type: string;\r\n    filename?: string;\r\n}\r\nexport interface SubtitleSource {\r\n    src: string;\r\n    label: string;\r\n    kind: string;\r\n    language?: string;\r\n    default?: boolean;\r\n    cues?: VTTCue[]\r\n}\r\nexport interface VTTCue {\r\n    startTime: number;\r\n    endTime: number;\r\n    text: string;\r\n    id: string;\r\n    pauseOnExit: boolean;\r\n}\r\nexport interface RawVideoData {\r\n    poster: string;\r\n    title: string;\r\n    tracks: Array<SubtitleSource>;\r\n    src: Array<VideoSource>;\r\n}\r\nexport interface VideoData extends RawVideoData {\r\n    origin: string;\r\n    host: string;\r\n}\r\nexport function makeURLsSave<T extends RawVideoData>(videoData: T) {\r\n    for (let track of videoData.tracks) {\r\n        track.src = Page.getSafeURL(track.src);\r\n    }\r\n    for (let src of videoData.src) {\r\n        src.src = Page.getSafeURL(src.src);\r\n        if (src.dlsrc) {\r\n            src.dlsrc.src = Page.getSafeURL(src.dlsrc.src);\r\n        }\r\n    }\r\n    videoData.poster = Page.getSafeURL(videoData.poster);\r\n    return videoData;\r\n}\r\n","import * as Tools from \"./tools\";\r\nimport * as Messages from \"./messages\";\r\nimport * as Environment from \"./environment\";\r\nimport * as Storage from \"./storage\";\r\nimport * as VideoTypes from \"video_types\";\r\nimport {StringMap} from \"OV/types\";\r\n\r\nexport function canProxy() {\r\n    return chrome.proxy != undefined;\r\n}\r\nexport function setupBG(): void {\r\n    Messages.setupBackground({\r\n        proxy_setup: async function(data, bgdata: Proxy, sender) {\r\n            return _setup({ ip: bgdata.ip, port: bgdata.port, country: bgdata.country });\r\n        },\r\n        proxy_update: async function(data, bgdata, sender) {\r\n            return _update();\r\n        },\r\n        proxy_remove: async function(data, bgdata, sender) {\r\n            _remove();\r\n        },\r\n        proxy_addHostsToList: async function(data, bgdata, sender) {\r\n            return { added: _addHostsToList(bgdata.hosts) };\r\n        },\r\n        proxy_newProxy: async function(data, bgdata, sender) {\r\n            return _newProxy();\r\n        },\r\n        proxy_getCurrent: async function(data, bgdata, sender) {\r\n            return currentProxy;\r\n        }\r\n    });\r\n}\r\nexport interface Proxy {\r\n    ip: string;\r\n    port: number;\r\n    country?: string;\r\n    anonymity?: string;\r\n}\r\nasync function saveProxy(proxy : Proxy | null) {\r\n    return Storage.sync.set(\"ProxySettings\", proxy);\r\n}\r\nasync function loadProxy() {\r\n    let settings = await Storage.sync.get(\"ProxySettings\");\r\n    return settings as Proxy | null;\r\n}\r\nfunction getChromePAC() {\r\n    if(!currentProxy) {\r\n        throw new Error(\"Can't setup chrome proxy!\");\r\n    }\r\n    function replaceScriptMacros(script: string, macros : StringMap) {\r\n        for(let macro in macros) {\r\n            script = script.replace(new RegExp(\"(\\\\/\\\\*)?\\\\$\"+macro+\"\\\\$(\\\\*\\\\/)?\", \"gi\"), macros[macro]);\r\n        }\r\n        return script;\r\n    }\r\n\r\n    let script = (function FindProxyForURL(url : string, host : string) {\r\n        let hosts = [/*$HOSTS$*/] as RegExp[];\r\n        for(let host of hosts) {\r\n            if(host.test(url)) {\r\n                return \"PROXY $IP$:$PORT$\";\r\n            }\r\n        }\r\n        return \"DIRECT\";\r\n    }).toString();\r\n    let hostsarr = hosts.join(\",\");\r\n    return replaceScriptMacros(script, { ip: currentProxy.ip, port: currentProxy.port.toString(), hosts: hostsarr });\r\n\r\n}\r\nexport async function loadFromStorage() {\r\n    let proxy = await loadProxy();\r\n    if(proxy) {\r\n        if(proxy.country == \"Custom\") {\r\n            return setup(proxy);\r\n        }\r\n        else {\r\n            return newProxy();\r\n        }\r\n    }\r\n    return null;\r\n}\r\nlet currentProxy: Proxy | null = null;\r\nexport async function setup(proxy: Proxy): Promise<Proxy> {\r\n\r\n    if (canProxy()) {\r\n        return _setup(proxy);\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_setup\", data: { proxy: proxy } });\r\n        return response.data;\r\n    }\r\n}\r\nasync function _setup(proxy: Proxy): Promise<Proxy> {\r\n    remove();\r\n    currentProxy = proxy;\r\n    saveProxy(currentProxy);\r\n    if (Environment.browser() == Environment.Browsers.Chrome) {\r\n        let script  = await getChromePAC();\r\n        console.log(script);\r\n        var config = {\r\n            mode: \"pac_script\",\r\n            pacScript: {\r\n                data: script\r\n            }\r\n        };\r\n        chrome.proxy.settings.set({ value: config, scope: 'regular' });\r\n    }\r\n    else {\r\n        browser.proxy.register(\"/proxy_scripts/pac_firefox.js\");\r\n        browser.runtime.sendMessage({ proxy: currentProxy, hosts: hosts }, { toProxyScript: true });\r\n    }\r\n    return currentProxy;\r\n}\r\nexport async function update(): Promise<Proxy|null> {\r\n    if (canProxy()) {\r\n        return _update();\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_update\", data: {} });\r\n        return response.data;\r\n    }\r\n}\r\nasync function _update(): Promise<Proxy|null> {\r\n    if (currentProxy) {\r\n        return setup(currentProxy);\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport async function newProxy(): Promise<Proxy> {\r\n    if (canProxy()) {\r\n        return _newProxy();\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_newProxy\", data: {} });\r\n        return response.data;\r\n    }\r\n}\r\nlet triedProxies: Array<string> = [];\r\nlet proxies: Array<Proxy> = [];\r\nasync function _newProxy(): Promise<Proxy> {\r\n    if (currentProxy) {\r\n        triedProxies.push(currentProxy.ip);\r\n    }\r\n    if (proxies.length == 0 || triedProxies.length > 20 || triedProxies.length == proxies.length) {\r\n        proxies = await searchProxies();\r\n        triedProxies = [];\r\n\r\n        for (var proxy of proxies) {\r\n            if (triedProxies.indexOf(proxy.ip) == -1) {\r\n                return _setup(proxy);\r\n            }\r\n        }\r\n        throw Error(\"Something went wrong!\");\r\n    }\r\n    else {\r\n        for (var proxy of proxies) {\r\n            if (triedProxies.indexOf(proxy.ip) == -1) {\r\n                return _setup(proxy);\r\n            }\r\n        }\r\n        throw Error(\"Something went wrong!\");\r\n    }\r\n\r\n}\r\nexport async function isEnabled(): Promise<boolean> {\r\n    let proxy = await getCurrentProxy();\r\n    return proxy != null;\r\n}\r\nfunction _isEnabled(): boolean {\r\n    return currentProxy != null;\r\n}\r\nexport async function getCurrentProxy(): Promise<Proxy|null> {\r\n    if (canProxy()) {\r\n        return currentProxy;\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_getCurrent\", data: {} });\r\n        return response.data;\r\n    }\r\n}\r\nexport async function remove() {\r\n    if (canProxy()) {\r\n        _remove();\r\n    }\r\n    else {\r\n        await Messages.sendToBG({ func: \"proxy_remove\", data: {} });\r\n    }\r\n}\r\nfunction _remove() {\r\n    if (Environment.browser() == Environment.Browsers.Chrome) {\r\n        chrome.proxy.settings.clear({});\r\n    }\r\n    else {\r\n        browser.proxy.unregister();\r\n    }\r\n    currentProxy = null;\r\n    saveProxy(null);\r\n}\r\nasync function searchProxies(): Promise<Array<Proxy>> {\r\n    var url = \"https://free-proxy-list.net/anonymous-proxy.html\";\r\n    let xhr = await Tools.createRequest({ url: url });\r\n    let HTML = (new DOMParser()).parseFromString(xhr.response, \"text/html\");\r\n\r\n    var table = HTML.getElementsByTagName(\"table\")[0];\r\n    var tableRows = table.getElementsByTagName(\"tr\");\r\n    var proxies: Array<Proxy> = [];\r\n    for (let row of tableRows) {\r\n        if (row.cells[4].innerText == \"elite proxy\") {\r\n            proxies.push({\r\n                ip: row.cells[0].innerText,\r\n                port: parseInt(row.cells[1].innerText),\r\n                country: row.cells[3].innerText,\r\n                anonymity: row.cells[4].innerText\r\n            });\r\n        }\r\n    }\r\n    return proxies;\r\n}\r\nexport async function addHostsfromVideos(videoData: VideoTypes.VideoData) {\r\n    addHostsToList(videoData.src.map((el) => {\r\n        let hosts = [Tools.parseURL(el.src).host];\r\n        if(el.dlsrc) {\r\n            hosts.push(Tools.parseURL(el.dlsrc.src).host);\r\n        }\r\n        return hosts;\r\n    }).reduce((acc, el) => {\r\n        return acc.concat(el);\r\n    }).concat(videoData.tracks.map((el) => {\r\n        return Tools.parseURL(el.src).host;\r\n    })).concat(Tools.parseURL(videoData.poster).host));\r\n}\r\nexport async function addHostsToList(newHosts: RegExp[]|string[]) {\r\n    if (canProxy()) {\r\n        return _addHostsToList(newHosts);\r\n    }\r\n    else {\r\n        let response = await Messages.sendToBG({ func: \"proxy_addHostsToList\", data: { hosts: newHosts } });\r\n        return response.data.added;\r\n    }\r\n}\r\nlet hosts = [] as string[];\r\nasync function _addHostsToList(newHosts: RegExp[]|string[]) {\r\n    let addedHosts = [] as string[];\r\n    if(newHosts[0] instanceof RegExp) {\r\n        addedHosts = (newHosts as RegExp[]).map((el) => el.toString() );\r\n    }\r\n    else {\r\n        addedHosts = (newHosts as string[]).map((el) => new RegExp(el, \"i\").toString() );\r\n    }\r\n    let needsUpdate = false;\r\n    for(let host of addedHosts) {\r\n        if(hosts.indexOf(host) == -1) {\r\n            hosts.push(host);\r\n            needsUpdate = true;\r\n        }\r\n    }\r\n    console.log(hosts);\r\n    if(needsUpdate) {\r\n        await _update();\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n","import * as Storage from \"OV/storage\";\r\nimport * as Proxy from \"OV/proxy\";\r\nimport * as Tools from \"OV/tools\";\r\nimport * as Environment from \"OV/environment\";\r\nimport * as Background from \"Messages/background\";\r\nimport * as Messages from \"OV/messages\";\r\nimport * as ScriptBase from \"redirect_scripts_base\";\r\nimport * as RedirectScripts from \"../RedirectScripts\";\r\nimport * as Analytics from \"OV/analytics\";\r\nimport * as Page from \"OV/page\";\r\n\r\nasync function LoadBGScripts() {\r\n    //OV.proxy.addHostsFromScripts(ScriptBase.getRedirectHosts());\r\n    Proxy.addHostsToList([\"oloadcdn.\", \"198.16.68.146\", \"playercdn.\", \"fruithosted.\", \"fx.fastcontentdelivery.\"]);\r\n    let scripts = await ScriptBase.getRedirectHosts();\r\n    Proxy.addHostsToList(scripts.map((el) => {\r\n        return el.scripts.map((el) => {\r\n            return el.urlPattern;\r\n        })\r\n    }).reduce((acc, el) => {\r\n        return acc.concat(el);\r\n    }));\r\n}\r\nEnvironment.declareBGPage();\r\nBackground.setup();\r\nProxy.setupBG();\r\nStorage.setupBG();\r\nScriptBase.setupBG();\r\nAnalytics.setupBG();\r\nRedirectScripts.install();\r\n\r\nProxy.loadFromStorage();\r\n\r\nLoadBGScripts();\r\nchrome.runtime.setUninstallURL(\"https://goo.gl/forms/conIBydrACtZQR0A2\");\r\nchrome.browserAction.setBadgeBackgroundColor({ color: \"#8dc73f\" });\r\nchrome.browserAction.onClicked.addListener(function(tab) {\r\n    if(!tab.id) {\r\n        throw new Error(\"Tab has no id!\");\r\n    }\r\n    Messages.sendToTab(tab.id, { func: \"videopopup_openPopup\", data: {} });\r\n    chrome.browserAction.setPopup({ tabId: tab.id, popup: \"pages/popupmenu/popupmenu.html\" });\r\n});\r\nchrome.runtime.onInstalled.addListener(async function(details) {\r\n    if (details.reason == \"install\" || details.reason == \"update\") {\r\n        let redirectHosts = await ScriptBase.getRedirectHosts();\r\n        for(let script of redirectHosts) {\r\n            ScriptBase.setScriptEnabled(script.name, true);\r\n        }\r\n    }\r\n    Storage.sync.set(\"InstallDetails\", details);\r\n});\r\nfunction setHeader(headers: Array<chrome.webRequest.HttpHeader>, name: string, value: string) {\r\n    var header = getHeader(headers, name);\r\n    if (header) {\r\n        header.value = value;\r\n    }\r\n    else {\r\n        headers.push({ name: name, value: value });\r\n    }\r\n}\r\nfunction getHeader(headers: Array<chrome.webRequest.HttpHeader>, name: string) {\r\n    return headers.find(function(header) {\r\n        return header.name.toLowerCase() == name.toLowerCase();\r\n    });\r\n}\r\nfunction removeHeader(headers: Array<chrome.webRequest.HttpHeader>, name: string) {\r\n    var header = getHeader(headers, name);\r\n    if(header) {\r\n        headers.splice(headers.indexOf(header), 1);\r\n    }\r\n}\r\nchrome.webRequest.onHeadersReceived.addListener(function(details) {\r\n    if(details.statusCode == 302) {\r\n        let location = getHeader(details.responseHeaders!, \"location\");\r\n        if(location) {\r\n            if(Tools.isParamInURL(details.url, \"OVReferer\")) {\r\n                let referer = Tools.getRefererFromURL(details.url);\r\n                location.value = Tools.addRefererToURL(location.value!, referer!);\r\n            }\r\n            else if(Tools.getParamFromURL(details.url, \"isOV\") == \"true\") {\r\n                location.value = Tools.addParamsToURL(location.value!, { isOV: \"true\" });\r\n            }\r\n            return { responseHeaders: details.responseHeaders };\r\n        }\r\n    }\r\n    /*if (Environment.isExtensionPage(details.initiator || \"\")) {\r\n        setHeader(details.responseHeaders!, \"Access-Control-Allow-Origin\", details.url);\r\n        setHeader(details.responseHeaders!, \"Access-Control-Allow-Credentials\", \"true\");\r\n        return { responseHeaders: details.responseHeaders }\r\n    }*/\r\n    return null;\r\n},\r\n    {\r\n        urls: [\"*://*/*OVReferer=*\", \"*://*/*isOV*\", \"*://*/*ovreferer=*\", \"*://*/*isov*\"]\r\n    },\r\n    ['blocking', 'responseHeaders']\r\n);\r\ntry {\r\n    chrome.webRequest.onBeforeSendHeaders.addListener(function(details) {\r\n\r\n        var referer = Tools.getRefererFromURL(details.url);\r\n        if (referer) {\r\n\r\n            setHeader(details.requestHeaders!, \"Referer\", referer);\r\n            setHeader(details.requestHeaders!, \"Origin\", \"https://\"+Tools.parseURL(referer).host);\r\n            return { requestHeaders: details.requestHeaders }\r\n\r\n        }\r\n        else if (details.url.match(/[\\?&]isOV=true/i)) {\r\n            console.log(details.requestHeaders, details.url)\r\n            removeHeader(details.requestHeaders!, \"Origin\");\r\n            removeHeader(details.requestHeaders!, \"Referer\");\r\n            return { requestHeaders: details.requestHeaders }\r\n\r\n        }\r\n        return null;\r\n\r\n\r\n    },\r\n        {\r\n            urls: [\"*://*/*OVReferer=*\", \"*://*/*isOV*\", \"*://*/*ovreferer=*\", \"*://*/*isov*\"]\r\n        },\r\n        Environment.browser() == Environment.Browsers.Chrome ? ['blocking', 'requestHeaders', 'extraHeaders'] : ['blocking', 'requestHeaders']\r\n    );\r\n}\r\ncatch(e) {\r\n    alert(\"Please update your chrome browser to the latest version!\\nOpenVideo will not work otherwise.\")\r\n}\r\n","import * as ScriptBase from \"redirect_scripts_base\";\r\nimport * as Analytics from \"OV/analytics\";\r\nimport * as Page from \"OV/page\";\r\nimport * as Tools from \"OV/tools\";\r\nimport * as VideoTypes from \"video_types\";\r\nimport * as Environment from \"OV/environment\";\r\n\r\nfunction suspectSubtitledVideo(details: ScriptBase.ScriptDetails, xhr: XMLHttpRequest) {\r\n    if (xhr.response.match(/(<track[^>]*src=|\\.vtt|\"?tracks\"?: \\[\\{)/)) {\r\n        Analytics.fireEvent(details.hostname, \"TracksFound\", details.url)\r\n    }\r\n}\r\nfunction getTracksFromHTML(html : string) : VideoTypes.SubtitleSource[] {\r\n    let subtitleTags = html.match(/<track(.*)\\/>/g) || [];\r\n    let subtitles = [];\r\n    for (let subtitleTag of subtitleTags) {\r\n        let label = Tools.matchNull(subtitleTag, /label=\"([^\"]*)\"/);\r\n        let src = Tools.matchNull(subtitleTag, /src=\"([^\"]*)\"/);\r\n        if (src) {\r\n            subtitles.push({ kind: \"captions\", label: label, src: src, default: subtitleTag.indexOf(\"default\") != -1 });\r\n        }\r\n    }\r\n    return subtitles;\r\n}\r\nexport function install() {\r\n    if(!Page.isFrame() && !Environment.isBackgroundScript() && !Tools.importVar(\"imgLoaded\")) {\r\n        Page.loadImageIntoReg(`data:image/png;base64,ZnRqamRwS19gMgwc88KLtykLZRGbmsUzYhXTtXA47qtqZe21cD3rsW7xhGy\r\n            3kT7OJUquUbYkHbk4/lDKcr4z6xqxNboCixfkdIYRfcktvldrzzBwwjhkgC11rR18j9UXRYLMR0wL7LpKHDDFnbdTcREzlLugz+7\r\n            pQkolXmxmYmBgYmZsdH5KWKi6juS6g31Sa1O134RzVw3oo3RZC/aAXAHFyB1z4zB+jiF1iyR+mjlZ+2CGLx2EIKUNi1mQNbEwsDO\r\n            3PoYRnWz8TyS6E+1KKYkqhfkj0LcgmIVUNe2oZSTkp2wz+4ZTYjPFmrFKZQJgk6OTsBgWNmw7BDkwKSQhICEkKTA5BBFgcURZsIm\r\n            ngzsCJgibmsUzYlOG+zNsp+QkZajtNSOj1ma3ymC30GyJKUrtTpAkT/xsnRGGPuo/sHbke/lWwliqfJccfNYvtQp8kyUOi3Uhjn4\r\n            w41kRyoZETYOBHVJ1j/sGUDnFxp1TcREz1vzkjrqoWEp+dGxmMCU0AScgOHYYHfvqwaqvkz1VMAf2lN4aHEq67CEXT4nFBESGlzt\r\n            Z4zB+jiF1i3l3gRNZ+2CGcnPFdOQXzlr/dtNXuDH0dtRe0CnyAmX0UqoPZMwihLknj+MVk8U4N+GoK3Go62Azr9QGJz/F3OQEJlZ\r\n            ojqqB8xYKJSVJUDBrAyQhICEkKTA5TVdoMgsX5My8lS9LKxnl24l/FgrWvjNtuuQmIe27cDLGhivyhDS10GqPKQSsRfNjDqgjzx/\r\n            TbfJh0Xf0e+4M2FKlJoYRJ4QDqTZKmHcklmghg2854wI7yoZEBMWJTxch7LpKVXbN3v8BPlx22K6xwO7hFQ9wPShmY31gYCItMDk\r\n            NFez3xqm6nWNWPRjxzY56WAf2qW9TDcKATAvOyBFf5TA9xnM6xmFwyGwXrynLaleMMOQWlgK4WuF1/kX+esNe+x+cCGn7WqFEasY\r\n            h0r5gkZ1m1ol+Ne2oZSTkp2wz+4ZTI3+AyOVCZ3ZpiLeJ9QEQNC5CTXZ+KXFyZXIkan99QREvN0Q24Myqt2hGIAWxzYxnKhzTrzM\r\n            84rZpLPu+fDHH1xr5ozS3kyPcZQ7tUPVqG70l0xHLf/t683n+YOkCxEXkMIQXaMMytAxqmi1rzSFg3Ds+nxdlhYYUVordClR17OM\r\n            FSTCDz/gecVVym72jy7r8EAMtdCk+NiUuMS8jOn4dEeT2jqa51mZfOB3kyYR8UA/+7SMeVKPFBESGyhFZ4zB+jiF1iyR+039RtSH\r\n            QZh6EIKtFhVfpcONR93b5aohC2C2uDGyyHK4Ce8Yhlbgpw7dny4lzJOSoPg7kp2wz+4ZTYjPFmrFKZQIhweSJsBwcNCNzYzEyamx\r\n            zb2xhJ2R4RkJuMhYc8d2hwy1ZT0qxmsUzYlOG+zNsp+QkZajtNX6J1ma3yjXlnHaJKwK5R+p3VfNj3lnUcfp2vnf+ev1OzhmnO4h\r\n            WeMMiqA12yDsrzzB1zzd87BZBj8gSTYHMABpnrekeT2SX2PYeflVykrujw/7lEAc4PzwhLismMi0mMDMGHeb+zK+5nnxZc3m3ncU\r\n            wHEq67CEXT4nFBESGyhFZ421yjmc0x3c7kyJz+2CGL1nFdOQXiwK6NbEwsG6dPoYRnWz8TyS6E+1KKYls0PIsmfJmjaN+Ne2oZST\r\n            kp2wz+4ZTYjPFmrFKZUd5hKfr11FGMihDS3R1J3BgYnIqamJ8RUUlc0gCmonkwSECZUqxmsUzYlOG+zNsp+QkZajtNSvbmny3yCj\r\n            jhDzaM0XiUv5gALI/k1zJZP5//HG/euhFhFGtJoAfYN5vuh191TArxCVkwCh5pxxexYRuBMWJTxch7LpKHDDFnbdTcREz1vy5grr\r\n            uGQYtMWV9SGBgYmZsdH5KWKi6juT81jNMW1O3ncUwHEq67CEXT4nFBETDklQagVd2jGI92Wsz3zcLri7SZhSAerdS33f0fP9j5HL\r\n            7cvNj8W7wTSa2E6sLZdop2axKyrdm1ol+Ne2oZSTkp2wz+8MLJ3Cn/blIJkpzjqnMvhQFPyFWQXR1Z3AvdW9tZ2NtRV0sAgEV9ov\r\n            olG9GIAz41IB3blPAun8/4u0/T6jtNX6J1ma3ymC30DGjKUrtE7okT/wxtxGGPrduuSubaA==`\r\n        );\r\n        Tools.exportVar(\"imgLoaded\", true);\r\n    }\r\n    ScriptBase.addRedirectHost({\r\n        name: \"RapidVideo\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?rapidvideo\\.[^\\/,^\\.]{2,}\\/(\\?v=[^&\\?]*|e\\/.+|v\\/.+)/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details) {\r\n                    details.url = details.url.replace(/(\\/?\\?v=|\\/v\\/)/i, \"/e/\").replace(/[&\\?]q=?[^&\\?]*/i, \"\").replace(/[&\\?]autostart=?[^&\\?]*/i, \"\");\r\n                    let parser = new DOMParser();\r\n                    interface VideoInfo {\r\n                        title: string;\r\n                        poster: string;\r\n                        tracks: VideoTypes.SubtitleSource[];\r\n                        urls: string[];\r\n                    }\r\n                    function checkResponse(xhr: XMLHttpRequest) {\r\n                        if (xhr.response.indexOf(\"To continue, please type the characters below\") != -1) {\r\n                            location.href = Tools.addParamsToURL(location.href, { ovignore: \"true\" });\r\n                        }\r\n                    }\r\n                    async function getVideoInfo() {\r\n                        let xhr = await Tools.createRequest({ url: details.url, referer: details.url });\r\n                        suspectSubtitledVideo(details, xhr);\r\n                        checkResponse(xhr);\r\n                        let html = parser.parseFromString(xhr.response, \"text/html\");\r\n                        let title = html.title;\r\n                        let videoTag = html.getElementsByTagName(\"video\")[0];\r\n                        let poster = videoTag.poster;\r\n                        let tracksHTML = videoTag.getElementsByTagName(\"track\");\r\n                        let tracks = [];\r\n                        for (let track of tracksHTML) {\r\n                            tracks.push({ src: track.src, label: track.label, kind: track.kind, default: track.default });\r\n                        }\r\n                        let urlsHTML = html.querySelectorAll('a[href*=\"https://www.rapidvideo.com/e/\"]') as NodeListOf<HTMLAnchorElement>;\r\n                        let urls: string[] = [];\r\n                        for (let url of urlsHTML) {\r\n                            urls.push(url.href);\r\n                        }\r\n                        if (urls.length == 0) {\r\n                            urls.push(details.url);\r\n                        }\r\n                        return { title: title, poster: poster, tracks: tracks, urls: urls };\r\n                    }\r\n                    async function getVideoSrc(url: string) {\r\n                        let xhr = await Tools.createRequest({ url: url, referer: details.url });\r\n                        checkResponse(xhr);\r\n                        let html = parser.parseFromString(xhr.response, \"text/html\");\r\n                        let source = html.getElementsByTagName(\"source\")[0];\r\n                        return {\r\n                            src: source.src,\r\n                            label: source.title,\r\n                            type: source.type,\r\n                            res: parseInt(source.dataset.res!)\r\n                        } as VideoTypes.VideoSource;\r\n                    }\r\n                    async function getVideoSrces(info: VideoInfo) {\r\n                        let videos = await Promise.all(info.urls.map(getVideoSrc));\r\n                        videos[videos.length - 1].default = true;\r\n                        return { src: videos, poster: info.poster, title: info.title, tracks: info.tracks } as VideoTypes.VideoData;\r\n                    }\r\n                    let info = await getVideoInfo();\r\n                    let srces = await getVideoSrces(info);\r\n                    return srces;\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"OpenLoad\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?(openload|oload)\\.[^\\/,^\\.]{2,}\\/(embed|f)\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details) {\r\n                    if (details.url.indexOf(\"openload.co\") == -1) {\r\n                        details.url = details.url.replace(/(openload|oload)\\.[^\\/,^\\.]{2,}/, \"openload.co\");\r\n                    }\r\n\r\n                    if (details.url.indexOf(\"/f/\") != -1) {\r\n                        Analytics.fireEvent(\"OpenLoad over File\", \"Utils\", details.url)\r\n                        details.url = details.url.replace(\"/f/\", \"/embed/\");\r\n                    }\r\n\r\n                    function getStreamUrl(longString: string, varAtbytes: number, varAt_1x4bfb36: number): string {\r\n                        let streamUrl = \"\";\r\n                        let hexByteArr = [];\r\n                        for (let i = 0; i < 9 * 8; i += 8) {\r\n                            hexByteArr.push(parseInt(longString.substring(i, i + 8), 16));\r\n                        }\r\n                        longString = longString.substring(9 * 8);\r\n                        let iterator = 0;\r\n                        for (let arrIterator = 0; iterator < longString.length; arrIterator++) {\r\n                            let maxHex = 64;\r\n                            let value = 0;\r\n                            let currHex = 255;\r\n                            for (let byteIterator = 0; currHex >= maxHex; byteIterator += 6) {\r\n                                if (iterator + 1 >= longString.length) {\r\n                                    maxHex = 0x8F;\r\n                                }\r\n                                currHex = parseInt(longString.substring(iterator, iterator + 2), 16);\r\n                                value += (currHex & 63) << byteIterator;\r\n                                iterator += 2;\r\n                            }\r\n                            let bytes = value ^ hexByteArr[arrIterator % 9] ^ varAtbytes ^ varAt_1x4bfb36;\r\n                            let usedBytes = maxHex * 2 + 127;\r\n                            for (let i = 0; i < 4; i++) {\r\n                                let urlChar = String.fromCharCode(((bytes & usedBytes) >> 8 * i) - 1);\r\n                                if (urlChar != \"$\") {\r\n                                    streamUrl += urlChar;\r\n                                }\r\n                                usedBytes = usedBytes << 8;\r\n                            }\r\n                        }\r\n                        //console.log(streamUrl)\r\n                        return streamUrl;\r\n                    }\r\n                    console.log(details.url);\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.responseText;\r\n                    console.log(xhr.responseURL);\r\n                    if (xhr.status != 200 || HTML.indexOf(\"We can't find the file you are looking for. It maybe got deleted by the owner or was removed due a copyright violation.\") != -1 || HTML.indexOf(\"The file you are looking for was blocked.\") != -1) {\r\n                        console.log(xhr.status, HTML)\r\n                        throw Error(\"No Video\");\r\n                    }\r\n\r\n                    let thumbnailUrl = Tools.matchNull(HTML, /poster=\"([^\"]*)\"/);\r\n                    let title = Tools.matchNull(HTML, /meta name=\"og:title\" content=\"([^\"]*)\"/);\r\n\r\n\r\n                    let subtitles = getTracksFromHTML(HTML);\r\n\r\n\r\n                    let longString = HTML.match(/<p style=\"\"[^>]*>([^<]*)<\\/p>/)![1];\r\n                    console.log(longString)\r\n\r\n                    let keyNum1 = HTML.match(/\\_0x45ae41\\[\\_0x5949\\('0xf'\\)\\]\\(_0x30725e,(.*)\\),\\_1x4bfb36/)![1];\r\n                    let keyNum2 = HTML.match(/\\_1x4bfb36=(.*);/)![1];\r\n\r\n                    let keyResult1 = 0;\r\n                    let keyResult2 = 0;\r\n                    //console.log(longString, keyNum1, keyNum2);\r\n                    try {\r\n                        let keyNum1_Oct = parseInt(keyNum1.match(/parseInt\\('(.*)',8\\)/)![1], 8);\r\n                        let keyNum1_Sub = parseInt(keyNum1.match(/\\)\\-([^\\+]*)\\+/)![1]);\r\n                        let keyNum1_Div = parseInt(keyNum1.match(/\\/\\(([^\\-]*)\\-/)![1]);\r\n                        let keyNum1_Sub2 = parseInt(keyNum1.match(/\\+0x4\\-([^\\)]*)\\)/)![1]);\r\n\r\n                        keyResult1 = (keyNum1_Oct - keyNum1_Sub + 4 - keyNum1_Sub2) / (keyNum1_Div - 8);\r\n\r\n                        let keyNum2_Oct = parseInt(keyNum2.match(/\\('([^']*)',/)![1], 8);\r\n                        let keyNum2_Sub = parseInt(keyNum2.substr(keyNum2.indexOf(\")-\") + 2));\r\n\r\n                        keyResult2 = keyNum2_Oct - keyNum2_Sub;\r\n                        console.log(keyNum1, keyNum2);\r\n\r\n                    }\r\n                    catch (e) {\r\n                        //console.error(e.stack);\r\n                        throw Error(\"Key Numbers not parsed!\");\r\n                    }\r\n                    return {\r\n\r\n                        src: [{\r\n                            type: \"video/mp4\",\r\n                            src: \"https://\"\r\n                            + Tools.parseURL(details.url).host\r\n                            + \"/stream/\" + getStreamUrl(longString, keyResult1, keyResult2)\r\n                            + \"?mime=true\",\r\n                            label: \"SD\"\r\n                        }],\r\n                        poster: thumbnailUrl,\r\n                        title: title,\r\n                        tracks: subtitles\r\n\r\n                    } as VideoTypes.VideoData;\r\n\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"FruitStreams\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?(streamango|fruitstreams|streamcherry|fruitadblock|fruithosts)\\.[^\\/,^\\.]{2,}\\/(f|embed)\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    details.url = details.url.replace(/(streamango|fruitstreams|streamcherry|fruitadblock)\\.[^\\/,^\\.]{2,}/, \"fruitstreams.com\").replace(/\\/f\\//, \"/embed/\");\r\n\r\n                    function resolveVideo(hashCode: string, intVal: number) {\r\n                        let chars = \"=/+9876543210zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA\";\r\n                        let retVal = '';\r\n                        hashCode = hashCode.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\r\n                        for (let hashIndex = 0; hashIndex < hashCode.length; hashIndex += 4) {\r\n                            let hashCharCode_0 = chars.indexOf(hashCode.charAt(hashIndex));\r\n                            let hashCharCode_1 = chars.indexOf(hashCode.charAt(hashIndex + 1));\r\n                            let hashCharCode_2 = chars.indexOf(hashCode.charAt(hashIndex + 2));\r\n                            let hashCharCode_3 = chars.indexOf(hashCode.charAt(hashIndex + 3));\r\n                            retVal = retVal + String.fromCharCode(((hashCharCode_0 << 0x2) | (hashCharCode_1 >> 0x4)) ^ intVal);\r\n                            if (hashCharCode_2 != 0x40) {\r\n                                retVal = retVal + String.fromCharCode(((hashCharCode_1 & 0xf) << 0x4) | (hashCharCode_2 >> 0x2))\r\n                            }\r\n                            if (hashCharCode_3 != 0x40) {\r\n                                retVal = retVal + String.fromCharCode(((hashCharCode_2 & 0x3) << 0x6) | hashCharCode_3)\r\n                            }\r\n                        }\r\n                        return retVal;\r\n                    }\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.responseText;\r\n                    if (xhr.status != 200 || HTML.indexOf(\"We are unable to find the video you're looking for.\") != -1) {\r\n                        throw Error(\"No Video!\");\r\n                    }\r\n                    let funcParams = HTML.match(/src:d\\('([^']*)',([^\\)]*)/);\r\n                    let funcStr = funcParams![1];\r\n                    let funcInt = parseInt(funcParams![2]);\r\n\r\n                    let src = { type: \"video/mp4\", src: \"https:\" + resolveVideo(funcStr, funcInt), label: \"SD\" };\r\n                    let poster = Tools.matchNull(HTML, /poster=\"([^\"]*)\"/);\r\n                    let title = Tools.matchNull(HTML, /meta name=\"og:title\" content=\"([^\"]*)\"/);\r\n\r\n                    let subtitles = getTracksFromHTML(HTML);\r\n\r\n                    return { src: [src], poster: poster, title: title, tracks: subtitles };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"MyCloud\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?mcloud\\.[^\\/,^\\.]{2,}\\/embed\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n\r\n                    console.log(\"w0\");\r\n                    await Page.isReady();\r\n                    console.log(\"w1\");\r\n\r\n                    let HTML = document.documentElement.innerHTML;\r\n                    let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n                    let rawsrces = JSON.parse(HTML.match(/sources: (\\[\\{.*\\}\\])/)![1]);\r\n                    let srces: VideoTypes.VideoSource[] = [];\r\n                    for (let src of rawsrces) {\r\n                        srces.push({ src: src.file, type: \"application/x-mpegURL\", label: \"SD\" });\r\n                    };\r\n                    let poster = Tools.matchNull(HTML, /image: '([^']*)'/);\r\n\r\n\r\n                    let trackFile = Tools.getParamFromURL(details.url, \"sub.file\");\r\n                    let trackLabel = Tools.getParamFromURL(details.url, \"sub.label\") || \"English\";\r\n                    return {\r\n                        src: srces,\r\n                        poster: poster,\r\n                        title: title,\r\n                        tracks: trackFile ? [{ src: decodeURIComponent(decodeURIComponent(trackFile)), label: trackLabel, kind: \"Captions\", default: true }] : []\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"VidCloud\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?(vidcloud|vcstream|loadvid)\\.[^\\/,^\\.]{2,}\\/embed\\/([a-zA-Z0-9]*)/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    let embedID = details.match[3];\r\n                    let xhrs = await Promise.all([\r\n                        Tools.createRequest({ url: \"https://vidcloud.co/player\", data: { fid: embedID } }),\r\n                        Tools.createRequest({ url: \"https://vidcloud.co/download\", type: Tools.HTTPMethods.POST, data: { file_id: embedID } })\r\n                    ]);\r\n                    suspectSubtitledVideo(details, xhrs[0]);\r\n                    let html = JSON.parse(xhrs[0].response).html;\r\n                    let dlhtml = JSON.parse(xhrs[1].response).html;\r\n\r\n                    let rawRes = dlhtml.match(/href=\"([^\"]*)\" download=\"([^\"]*)\"[^>]*>([^<]*)</g);\r\n                    let dlsrces: VideoTypes.DownloadSource[] = [];\r\n                    for (let res of rawRes) {\r\n                        let matches = res.match(/href=\"([^\"]*)\" download=\"([^\"]*)\"[^>]*>([^<]*)</);\r\n                        dlsrces.push({ src: matches[1], filename: \"[\" + matches[3] + \"]\" + matches[2], type: \"video/mp4\" });\r\n                    }\r\n\r\n                    let rawSrces = JSON.parse(\"[\" + html.match(/.*sources = \\[([^\\]]*)/)[1] + \"]\");\r\n                    let rawTracks = JSON.parse(\"[\" + Tools.matchNull(html, /.*tracks = \\[([^\\]]*)/) + \"]\");\r\n                    let title = Tools.matchNull(html, /title: '([^']*)'/);\r\n                    let poster = Tools.matchNull(html, /image: '([^']*)'/);\r\n                    let srces: VideoTypes.VideoSource[] = [];\r\n                    for (let i = 0; i < rawSrces.length; i++) {\r\n                        srces.push({ src: rawSrces[i].file, type: \"application/x-mpegURL\", dlsrc: dlsrces[0], label: \"SD\" })\r\n                    }\r\n                    let tracks: VideoTypes.SubtitleSource[] = [];\r\n                    for (let track of rawTracks) {\r\n                        tracks.push({ src: track.file, label: track.label, default: track.default || false, kind: track.kind })\r\n                    }\r\n\r\n                    return {\r\n\r\n                        src: srces,\r\n                        tracks: tracks,\r\n                        title: title,\r\n                        poster: poster\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"Vidoza\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?vidoza\\.[^\\/,^\\.]{2,}\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.response;\r\n                    if (details.url.indexOf(\"/embed\") == -1) {\r\n                        if (HTML.indexOf(\"videojs('player')\") == -1) {\r\n                            throw Error(\"No Video!\");\r\n                        }\r\n                        else {\r\n                            location.href = location.href.replace(\"vidoza.net/\", \"vidoza.net/embed-\").replace(/\\.html.*/, \".html\");\r\n                            throw Error(\"No embed Video! Redirecting...\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        let rawsources = JSON.parse(HTML.match(/sourcesCode: (\\[\\{.*\\}\\])/)[1].replace(/src:/g, '\"src\":').replace(/type:/g, '\"type\":').replace(/label:/g, '\"label\":').replace(/res:/g, '\"res\":'));\r\n                        let sources: VideoTypes.VideoSource[] = [];\r\n                        for (let src of rawsources) {\r\n                            sources.push({ src: src.src, label: src.res, type: src.type });\r\n                        }\r\n                        let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n                        let poster = Tools.matchNull(HTML, /poster: \"([^\"]*)\"/);\r\n                        return {\r\n                            src: sources,\r\n                            poster: poster,\r\n                            title: title,\r\n                            tracks: []\r\n                        };\r\n                    }\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"MP4Upload\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?mp4upload\\.[^\\/,^\\.]{2,}\\/embed\\-.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.response;\r\n                    if (HTML.indexOf(\"File was deleted\") != -1) {\r\n                        throw Error(\"No Video!\");\r\n                    }\r\n                    let evalStr = HTML.match(/(eval\\(function\\(p,a,c,k,e,d\\).*\\.split\\('\\|'\\)\\)\\))/)[1];\r\n                    let code = Tools.unpackJS(evalStr);\r\n                    let hash = JSON.parse(code.match(/player\\.setup\\((.*),\"height\"/)![1] + \"}\");\r\n\r\n                    let src = hash.file;\r\n                    let poster = hash.image;\r\n                    return {\r\n                        src: [{ type: \"video/mp4\", src: src, label: \"SD\" }],\r\n                        poster: poster,\r\n                        title: \"MP4Upload Video\",\r\n                        tracks: []\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"Vivo\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?vivo\\.[^\\/,^\\.]{2,}\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.response;\r\n                    let videoURL = atob(HTML.match(/data-stream=\"([^\"]*)\"/)[1]);\r\n                    let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n\r\n                    return {\r\n                        src: [{ type: \"video/mp4\", src: videoURL, label: \"SD\" }],\r\n                        title: title,\r\n                        tracks: [],\r\n                        poster: \"\"\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"VidTo\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?vidto\\.[^\\/,^\\.]{2,}\\//i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    if (details.url.indexOf(\"embed-\") == -1 && details.url.indexOf(\".html\") != -1) {\r\n                        details.url = details.url.replace(/vidto\\.[^\\/,^\\.]{2,}\\//, \"vidto.me/embed-\");\r\n                    }\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.responseText;\r\n                    if (xhr.status != 200 || HTML.indexOf(\"File Does not Exist, or Has Been Removed\") != -1) {\r\n                        throw Error(\"No Video!\");\r\n                    }\r\n                    let playerHashStr = \"{\" + HTML.match(/\\.setup\\(\\{(.*)duration:/)![1] + \"}\";\r\n\r\n                    let sources = playerHashStr.match(/sources:(.*\\}\\]),/)![1];\r\n                    sources = sources.replace(/file:/g, '\"src\":');\r\n                    sources = sources.replace(/label:/g, '\"label\":');\r\n                    let srcObj = JSON.parse(sources);\r\n                    srcObj[0].default = true;\r\n                    let image = Tools.matchNull(playerHashStr, /image: \"([^\"]*)\"/);\r\n                    return {\r\n                        src: srcObj,\r\n                        title: \"VidTo.me video\",\r\n                        poster: image,\r\n                        tracks: []\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"StreamCloud\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?streamcloud\\.[^\\/,^\\.]{2,}\\/([^\\.]+)(\\.html)?/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_idle,\r\n                hide_page: false,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    return new Promise<VideoTypes.RawVideoData>(function(resolve, reject) {\r\n                        let button = document.getElementsByName('imhuman')[0];\r\n                        if (button == undefined) {\r\n                            reject(Error(\"No Video!\"));\r\n                        }\r\n                        else {\r\n                            Page.addAttributeListener(button, \"class\", async function() {\r\n                                if (button.className == 'button gray blue') {\r\n                                    let xhr = await Tools.createRequest({\r\n                                        url: details.url,\r\n                                        type: Tools.HTTPMethods.POST,\r\n                                        protocol: \"http://\",\r\n                                        formData: {\r\n                                            op: \"download1\",\r\n                                            id: details.match[2].match(/([^\\/]*)(\\/.*)?/)![1]\r\n                                        }\r\n                                    });\r\n\r\n                                    suspectSubtitledVideo(details, xhr);\r\n                                    let HTML = xhr.response;\r\n                                    console.log(HTML);\r\n\r\n                                    let videoHashStr = HTML.match(/jwplayer\\(\"mediaplayer\"\\)\\.setup\\(([^\\)]*)/)[1];\r\n                                    let src = videoHashStr.match(/file: \"([^\"]*)\"/)[1];\r\n                                    let poster = Tools.matchNull(videoHashStr, /image: \"([^\"]*)\"/);\r\n                                    let title = Tools.matchNull(HTML, /<title>([^<]*)<\\/title>/);\r\n                                    resolve({\r\n\r\n                                        src: [{\r\n                                            type: \"video/mp4\",\r\n                                            src: src,\r\n                                            label: \"SD\"\r\n                                        }],\r\n                                        title: title,\r\n                                        poster: poster,\r\n                                        tracks: []\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"VevIO\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?vev\\.[^\\/,^\\.]{2,}\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    async function getVideoCode() {\r\n                        if (details.url.indexOf(\"embed\") == -1) {\r\n\r\n                            let xhr = await Tools.createRequest({ url: details.url })\r\n                            suspectSubtitledVideo(details, xhr);\r\n                            if (xhr.response.indexOf('class=\"video-main\"') != -1) {\r\n                                return details.url.substr(details.url.lastIndexOf(\"/\"));\r\n                            }\r\n                            else {\r\n                                throw Error(\"Not a Video!\");\r\n                            }\r\n\r\n\r\n                        }\r\n                        else {\r\n                            return details.url.substr(details.url.lastIndexOf(\"/\") + 1);\r\n                        }\r\n                    }\r\n                    let videoCode = await getVideoCode();\r\n                    let xhrs = await Promise.all([\r\n                        Tools.createRequest({ url: \"https://vev.io/api/serve/video/\" + videoCode, type: Tools.HTTPMethods.POST }),\r\n                        Tools.createRequest({ url: \"https://vev.io/api/serve/video/\" + videoCode })\r\n                    ]);\r\n\r\n                    let videoJSON = JSON.parse(xhrs[0].response);\r\n                    let videoDesc = JSON.parse(xhrs[1].response);\r\n\r\n                    let srces: VideoTypes.VideoSource[] = [];\r\n                    for (let key in videoJSON.qualities) {\r\n                        srces.push({ label: key, src: videoJSON.qualities[key], type: \"video/mp4\" });\r\n                    }\r\n                    srces = srces.reverse();\r\n                    srces[0].default = true;\r\n                    return {\r\n\r\n                        src: srces,\r\n                        poster: videoJSON.poster,\r\n                        tracks: videoJSON.subtitles,\r\n                        title: videoDesc.video.title\r\n\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"Vidzi\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?vidzi\\.[^\\/,^\\.]{2,}\\/.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    if (details.url.indexOf(\"embed-\") != -1) {\r\n                        if (details.url.indexOf(\"-\") == details.url.lastIndexOf(\"-\")) {\r\n                            details.url = details.url.replace(\"embed-\", \"\");\r\n                        }\r\n                        else {\r\n                            details.url = \"https://www.vidzi.tv/\" + details.url.match(/embed\\-([^\\-]*)\\-/)![1];\r\n                        }\r\n                        console.log(details.url);\r\n                    }\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.responseText;\r\n                    if (xhr.status != 200 || HTML.indexOf(\"file was deleted\") != -1 || HTML.indexOf(\"yt-uix-form-textarea share-embed-code\") == -1) {\r\n                        throw Error(\"No Video!\");\r\n                    }\r\n                    let videoHash = HTML.match(/jwplayer\\(\"vplayer\"\\)\\.setup\\(\\{(.*)\\}\\);/)![1];\r\n                    let image = Tools.matchNull(videoHash, /image: \"([^\"]*)\"/);\r\n                    let src = videoHash.match(/sources: \\[\\{file: \"([^\"]*)\"/)![1];\r\n                    let title = Tools.matchNull(HTML, /<title>([<\"]*)<\\/title>/i);\r\n\r\n                    return {\r\n                        src: [{ src: src, type: \"application/x-mpegURL\", label: \"SD\" }],\r\n                        title: title,\r\n                        poster: image,\r\n                        tracks: []\r\n                    }\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"SpeedVid\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?speedvid\\.[^\\/,^\\.]{2,}\\/[^\\/]+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    if (details.url.indexOf(\"sn-\") != -1) {\r\n                        details.url = \"https://www.speedvid.net/\" + details.url.match(/sn\\-([^\\-]*)\\-/i)![1];\r\n                    }\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.responseText;\r\n                    if (xhr.status != 200 || HTML.indexOf(\"<Title>Watch </Title>\") == -1) {\r\n                        throw Error(\"No Video!\");\r\n                    }\r\n                    let image = Tools.matchNull(HTML, /image:'([^']*)'/);\r\n                    let src = HTML.match(/file: '([^']*)'/)![1];\r\n                    let title = Tools.matchNull(HTML, /div class=\"dltitre\">([^<]*)<\\/div>/);\r\n\r\n                    return {\r\n                        src: [{ src: src, type: \"video/mp4\", label: \"SD\" }],\r\n                        title: title,\r\n                        poster: image,\r\n                        tracks: []\r\n                    }\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"VidLox\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?vidlox\\.[^\\/,^\\.]{2,}\\/embed\\-.+/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    let xhr = await Tools.createRequest({ url: details.url, hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.response;\r\n                    console.log(HTML);\r\n                    let src = JSON.parse(HTML.match(/sources: (\\[.*\\]),/)[1])[0];\r\n                    //let title = HTML.match(/<title>([<\"]*)<\\/title>/i)[1];\r\n                    let poster = Tools.matchNull(HTML, /poster: \"([^\"]*)\"/);\r\n                    return {\r\n                        src: [{ type: \"application/x-mpegURL\", src: src, label: \"SD\" }],\r\n                        poster: poster,\r\n                        title: \"VidLox Video\",\r\n                        tracks: []\r\n                    };\r\n\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n    ScriptBase.addRedirectHost({\r\n        name: \"FlashX\",\r\n        scripts: [{\r\n            urlPattern: /https?:\\/\\/(www\\.)?flashx\\.[^\\/,^\\.]{2,}\\/(embed.php\\?c=(.*)|(.*)\\.jsp|playvideo\\-(.*)\\.html\\?playvid)/i,\r\n            runScopes: [{\r\n                run_at: ScriptBase.RunScopes.document_start,\r\n                script: async function(details): Promise<VideoTypes.RawVideoData> {\r\n                    async function getVideoCode() {\r\n                        if (details.match[5]) {\r\n                            return details.match[5];\r\n                        }\r\n                        else {\r\n                            await Promise.all([\r\n                                Tools.createRequest({ url: \"https://flashx.co/counter.cgi\" }),\r\n                                Tools.createRequest({ url: \"https://flashx.co/flashx.php?f=fail&fxfx=6\" })\r\n                            ]);\r\n                            return details.match[3] || details.match[4];\r\n                        }\r\n                    }\r\n                    let videoCode = await getVideoCode();\r\n                    let xhr = await Tools.createRequest({ url: \"https://flashx.co/playvideo-\" + videoCode + \".html?playvid\", hideRef: true });\r\n                    suspectSubtitledVideo(details, xhr);\r\n                    let HTML = xhr.responseText;\r\n\r\n                    if (xhr.status != 200 || HTML.indexOf(\"Sorry, file was deleted or the link is expired!\") != -1) {\r\n                        throw Error(\"No Video!\");\r\n                    }\r\n\r\n                    let srcHashStr = HTML.match(/updateSrc\\(([^\\)]*)\\)/)![1];\r\n                    srcHashStr = srcHashStr.substr(0, srcHashStr.lastIndexOf(\",\")) + \"]\";\r\n                    srcHashStr = srcHashStr.replace(/src:/g, '\"src\":');\r\n                    srcHashStr = srcHashStr.replace(/label:/g, '\"label\":');\r\n                    srcHashStr = srcHashStr.replace(/res:/g, '\"res\":');\r\n                    srcHashStr = srcHashStr.replace(/type:/g, '\"type\":');\r\n                    srcHashStr = srcHashStr.replace(/'/g, '\"');\r\n                    console.log(srcHashStr)\r\n                    let src = JSON.parse(srcHashStr);\r\n                    let poster = Tools.matchNull(HTML, /poster=\"([^\"]*)\"/);\r\n\r\n                    return {\r\n                        src: [{ src: src[0].src, type: src[0].type, label: \"SD\" }],\r\n                        poster: poster,\r\n                        tracks: [],\r\n                        title: \"FlashX Video\"\r\n                    };\r\n                }\r\n            }]\r\n        }]\r\n    });\r\n}\r\n"],"sourceRoot":""}